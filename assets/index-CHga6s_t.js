function U6(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in e)){const u=Object.getOwnPropertyDescriptor(i,c);u&&Object.defineProperty(e,c,u.get?u:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();const H6="modulepreload",W6=function(e){return"/FilTracker/"+e},gx={},z6=function(t,n,i){let c=Promise.resolve();if(n&&n.length>0){let h=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const w=document.querySelector("meta[property=csp-nonce]"),y=(w==null?void 0:w.nonce)||(w==null?void 0:w.getAttribute("nonce"));c=h(n.map(g=>{if(g=W6(g),g in gx)return;gx[g]=!0;const b=g.endsWith(".css"),E=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${E}`))return;const T=document.createElement("link");if(T.rel=b?"stylesheet":H6,b||(T.as="script"),T.crossOrigin="",T.href=g,y&&T.setAttribute("nonce",y),document.head.appendChild(T),b)return new Promise((R,O)=>{T.addEventListener("load",R),T.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=h,window.dispatchEvent(w),!w.defaultPrevented)throw h}return c.then(h=>{for(const w of h||[])w.status==="rejected"&&u(w.reason);return t().catch(u)})};var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h1={exports:{}},Oc={},p1={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function G6(){if(xx)return sn;xx=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function T(J){return J===null||typeof J!="object"?null:(J=E&&J[E]||J["@@iterator"],typeof J=="function"?J:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,k={};function F(J,de,ve){this.props=J,this.context=de,this.refs=k,this.updater=ve||R}F.prototype.isReactComponent={},F.prototype.setState=function(J,de){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,de,"setState")},F.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function G(){}G.prototype=F.prototype;function z(J,de,ve){this.props=J,this.context=de,this.refs=k,this.updater=ve||R}var U=z.prototype=new G;U.constructor=z,O(U,F.prototype),U.isPureReactComponent=!0;var Z=Array.isArray,re=Object.prototype.hasOwnProperty,le={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function L(J,de,ve){var Re,Ge={},Ie=null,Le=null;if(de!=null)for(Re in de.ref!==void 0&&(Le=de.ref),de.key!==void 0&&(Ie=""+de.key),de)re.call(de,Re)&&!P.hasOwnProperty(Re)&&(Ge[Re]=de[Re]);var Fe=arguments.length-2;if(Fe===1)Ge.children=ve;else if(1<Fe){for(var Ue=Array(Fe),Se=0;Se<Fe;Se++)Ue[Se]=arguments[Se+2];Ge.children=Ue}if(J&&J.defaultProps)for(Re in Fe=J.defaultProps,Fe)Ge[Re]===void 0&&(Ge[Re]=Fe[Re]);return{$$typeof:e,type:J,key:Ie,ref:Le,props:Ge,_owner:le.current}}function B(J,de){return{$$typeof:e,type:J.type,key:de,ref:J.ref,props:J.props,_owner:J._owner}}function K(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function q(J){var de={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(ve){return de[ve]})}var ee=/\/+/g;function X(J,de){return typeof J=="object"&&J!==null&&J.key!=null?q(""+J.key):de.toString(36)}function Pe(J,de,ve,Re,Ge){var Ie=typeof J;(Ie==="undefined"||Ie==="boolean")&&(J=null);var Le=!1;if(J===null)Le=!0;else switch(Ie){case"string":case"number":Le=!0;break;case"object":switch(J.$$typeof){case e:case t:Le=!0}}if(Le)return Le=J,Ge=Ge(Le),J=Re===""?"."+X(Le,0):Re,Z(Ge)?(ve="",J!=null&&(ve=J.replace(ee,"$&/")+"/"),Pe(Ge,de,ve,"",function(Se){return Se})):Ge!=null&&(K(Ge)&&(Ge=B(Ge,ve+(!Ge.key||Le&&Le.key===Ge.key?"":(""+Ge.key).replace(ee,"$&/")+"/")+J)),de.push(Ge)),1;if(Le=0,Re=Re===""?".":Re+":",Z(J))for(var Fe=0;Fe<J.length;Fe++){Ie=J[Fe];var Ue=Re+X(Ie,Fe);Le+=Pe(Ie,de,ve,Ue,Ge)}else if(Ue=T(J),typeof Ue=="function")for(J=Ue.call(J),Fe=0;!(Ie=J.next()).done;)Ie=Ie.value,Ue=Re+X(Ie,Fe++),Le+=Pe(Ie,de,ve,Ue,Ge);else if(Ie==="object")throw de=String(J),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return Le}function ne(J,de,ve){if(J==null)return J;var Re=[],Ge=0;return Pe(J,Re,"","",function(Ie){return de.call(ve,Ie,Ge++)}),Re}function we(J){if(J._status===-1){var de=J._result;de=de(),de.then(function(ve){(J._status===0||J._status===-1)&&(J._status=1,J._result=ve)},function(ve){(J._status===0||J._status===-1)&&(J._status=2,J._result=ve)}),J._status===-1&&(J._status=0,J._result=de)}if(J._status===1)return J._result.default;throw J._result}var xe={current:null},oe={transition:null},ce={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:le};function ue(){throw Error("act(...) is not supported in production builds of React.")}return sn.Children={map:ne,forEach:function(J,de,ve){ne(J,function(){de.apply(this,arguments)},ve)},count:function(J){var de=0;return ne(J,function(){de++}),de},toArray:function(J){return ne(J,function(de){return de})||[]},only:function(J){if(!K(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},sn.Component=F,sn.Fragment=n,sn.Profiler=c,sn.PureComponent=z,sn.StrictMode=i,sn.Suspense=y,sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,sn.act=ue,sn.cloneElement=function(J,de,ve){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var Re=O({},J.props),Ge=J.key,Ie=J.ref,Le=J._owner;if(de!=null){if(de.ref!==void 0&&(Ie=de.ref,Le=le.current),de.key!==void 0&&(Ge=""+de.key),J.type&&J.type.defaultProps)var Fe=J.type.defaultProps;for(Ue in de)re.call(de,Ue)&&!P.hasOwnProperty(Ue)&&(Re[Ue]=de[Ue]===void 0&&Fe!==void 0?Fe[Ue]:de[Ue])}var Ue=arguments.length-2;if(Ue===1)Re.children=ve;else if(1<Ue){Fe=Array(Ue);for(var Se=0;Se<Ue;Se++)Fe[Se]=arguments[Se+2];Re.children=Fe}return{$$typeof:e,type:J.type,key:Ge,ref:Ie,props:Re,_owner:Le}},sn.createContext=function(J){return J={$$typeof:h,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:u,_context:J},J.Consumer=J},sn.createElement=L,sn.createFactory=function(J){var de=L.bind(null,J);return de.type=J,de},sn.createRef=function(){return{current:null}},sn.forwardRef=function(J){return{$$typeof:w,render:J}},sn.isValidElement=K,sn.lazy=function(J){return{$$typeof:b,_payload:{_status:-1,_result:J},_init:we}},sn.memo=function(J,de){return{$$typeof:g,type:J,compare:de===void 0?null:de}},sn.startTransition=function(J){var de=oe.transition;oe.transition={};try{J()}finally{oe.transition=de}},sn.unstable_act=ue,sn.useCallback=function(J,de){return xe.current.useCallback(J,de)},sn.useContext=function(J){return xe.current.useContext(J)},sn.useDebugValue=function(){},sn.useDeferredValue=function(J){return xe.current.useDeferredValue(J)},sn.useEffect=function(J,de){return xe.current.useEffect(J,de)},sn.useId=function(){return xe.current.useId()},sn.useImperativeHandle=function(J,de,ve){return xe.current.useImperativeHandle(J,de,ve)},sn.useInsertionEffect=function(J,de){return xe.current.useInsertionEffect(J,de)},sn.useLayoutEffect=function(J,de){return xe.current.useLayoutEffect(J,de)},sn.useMemo=function(J,de){return xe.current.useMemo(J,de)},sn.useReducer=function(J,de,ve){return xe.current.useReducer(J,de,ve)},sn.useRef=function(J){return xe.current.useRef(J)},sn.useState=function(J){return xe.current.useState(J)},sn.useSyncExternalStore=function(J,de,ve){return xe.current.useSyncExternalStore(J,de,ve)},sn.useTransition=function(){return xe.current.useTransition()},sn.version="18.3.1",sn}var wx;function Dp(){return wx||(wx=1,p1.exports=G6()),p1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function X6(){if(yx)return Oc;yx=1;var e=Dp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(w,y,g){var b,E={},T=null,R=null;g!==void 0&&(T=""+g),y.key!==void 0&&(T=""+y.key),y.ref!==void 0&&(R=y.ref);for(b in y)i.call(y,b)&&!u.hasOwnProperty(b)&&(E[b]=y[b]);if(w&&w.defaultProps)for(b in y=w.defaultProps,y)E[b]===void 0&&(E[b]=y[b]);return{$$typeof:t,type:w,key:T,ref:R,props:E,_owner:c.current}}return Oc.Fragment=n,Oc.jsx=h,Oc.jsxs=h,Oc}var vx;function $6(){return vx||(vx=1,h1.exports=X6()),h1.exports}var x=$6(),Ad={},m1={exports:{}},Pi={},g1={exports:{}},x1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function Y6(){return Cx||(Cx=1,(function(e){function t(oe,ce){var ue=oe.length;oe.push(ce);e:for(;0<ue;){var J=ue-1>>>1,de=oe[J];if(0<c(de,ce))oe[J]=ce,oe[ue]=de,ue=J;else break e}}function n(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var ce=oe[0],ue=oe.pop();if(ue!==ce){oe[0]=ue;e:for(var J=0,de=oe.length,ve=de>>>1;J<ve;){var Re=2*(J+1)-1,Ge=oe[Re],Ie=Re+1,Le=oe[Ie];if(0>c(Ge,ue))Ie<de&&0>c(Le,Ge)?(oe[J]=Le,oe[Ie]=ue,J=Ie):(oe[J]=Ge,oe[Re]=ue,J=Re);else if(Ie<de&&0>c(Le,ue))oe[J]=Le,oe[Ie]=ue,J=Ie;else break e}}return ce}function c(oe,ce){var ue=oe.sortIndex-ce.sortIndex;return ue!==0?ue:oe.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,w=h.now();e.unstable_now=function(){return h.now()-w}}var y=[],g=[],b=1,E=null,T=3,R=!1,O=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(oe){for(var ce=n(g);ce!==null;){if(ce.callback===null)i(g);else if(ce.startTime<=oe)i(g),ce.sortIndex=ce.expirationTime,t(y,ce);else break;ce=n(g)}}function Z(oe){if(k=!1,U(oe),!O)if(n(y)!==null)O=!0,we(re);else{var ce=n(g);ce!==null&&xe(Z,ce.startTime-oe)}}function re(oe,ce){O=!1,k&&(k=!1,G(L),L=-1),R=!0;var ue=T;try{for(U(ce),E=n(y);E!==null&&(!(E.expirationTime>ce)||oe&&!q());){var J=E.callback;if(typeof J=="function"){E.callback=null,T=E.priorityLevel;var de=J(E.expirationTime<=ce);ce=e.unstable_now(),typeof de=="function"?E.callback=de:E===n(y)&&i(y),U(ce)}else i(y);E=n(y)}if(E!==null)var ve=!0;else{var Re=n(g);Re!==null&&xe(Z,Re.startTime-ce),ve=!1}return ve}finally{E=null,T=ue,R=!1}}var le=!1,P=null,L=-1,B=5,K=-1;function q(){return!(e.unstable_now()-K<B)}function ee(){if(P!==null){var oe=e.unstable_now();K=oe;var ce=!0;try{ce=P(!0,oe)}finally{ce?X():(le=!1,P=null)}}else le=!1}var X;if(typeof z=="function")X=function(){z(ee)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ne=Pe.port2;Pe.port1.onmessage=ee,X=function(){ne.postMessage(null)}}else X=function(){F(ee,0)};function we(oe){P=oe,le||(le=!0,X())}function xe(oe,ce){L=F(function(){oe(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){O||R||(O=!0,we(re))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return n(y)},e.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var ue=T;T=ce;try{return oe()}finally{T=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,ce){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=T;T=oe;try{return ce()}finally{T=ue}},e.unstable_scheduleCallback=function(oe,ce,ue){var J=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?J+ue:J):ue=J,oe){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ue+de,oe={id:b++,callback:ce,priorityLevel:oe,startTime:ue,expirationTime:de,sortIndex:-1},ue>J?(oe.sortIndex=ue,t(g,oe),n(y)===null&&oe===n(g)&&(k?(G(L),L=-1):k=!0,xe(Z,ue-J))):(oe.sortIndex=de,t(y,oe),O||R||(O=!0,we(re))),oe},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(oe){var ce=T;return function(){var ue=T;T=ce;try{return oe.apply(this,arguments)}finally{T=ue}}}})(x1)),x1}var Ex;function Z6(){return Ex||(Ex=1,g1.exports=Y6()),g1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function K6(){if(bx)return Pi;bx=1;var e=Dp(),t=Z6();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,m=1;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function u(s,l){h(s,l),h(s+"Capture",l)}function h(s,l){for(c[s]=l,s=0;s<l.length;s++)i.add(l[s])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},E={};function T(s){return y.call(E,s)?!0:y.call(b,s)?!1:g.test(s)?E[s]=!0:(b[s]=!0,!1)}function R(s,l,m,S){if(m!==null&&m.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return S?!1:m!==null?!m.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,l,m,S){if(l===null||typeof l>"u"||R(s,l,m,S))return!0;if(S)return!1;if(m!==null)switch(m.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(s,l,m,S,N,D,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=S,this.attributeNamespace=N,this.mustUseProperty=m,this.propertyName=s,this.type=l,this.sanitizeURL=D,this.removeEmptyString=$}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){F[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];F[l]=new k(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){F[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){F[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){F[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){F[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){F[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){F[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){F[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(G,z);F[l]=new k(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(G,z);F[l]=new k(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(G,z);F[l]=new k(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){F[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),F.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){F[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,l,m,S){var N=F.hasOwnProperty(l)?F[l]:null;(N!==null?N.type!==0:S||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(O(l,m,N,S)&&(m=null),S||N===null?T(l)&&(m===null?s.removeAttribute(l):s.setAttribute(l,""+m)):N.mustUseProperty?s[N.propertyName]=m===null?N.type===3?!1:"":m:(l=N.attributeName,S=N.attributeNamespace,m===null?s.removeAttribute(l):(N=N.type,m=N===3||N===4&&m===!0?"":""+m,S?s.setAttributeNS(S,l,m):s.setAttribute(l,m))))}var Z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),le=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,J;function de(s){if(J===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);J=l&&l[1]||""}return`
`+J+s}var ve=!1;function Re(s,l){if(!s||ve)return"";ve=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Oe){var S=Oe}Reflect.construct(s,[],l)}else{try{l.call()}catch(Oe){S=Oe}s.call(l.prototype)}else{try{throw Error()}catch(Oe){S=Oe}s()}}catch(Oe){if(Oe&&S&&typeof Oe.stack=="string"){for(var N=Oe.stack.split(`
`),D=S.stack.split(`
`),$=N.length-1,ae=D.length-1;1<=$&&0<=ae&&N[$]!==D[ae];)ae--;for(;1<=$&&0<=ae;$--,ae--)if(N[$]!==D[ae]){if($!==1||ae!==1)do if($--,ae--,0>ae||N[$]!==D[ae]){var he=`
`+N[$].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=$&&0<=ae);break}}}finally{ve=!1,Error.prepareStackTrace=m}return(s=s?s.displayName||s.name:"")?de(s):""}function Ge(s){switch(s.tag){case 5:return de(s.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function Ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case le:return"Portal";case B:return"Profiler";case L:return"StrictMode";case X:return"Suspense";case Pe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case q:return(s.displayName||"Context")+".Consumer";case K:return(s._context.displayName||"Context")+".Provider";case ee:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ne:return l=s.displayName||null,l!==null?l:Ie(s.type)||"Memo";case we:l=s._payload,s=s._init;try{return Ie(s(l))}catch{}}return null}function Le(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(l);case 8:return l===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ue(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Se(s){var l=Ue(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),S=""+s[l];if(!s.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,D=m.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return N.call(this)},set:function($){S=""+$,D.call(this,$)}}),Object.defineProperty(s,l,{enumerable:m.enumerable}),{getValue:function(){return S},setValue:function($){S=""+$},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ve(s){s._valueTracker||(s._valueTracker=Se(s))}function Ye(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var m=l.getValue(),S="";return s&&(S=Ue(s)?s.checked?"true":"false":s.value),s=S,s!==m?(l.setValue(s),!0):!1}function tt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Je(s,l){var m=l.checked;return ue({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??s._wrapperState.initialChecked})}function tn(s,l){var m=l.defaultValue==null?"":l.defaultValue,S=l.checked!=null?l.checked:l.defaultChecked;m=Fe(l.value!=null?l.value:m),s._wrapperState={initialChecked:S,initialValue:m,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function nn(s,l){l=l.checked,l!=null&&U(s,"checked",l,!1)}function Gt(s,l){nn(s,l);var m=Fe(l.value),S=l.type;if(m!=null)S==="number"?(m===0&&s.value===""||s.value!=m)&&(s.value=""+m):s.value!==""+m&&(s.value=""+m);else if(S==="submit"||S==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?it(s,l.type,m):l.hasOwnProperty("defaultValue")&&it(s,l.type,Fe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Zt(s,l,m){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var S=l.type;if(!(S!=="submit"&&S!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,m||l===s.value||(s.value=l),s.defaultValue=l}m=s.name,m!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,m!==""&&(s.name=m)}function it(s,l,m){(l!=="number"||tt(s.ownerDocument)!==s)&&(m==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+m&&(s.defaultValue=""+m))}var on=Array.isArray;function rt(s,l,m,S){if(s=s.options,l){l={};for(var N=0;N<m.length;N++)l["$"+m[N]]=!0;for(m=0;m<s.length;m++)N=l.hasOwnProperty("$"+s[m].value),s[m].selected!==N&&(s[m].selected=N),N&&S&&(s[m].defaultSelected=!0)}else{for(m=""+Fe(m),l=null,N=0;N<s.length;N++){if(s[N].value===m){s[N].selected=!0,S&&(s[N].defaultSelected=!0);return}l!==null||s[N].disabled||(l=s[N])}l!==null&&(l.selected=!0)}}function Ln(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ir(s,l){var m=l.value;if(m==null){if(m=l.children,l=l.defaultValue,m!=null){if(l!=null)throw Error(n(92));if(on(m)){if(1<m.length)throw Error(n(93));m=m[0]}l=m}l==null&&(l=""),m=l}s._wrapperState={initialValue:Fe(m)}}function Un(s,l){var m=Fe(l.value),S=Fe(l.defaultValue);m!=null&&(m=""+m,m!==s.value&&(s.value=m),l.defaultValue==null&&s.defaultValue!==m&&(s.defaultValue=m)),S!=null&&(s.defaultValue=""+S)}function sr(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function jn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $r(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?jn(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mn,un=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,m,S,N){MSApp.execUnsafeLocalFunction(function(){return s(l,m,S,N)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(mn=mn||document.createElement("div"),mn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=mn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function or(s,l){if(l){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=l;return}}s.textContent=l}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(s){hr.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Ir[l]=Ir[s]})});function dn(s,l,m){return l==null||typeof l=="boolean"||l===""?"":m||typeof l!="number"||l===0||Ir.hasOwnProperty(s)&&Ir[s]?(""+l).trim():l+"px"}function Xe(s,l){s=s.style;for(var m in l)if(l.hasOwnProperty(m)){var S=m.indexOf("--")===0,N=dn(m,l[m],S);m==="float"&&(m="cssFloat"),S?s.setProperty(m,N):s[m]=N}}var En=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wt(s,l){if(l){if(En[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function fn(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=null;function ct(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bt=null,lt=null,ut=null;function gn(s){if(s=yc(s)){if(typeof Bt!="function")throw Error(n(280));var l=s.stateNode;l&&(l=Fu(l),Bt(s.stateNode,s.type,l))}}function dt(s){lt?ut?ut.push(s):ut=[s]:lt=s}function Tt(){if(lt){var s=lt,l=ut;if(ut=lt=null,gn(s),l)for(s=0;s<l.length;s++)gn(l[s])}}function an(s,l){return s(l)}function Dt(){}var xn=!1;function qt(s,l,m){if(xn)return s(l,m);xn=!0;try{return an(s,l,m)}finally{xn=!1,(lt!==null||ut!==null)&&(Dt(),Tt())}}function Xt(s,l){var m=s.stateNode;if(m===null)return null;var S=Fu(m);if(S===null)return null;m=S[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(s=s.type,S=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!S;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(n(231,l,typeof m));return m}var Er=!1;if(w)try{var se={};Object.defineProperty(se,"passive",{get:function(){Er=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Er=!1}function me(s,l,m,S,N,D,$,ae,he){var Oe=Array.prototype.slice.call(arguments,3);try{l.apply(m,Oe)}catch($e){this.onError($e)}}var Ce=!1,je=null,He=!1,ke=null,gt={onError:function(s){Ce=!0,je=s}};function st(s,l,m,S,N,D,$,ae,he){Ce=!1,je=null,me.apply(gt,arguments)}function nt(s,l,m,S,N,D,$,ae,he){if(st.apply(this,arguments),Ce){if(Ce){var Oe=je;Ce=!1,je=null}else throw Error(n(198));He||(He=!0,ke=Oe)}}function ot(s){var l=s,m=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(m=l.return),s=l.return;while(s)}return l.tag===3?m:null}function _t(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function pt(s){if(ot(s)!==s)throw Error(n(188))}function It(s){var l=s.alternate;if(!l){if(l=ot(s),l===null)throw Error(n(188));return l!==s?null:s}for(var m=s,S=l;;){var N=m.return;if(N===null)break;var D=N.alternate;if(D===null){if(S=N.return,S!==null){m=S;continue}break}if(N.child===D.child){for(D=N.child;D;){if(D===m)return pt(N),s;if(D===S)return pt(N),l;D=D.sibling}throw Error(n(188))}if(m.return!==S.return)m=N,S=D;else{for(var $=!1,ae=N.child;ae;){if(ae===m){$=!0,m=N,S=D;break}if(ae===S){$=!0,S=N,m=D;break}ae=ae.sibling}if(!$){for(ae=D.child;ae;){if(ae===m){$=!0,m=D,S=N;break}if(ae===S){$=!0,S=D,m=N;break}ae=ae.sibling}if(!$)throw Error(n(189))}}if(m.alternate!==S)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?s:l}function Kt(s){return s=It(s),s!==null?Bn(s):null}function Bn(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Bn(s);if(l!==null)return l;s=s.sibling}return null}var wn=t.unstable_scheduleCallback,rn=t.unstable_cancelCallback,Et=t.unstable_shouldYield,Xn=t.unstable_requestPaint,Yt=t.unstable_now,Mi=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,Fr=t.unstable_UserBlockingPriority,yn=t.unstable_NormalPriority,Vr=t.unstable_LowPriority,ei=t.unstable_IdlePriority,$t=null,Lt=null;function at(s){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot($t,s,void 0,(s.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:jt,br=Math.log,qn=Math.LN2;function jt(s){return s>>>=0,s===0?32:31-(br(s)/qn|0)|0}var Qn=64,Oi=4194304;function Nt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ur(s,l){var m=s.pendingLanes;if(m===0)return 0;var S=0,N=s.suspendedLanes,D=s.pingedLanes,$=m&268435455;if($!==0){var ae=$&~N;ae!==0?S=Nt(ae):(D&=$,D!==0&&(S=Nt(D)))}else $=m&~N,$!==0?S=Nt($):D!==0&&(S=Nt(D));if(S===0)return 0;if(l!==0&&l!==S&&(l&N)===0&&(N=S&-S,D=l&-l,N>=D||N===16&&(D&4194240)!==0))return l;if((S&4)!==0&&(S|=m&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=S;0<l;)m=31-vn(l),N=1<<m,S|=s[m],l&=~N;return S}function oo(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(s,l){for(var m=s.suspendedLanes,S=s.pingedLanes,N=s.expirationTimes,D=s.pendingLanes;0<D;){var $=31-vn(D),ae=1<<$,he=N[$];he===-1?((ae&m)===0||(ae&S)!==0)&&(N[$]=oo(ae,l)):he<=l&&(s.expiredLanes|=ae),D&=~ae}}function Tn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function pr(){var s=Qn;return Qn<<=1,(Qn&4194240)===0&&(Qn=64),s}function Ae(s){for(var l=[],m=0;31>m;m++)l.push(s);return l}function te(s,l,m){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-vn(l),s[l]=m}function bt(s,l){var m=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var S=s.eventTimes;for(s=s.expirationTimes;0<m;){var N=31-vn(m),D=1<<N;l[N]=0,S[N]=-1,s[N]=-1,m&=~D}}function Jn(s,l){var m=s.entangledLanes|=l;for(s=s.entanglements;m;){var S=31-vn(m),N=1<<S;N&l|s[S]&l&&(s[S]|=l),m&=~N}}var Ft=0;function qi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ao,Dr,At,Mn,Mo,Qi=!1,Ms=[],hi=null,Si=null,Mr=null,Hn=new Map,pi=new Map,mr=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Os(s,l){switch(s){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Hn.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(l.pointerId)}}function Mt(s,l,m,S,N,D){return s===null||s.nativeEvent!==D?(s={blockedOn:l,domEventName:m,eventSystemFlags:S,nativeEvent:D,targetContainers:[N]},l!==null&&(l=yc(l),l!==null&&Dr(l)),s):(s.eventSystemFlags|=S,l=s.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),s)}function gr(s,l,m,S,N){switch(l){case"focusin":return hi=Mt(hi,s,l,m,S,N),!0;case"dragenter":return Si=Mt(Si,s,l,m,S,N),!0;case"mouseover":return Mr=Mt(Mr,s,l,m,S,N),!0;case"pointerover":var D=N.pointerId;return Hn.set(D,Mt(Hn.get(D)||null,s,l,m,S,N)),!0;case"gotpointercapture":return D=N.pointerId,pi.set(D,Mt(pi.get(D)||null,s,l,m,S,N)),!0}return!1}function Oo(s){var l=Na(s.target);if(l!==null){var m=ot(l);if(m!==null){if(l=m.tag,l===13){if(l=_t(m),l!==null){s.blockedOn=l,Mo(s.priority,function(){At(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dn(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var m=lo(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(m===null){m=s.nativeEvent;var S=new m.constructor(m.type,m);Cr=S,m.target.dispatchEvent(S),Cr=null}else return l=yc(m),l!==null&&Dr(l),s.blockedOn=m,!1;l.shift()}return!0}function Ea(s,l,m){Dn(s)&&m.delete(l)}function ms(){Qi=!1,hi!==null&&Dn(hi)&&(hi=null),Si!==null&&Dn(Si)&&(Si=null),Mr!==null&&Dn(Mr)&&(Mr=null),Hn.forEach(Ea),pi.forEach(Ea)}function ks(s,l){s.blockedOn===l&&(s.blockedOn=null,Qi||(Qi=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ms)))}function Ai(s){function l(N){return ks(N,s)}if(0<Ms.length){ks(Ms[0],s);for(var m=1;m<Ms.length;m++){var S=Ms[m];S.blockedOn===s&&(S.blockedOn=null)}}for(hi!==null&&ks(hi,s),Si!==null&&ks(Si,s),Mr!==null&&ks(Mr,s),Hn.forEach(l),pi.forEach(l),m=0;m<mr.length;m++)S=mr[m],S.blockedOn===s&&(S.blockedOn=null);for(;0<mr.length&&(m=mr[0],m.blockedOn===null);)Oo(m),m.blockedOn===null&&mr.shift()}var mi=Z.ReactCurrentBatchConfig,gi=!0;function ki(s,l,m,S){var N=Ft,D=mi.transition;mi.transition=null;try{Ft=1,gs(s,l,m,S)}finally{Ft=N,mi.transition=D}}function Ls(s,l,m,S){var N=Ft,D=mi.transition;mi.transition=null;try{Ft=4,gs(s,l,m,S)}finally{Ft=N,mi.transition=D}}function gs(s,l,m,S){if(gi){var N=lo(s,l,m,S);if(N===null)rh(s,l,S,$n,m),Os(s,S);else if(gr(N,s,l,m,S))S.stopPropagation();else if(Os(s,S),l&4&&-1<Rt.indexOf(s)){for(;N!==null;){var D=yc(N);if(D!==null&&ao(D),D=lo(s,l,m,S),D===null&&rh(s,l,S,$n,m),D===N)break;N=D}N!==null&&S.stopPropagation()}else rh(s,l,S,null,m)}}var $n=null;function lo(s,l,m,S){if($n=null,s=ct(S),s=Na(s),s!==null)if(l=ot(s),l===null)s=null;else if(m=l.tag,m===13){if(s=_t(l),s!==null)return s;s=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return $n=s,null}function co(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mi()){case Be:return 1;case Fr:return 4;case yn:case Vr:return 16;case ei:return 536870912;default:return 16}default:return 16}}var ti=null,ko=null,xs=null;function fl(){if(xs)return xs;var s,l=ko,m=l.length,S,N="value"in ti?ti.value:ti.textContent,D=N.length;for(s=0;s<m&&l[s]===N[s];s++);var $=m-s;for(S=1;S<=$&&l[m-S]===N[D-S];S++);return xs=N.slice(s,1<S?1-S:void 0)}function hn(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Li(){return!0}function js(){return!1}function Yn(s){function l(m,S,N,D,$){this._reactName=m,this._targetInst=N,this.type=S,this.nativeEvent=D,this.target=$,this.currentTarget=null;for(var ae in s)s.hasOwnProperty(ae)&&(m=s[ae],this[ae]=m?m(D):D[ae]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Li:js,this.isPropagationStopped=js,this}return ue(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),l}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_e=Yn(Ji),Vt=ue({},Ji,{view:0,detail:0}),er=Yn(Vt),ws,uo,xi,fo=ue({},Vt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==xi&&(xi&&s.type==="mousemove"?(ws=s.screenX-xi.screenX,uo=s.screenY-xi.screenY):uo=ws=0,xi=s),ws)},movementY:function(s){return"movementY"in s?s.movementY:uo}}),ba=Yn(fo),Lo=ue({},fo,{dataTransfer:0}),tr=Yn(Lo),Hr=ue({},Vt,{relatedTarget:0}),On=Yn(Hr),ho=ue({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=Yn(ho),C=ue({},Ji,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_=Yn(C),V=ue({},Ji,{data:0}),Q=Yn(V),be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},De={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},et={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pt(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=et[s])?!!l[s]:!1}function Fn(){return Pt}var In=ue({},Vt,{key:function(s){if(s.key){var l=be[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=hn(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?De[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(s){return s.type==="keypress"?hn(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?hn(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nr=Yn(In),wi=ue({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Yn(wi),es=ue({},Vt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn}),Yr=Yn(es),Bs=ue({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sa=Yn(Bs),Aa=ue({},fo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Qf=Yn(Aa),Fs=[9,13,27,32],jo=w&&"CompositionEvent"in window,Wr=null;w&&"documentMode"in document&&(Wr=document.documentMode);var Pu=w&&"TextEvent"in window&&!Wr,Bi=w&&(!jo||Wr&&8<Wr&&11>=Wr),Du=" ",hl=!1;function Mu(s,l){switch(s){case"keyup":return Fs.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zr=!1;function Jf(s,l){switch(s){case"compositionend":return fc(l);case"keypress":return l.which!==32?null:(hl=!0,Du);case"textInput":return s=l.data,s===Du&&hl?null:s;default:return null}}function hc(s,l){if(Zr)return s==="compositionend"||!jo&&Mu(s,l)?(s=fl(),xs=ko=ti=null,Zr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Bi&&l.locale!=="ko"?null:l.data;default:return null}}var Ta={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Ta[s.type]:l==="textarea"}function Ia(s,l,m,S){dt(S),l=Lu(l,"onChange"),0<l.length&&(m=new _e("onChange","change",null,m,S),s.push({event:m,listeners:l}))}var H=null,r=null;function o(s){Dg(s,0)}function a(s){var l=gl(s);if(Ye(l))return s}function d(s,l){if(s==="change")return l}var f=!1;if(w){var p;if(w){var v="oninput"in document;if(!v){var A=document.createElement("div");A.setAttribute("oninput","return;"),v=typeof A.oninput=="function"}p=v}else p=!1;f=p&&(!document.documentMode||9<document.documentMode)}function I(){H&&(H.detachEvent("onpropertychange",j),r=H=null)}function j(s){if(s.propertyName==="value"&&a(r)){var l=[];Ia(l,r,s,ct(s)),qt(o,l)}}function W(s,l,m){s==="focusin"?(I(),H=l,r=m,H.attachEvent("onpropertychange",j)):s==="focusout"&&I()}function Y(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return a(r)}function ie(s,l){if(s==="click")return a(l)}function fe(s,l){if(s==="input"||s==="change")return a(l)}function pe(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ye=typeof Object.is=="function"?Object.is:pe;function Me(s,l){if(ye(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var m=Object.keys(s),S=Object.keys(l);if(m.length!==S.length)return!1;for(S=0;S<m.length;S++){var N=m[S];if(!y.call(l,N)||!ye(s[N],l[N]))return!1}return!0}function Ke(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qe(s,l){var m=Ke(s);s=0;for(var S;m;){if(m.nodeType===3){if(S=s+m.textContent.length,s<=l&&S>=l)return{node:m,offset:l-s};s=S}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ke(m)}}function ze(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?ze(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Qt(){for(var s=window,l=tt();l instanceof s.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)s=l.contentWindow;else break;l=tt(s.document)}return l}function zt(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function ri(s){var l=Qt(),m=s.focusedElem,S=s.selectionRange;if(l!==m&&m&&m.ownerDocument&&ze(m.ownerDocument.documentElement,m)){if(S!==null&&zt(m)){if(l=S.start,s=S.end,s===void 0&&(s=l),"selectionStart"in m)m.selectionStart=l,m.selectionEnd=Math.min(s,m.value.length);else if(s=(l=m.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var N=m.textContent.length,D=Math.min(S.start,N);S=S.end===void 0?D:Math.min(S.end,N),!s.extend&&D>S&&(N=S,S=D,D=N),N=qe(m,D);var $=qe(m,S);N&&$&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),s.removeAllRanges(),D>S?(s.addRange(l),s.extend($.node,$.offset)):(l.setEnd($.node,$.offset),s.addRange(l)))}}for(l=[],s=m;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<l.length;m++)s=l[m],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Fi=w&&"documentMode"in document&&11>=document.documentMode,Sr=null,Rn=null,ar=null,Kr=!1;function po(s,l,m){var S=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Kr||Sr==null||Sr!==tt(S)||(S=Sr,"selectionStart"in S&&zt(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ar&&Me(ar,S)||(ar=S,S=Lu(Rn,"onSelect"),0<S.length&&(l=new _e("onSelect","select",null,l,m),s.push({event:l,listeners:S}),l.target=Sr)))}function ys(s,l){var m={};return m[s.toLowerCase()]=l.toLowerCase(),m["Webkit"+s]="webkit"+l,m["Moz"+s]="moz"+l,m}var Bo={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},pc={},Sg={};w&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Ou(s){if(pc[s])return pc[s];if(!Bo[s])return s;var l=Bo[s],m;for(m in l)if(l.hasOwnProperty(m)&&m in Sg)return pc[s]=l[m];return s}var Ag=Ou("animationend"),Tg=Ou("animationiteration"),Ig=Ou("animationstart"),Ng=Ou("transitionend"),Rg=new Map,_g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(s,l){Rg.set(s,l),u(l,[s])}for(var eh=0;eh<_g.length;eh++){var th=_g[eh],KE=th.toLowerCase(),qE=th[0].toUpperCase()+th.slice(1);Fo(KE,"on"+qE)}Fo(Ag,"onAnimationEnd"),Fo(Tg,"onAnimationIteration"),Fo(Ig,"onAnimationStart"),Fo("dblclick","onDoubleClick"),Fo("focusin","onFocus"),Fo("focusout","onBlur"),Fo(Ng,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function Pg(s,l,m){var S=s.type||"unknown-event";s.currentTarget=m,nt(S,l,void 0,s),s.currentTarget=null}function Dg(s,l){l=(l&4)!==0;for(var m=0;m<s.length;m++){var S=s[m],N=S.event;S=S.listeners;e:{var D=void 0;if(l)for(var $=S.length-1;0<=$;$--){var ae=S[$],he=ae.instance,Oe=ae.currentTarget;if(ae=ae.listener,he!==D&&N.isPropagationStopped())break e;Pg(N,ae,Oe),D=he}else for($=0;$<S.length;$++){if(ae=S[$],he=ae.instance,Oe=ae.currentTarget,ae=ae.listener,he!==D&&N.isPropagationStopped())break e;Pg(N,ae,Oe),D=he}}}if(He)throw s=ke,He=!1,ke=null,s}function Zn(s,l){var m=l[ch];m===void 0&&(m=l[ch]=new Set);var S=s+"__bubble";m.has(S)||(Mg(l,s,2,!1),m.add(S))}function nh(s,l,m){var S=0;l&&(S|=4),Mg(m,s,S,l)}var ku="_reactListening"+Math.random().toString(36).slice(2);function gc(s){if(!s[ku]){s[ku]=!0,i.forEach(function(m){m!=="selectionchange"&&(QE.has(m)||nh(m,!1,s),nh(m,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[ku]||(l[ku]=!0,nh("selectionchange",!1,l))}}function Mg(s,l,m,S){switch(co(l)){case 1:var N=ki;break;case 4:N=Ls;break;default:N=gs}m=N.bind(null,l,m,s),N=void 0,!Er||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),S?N!==void 0?s.addEventListener(l,m,{capture:!0,passive:N}):s.addEventListener(l,m,!0):N!==void 0?s.addEventListener(l,m,{passive:N}):s.addEventListener(l,m,!1)}function rh(s,l,m,S,N){var D=S;if((l&1)===0&&(l&2)===0&&S!==null)e:for(;;){if(S===null)return;var $=S.tag;if($===3||$===4){var ae=S.stateNode.containerInfo;if(ae===N||ae.nodeType===8&&ae.parentNode===N)break;if($===4)for($=S.return;$!==null;){var he=$.tag;if((he===3||he===4)&&(he=$.stateNode.containerInfo,he===N||he.nodeType===8&&he.parentNode===N))return;$=$.return}for(;ae!==null;){if($=Na(ae),$===null)return;if(he=$.tag,he===5||he===6){S=D=$;continue e}ae=ae.parentNode}}S=S.return}qt(function(){var Oe=D,$e=ct(m),Ze=[];e:{var We=Rg.get(s);if(We!==void 0){var ft=_e,xt=s;switch(s){case"keypress":if(hn(m)===0)break e;case"keydown":case"keyup":ft=nr;break;case"focusin":xt="focus",ft=On;break;case"focusout":xt="blur",ft=On;break;case"beforeblur":case"afterblur":ft=On;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Yr;break;case Ag:case Tg:case Ig:ft=ni;break;case Ng:ft=Sa;break;case"scroll":ft=er;break;case"wheel":ft=Qf;break;case"copy":case"cut":case"paste":ft=_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=ji}var Ct=(l&4)!==0,Ar=!Ct&&s==="scroll",Te=Ct?We!==null?We+"Capture":null:We;Ct=[];for(var ge=Oe,Ne;ge!==null;){Ne=ge;var Qe=Ne.stateNode;if(Ne.tag===5&&Qe!==null&&(Ne=Qe,Te!==null&&(Qe=Xt(ge,Te),Qe!=null&&Ct.push(xc(ge,Qe,Ne)))),Ar)break;ge=ge.return}0<Ct.length&&(We=new ft(We,xt,null,m,$e),Ze.push({event:We,listeners:Ct}))}}if((l&7)===0){e:{if(We=s==="mouseover"||s==="pointerover",ft=s==="mouseout"||s==="pointerout",We&&m!==Cr&&(xt=m.relatedTarget||m.fromElement)&&(Na(xt)||xt[mo]))break e;if((ft||We)&&(We=$e.window===$e?$e:(We=$e.ownerDocument)?We.defaultView||We.parentWindow:window,ft?(xt=m.relatedTarget||m.toElement,ft=Oe,xt=xt?Na(xt):null,xt!==null&&(Ar=ot(xt),xt!==Ar||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(ft=null,xt=Oe),ft!==xt)){if(Ct=ba,Qe="onMouseLeave",Te="onMouseEnter",ge="mouse",(s==="pointerout"||s==="pointerover")&&(Ct=ji,Qe="onPointerLeave",Te="onPointerEnter",ge="pointer"),Ar=ft==null?We:gl(ft),Ne=xt==null?We:gl(xt),We=new Ct(Qe,ge+"leave",ft,m,$e),We.target=Ar,We.relatedTarget=Ne,Qe=null,Na($e)===Oe&&(Ct=new Ct(Te,ge+"enter",xt,m,$e),Ct.target=Ne,Ct.relatedTarget=Ar,Qe=Ct),Ar=Qe,ft&&xt)t:{for(Ct=ft,Te=xt,ge=0,Ne=Ct;Ne;Ne=pl(Ne))ge++;for(Ne=0,Qe=Te;Qe;Qe=pl(Qe))Ne++;for(;0<ge-Ne;)Ct=pl(Ct),ge--;for(;0<Ne-ge;)Te=pl(Te),Ne--;for(;ge--;){if(Ct===Te||Te!==null&&Ct===Te.alternate)break t;Ct=pl(Ct),Te=pl(Te)}Ct=null}else Ct=null;ft!==null&&Og(Ze,We,ft,Ct,!1),xt!==null&&Ar!==null&&Og(Ze,Ar,xt,Ct,!0)}}e:{if(We=Oe?gl(Oe):window,ft=We.nodeName&&We.nodeName.toLowerCase(),ft==="select"||ft==="input"&&We.type==="file")var St=d;else if(pn(We))if(f)St=fe;else{St=Y;var Ot=W}else(ft=We.nodeName)&&ft.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(St=ie);if(St&&(St=St(s,Oe))){Ia(Ze,St,m,$e);break e}Ot&&Ot(s,We,Oe),s==="focusout"&&(Ot=We._wrapperState)&&Ot.controlled&&We.type==="number"&&it(We,"number",We.value)}switch(Ot=Oe?gl(Oe):window,s){case"focusin":(pn(Ot)||Ot.contentEditable==="true")&&(Sr=Ot,Rn=Oe,ar=null);break;case"focusout":ar=Rn=Sr=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":Kr=!1,po(Ze,m,$e);break;case"selectionchange":if(Fi)break;case"keydown":case"keyup":po(Ze,m,$e)}var kt;if(jo)e:{switch(s){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else Zr?Mu(s,m)&&(Ht="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(Ht="onCompositionStart");Ht&&(Bi&&m.locale!=="ko"&&(Zr||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Zr&&(kt=fl()):(ti=$e,ko="value"in ti?ti.value:ti.textContent,Zr=!0)),Ot=Lu(Oe,Ht),0<Ot.length&&(Ht=new Q(Ht,s,null,m,$e),Ze.push({event:Ht,listeners:Ot}),kt?Ht.data=kt:(kt=fc(m),kt!==null&&(Ht.data=kt)))),(kt=Pu?Jf(s,m):hc(s,m))&&(Oe=Lu(Oe,"onBeforeInput"),0<Oe.length&&($e=new Q("onBeforeInput","beforeinput",null,m,$e),Ze.push({event:$e,listeners:Oe}),$e.data=kt))}Dg(Ze,l)})}function xc(s,l,m){return{instance:s,listener:l,currentTarget:m}}function Lu(s,l){for(var m=l+"Capture",S=[];s!==null;){var N=s,D=N.stateNode;N.tag===5&&D!==null&&(N=D,D=Xt(s,m),D!=null&&S.unshift(xc(s,D,N)),D=Xt(s,l),D!=null&&S.push(xc(s,D,N))),s=s.return}return S}function pl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Og(s,l,m,S,N){for(var D=l._reactName,$=[];m!==null&&m!==S;){var ae=m,he=ae.alternate,Oe=ae.stateNode;if(he!==null&&he===S)break;ae.tag===5&&Oe!==null&&(ae=Oe,N?(he=Xt(m,D),he!=null&&$.unshift(xc(m,he,ae))):N||(he=Xt(m,D),he!=null&&$.push(xc(m,he,ae)))),m=m.return}$.length!==0&&s.push({event:l,listeners:$})}var JE=/\r\n?/g,e6=/\u0000|\uFFFD/g;function kg(s){return(typeof s=="string"?s:""+s).replace(JE,`
`).replace(e6,"")}function ju(s,l,m){if(l=kg(l),kg(s)!==l&&m)throw Error(n(425))}function Bu(){}var ih=null,sh=null;function oh(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,t6=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,n6=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(s){return Lg.resolve(null).then(s).catch(r6)}:ah;function r6(s){setTimeout(function(){throw s})}function lh(s,l){var m=l,S=0;do{var N=m.nextSibling;if(s.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(S===0){s.removeChild(N),Ai(l);return}S--}else m!=="$"&&m!=="$?"&&m!=="$!"||S++;m=N}while(m);Ai(l)}function Vo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function jg(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(l===0)return s;l--}else m==="/$"&&l++}s=s.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Vs="__reactFiber$"+ml,wc="__reactProps$"+ml,mo="__reactContainer$"+ml,ch="__reactEvents$"+ml,i6="__reactListeners$"+ml,s6="__reactHandles$"+ml;function Na(s){var l=s[Vs];if(l)return l;for(var m=s.parentNode;m;){if(l=m[mo]||m[Vs]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(s=jg(s);s!==null;){if(m=s[Vs])return m;s=jg(s)}return l}s=m,m=s.parentNode}return null}function yc(s){return s=s[Vs]||s[mo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function gl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Fu(s){return s[wc]||null}var uh=[],xl=-1;function Uo(s){return{current:s}}function Kn(s){0>xl||(s.current=uh[xl],uh[xl]=null,xl--)}function Wn(s,l){xl++,uh[xl]=s.current,s.current=l}var Ho={},ii=Uo(Ho),Ti=Uo(!1),Ra=Ho;function wl(s,l){var m=s.type.contextTypes;if(!m)return Ho;var S=s.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===l)return S.__reactInternalMemoizedMaskedChildContext;var N={},D;for(D in m)N[D]=l[D];return S&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=N),N}function Ii(s){return s=s.childContextTypes,s!=null}function Vu(){Kn(Ti),Kn(ii)}function Bg(s,l,m){if(ii.current!==Ho)throw Error(n(168));Wn(ii,l),Wn(Ti,m)}function Fg(s,l,m){var S=s.stateNode;if(l=l.childContextTypes,typeof S.getChildContext!="function")return m;S=S.getChildContext();for(var N in S)if(!(N in l))throw Error(n(108,Le(s)||"Unknown",N));return ue({},m,S)}function Uu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ho,Ra=ii.current,Wn(ii,s),Wn(Ti,Ti.current),!0}function Vg(s,l,m){var S=s.stateNode;if(!S)throw Error(n(169));m?(s=Fg(s,l,Ra),S.__reactInternalMemoizedMergedChildContext=s,Kn(Ti),Kn(ii),Wn(ii,s)):Kn(Ti),Wn(Ti,m)}var go=null,Hu=!1,dh=!1;function Ug(s){go===null?go=[s]:go.push(s)}function o6(s){Hu=!0,Ug(s)}function Wo(){if(!dh&&go!==null){dh=!0;var s=0,l=Ft;try{var m=go;for(Ft=1;s<m.length;s++){var S=m[s];do S=S(!0);while(S!==null)}go=null,Hu=!1}catch(N){throw go!==null&&(go=go.slice(s+1)),wn(Be,Wo),N}finally{Ft=l,dh=!1}}return null}var yl=[],vl=0,Wu=null,zu=0,ts=[],ns=0,_a=null,xo=1,wo="";function Pa(s,l){yl[vl++]=zu,yl[vl++]=Wu,Wu=s,zu=l}function Hg(s,l,m){ts[ns++]=xo,ts[ns++]=wo,ts[ns++]=_a,_a=s;var S=xo;s=wo;var N=32-vn(S)-1;S&=~(1<<N),m+=1;var D=32-vn(l)+N;if(30<D){var $=N-N%5;D=(S&(1<<$)-1).toString(32),S>>=$,N-=$,xo=1<<32-vn(l)+N|m<<N|S,wo=D+s}else xo=1<<D|m<<N|S,wo=s}function fh(s){s.return!==null&&(Pa(s,1),Hg(s,1,0))}function hh(s){for(;s===Wu;)Wu=yl[--vl],yl[vl]=null,zu=yl[--vl],yl[vl]=null;for(;s===_a;)_a=ts[--ns],ts[ns]=null,wo=ts[--ns],ts[ns]=null,xo=ts[--ns],ts[ns]=null}var Vi=null,Ui=null,rr=!1,vs=null;function Wg(s,l){var m=os(5,null,null,0);m.elementType="DELETED",m.stateNode=l,m.return=s,l=s.deletions,l===null?(s.deletions=[m],s.flags|=16):l.push(m)}function zg(s,l){switch(s.tag){case 5:var m=s.type;return l=l.nodeType!==1||m.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Vi=s,Ui=Vo(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Vi=s,Ui=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(m=_a!==null?{id:xo,overflow:wo}:null,s.memoizedState={dehydrated:l,treeContext:m,retryLane:1073741824},m=os(18,null,null,0),m.stateNode=l,m.return=s,s.child=m,Vi=s,Ui=null,!0):!1;default:return!1}}function ph(s){return(s.mode&1)!==0&&(s.flags&128)===0}function mh(s){if(rr){var l=Ui;if(l){var m=l;if(!zg(s,l)){if(ph(s))throw Error(n(418));l=Vo(m.nextSibling);var S=Vi;l&&zg(s,l)?Wg(S,m):(s.flags=s.flags&-4097|2,rr=!1,Vi=s)}}else{if(ph(s))throw Error(n(418));s.flags=s.flags&-4097|2,rr=!1,Vi=s}}}function Gg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Vi=s}function Gu(s){if(s!==Vi)return!1;if(!rr)return Gg(s),rr=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!oh(s.type,s.memoizedProps)),l&&(l=Ui)){if(ph(s))throw Xg(),Error(n(418));for(;l;)Wg(s,l),l=Vo(l.nextSibling)}if(Gg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"){if(l===0){Ui=Vo(s.nextSibling);break e}l--}else m!=="$"&&m!=="$!"&&m!=="$?"||l++}s=s.nextSibling}Ui=null}}else Ui=Vi?Vo(s.stateNode.nextSibling):null;return!0}function Xg(){for(var s=Ui;s;)s=Vo(s.nextSibling)}function Cl(){Ui=Vi=null,rr=!1}function gh(s){vs===null?vs=[s]:vs.push(s)}var a6=Z.ReactCurrentBatchConfig;function vc(s,l,m){if(s=m.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var S=m.stateNode}if(!S)throw Error(n(147,s));var N=S,D=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===D?l.ref:(l=function($){var ae=N.refs;$===null?delete ae[D]:ae[D]=$},l._stringRef=D,l)}if(typeof s!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,s))}return s}function Xu(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function $g(s){var l=s._init;return l(s._payload)}function Yg(s){function l(Te,ge){if(s){var Ne=Te.deletions;Ne===null?(Te.deletions=[ge],Te.flags|=16):Ne.push(ge)}}function m(Te,ge){if(!s)return null;for(;ge!==null;)l(Te,ge),ge=ge.sibling;return null}function S(Te,ge){for(Te=new Map;ge!==null;)ge.key!==null?Te.set(ge.key,ge):Te.set(ge.index,ge),ge=ge.sibling;return Te}function N(Te,ge){return Te=qo(Te,ge),Te.index=0,Te.sibling=null,Te}function D(Te,ge,Ne){return Te.index=Ne,s?(Ne=Te.alternate,Ne!==null?(Ne=Ne.index,Ne<ge?(Te.flags|=2,ge):Ne):(Te.flags|=2,ge)):(Te.flags|=1048576,ge)}function $(Te){return s&&Te.alternate===null&&(Te.flags|=2),Te}function ae(Te,ge,Ne,Qe){return ge===null||ge.tag!==6?(ge=a1(Ne,Te.mode,Qe),ge.return=Te,ge):(ge=N(ge,Ne),ge.return=Te,ge)}function he(Te,ge,Ne,Qe){var St=Ne.type;return St===P?$e(Te,ge,Ne.props.children,Qe,Ne.key):ge!==null&&(ge.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===we&&$g(St)===ge.type)?(Qe=N(ge,Ne.props),Qe.ref=vc(Te,ge,Ne),Qe.return=Te,Qe):(Qe=gd(Ne.type,Ne.key,Ne.props,null,Te.mode,Qe),Qe.ref=vc(Te,ge,Ne),Qe.return=Te,Qe)}function Oe(Te,ge,Ne,Qe){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ne.containerInfo||ge.stateNode.implementation!==Ne.implementation?(ge=l1(Ne,Te.mode,Qe),ge.return=Te,ge):(ge=N(ge,Ne.children||[]),ge.return=Te,ge)}function $e(Te,ge,Ne,Qe,St){return ge===null||ge.tag!==7?(ge=Fa(Ne,Te.mode,Qe,St),ge.return=Te,ge):(ge=N(ge,Ne),ge.return=Te,ge)}function Ze(Te,ge,Ne){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=a1(""+ge,Te.mode,Ne),ge.return=Te,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case re:return Ne=gd(ge.type,ge.key,ge.props,null,Te.mode,Ne),Ne.ref=vc(Te,null,ge),Ne.return=Te,Ne;case le:return ge=l1(ge,Te.mode,Ne),ge.return=Te,ge;case we:var Qe=ge._init;return Ze(Te,Qe(ge._payload),Ne)}if(on(ge)||ce(ge))return ge=Fa(ge,Te.mode,Ne,null),ge.return=Te,ge;Xu(Te,ge)}return null}function We(Te,ge,Ne,Qe){var St=ge!==null?ge.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return St!==null?null:ae(Te,ge,""+Ne,Qe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case re:return Ne.key===St?he(Te,ge,Ne,Qe):null;case le:return Ne.key===St?Oe(Te,ge,Ne,Qe):null;case we:return St=Ne._init,We(Te,ge,St(Ne._payload),Qe)}if(on(Ne)||ce(Ne))return St!==null?null:$e(Te,ge,Ne,Qe,null);Xu(Te,Ne)}return null}function ft(Te,ge,Ne,Qe,St){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Te=Te.get(Ne)||null,ae(ge,Te,""+Qe,St);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case re:return Te=Te.get(Qe.key===null?Ne:Qe.key)||null,he(ge,Te,Qe,St);case le:return Te=Te.get(Qe.key===null?Ne:Qe.key)||null,Oe(ge,Te,Qe,St);case we:var Ot=Qe._init;return ft(Te,ge,Ne,Ot(Qe._payload),St)}if(on(Qe)||ce(Qe))return Te=Te.get(Ne)||null,$e(ge,Te,Qe,St,null);Xu(ge,Qe)}return null}function xt(Te,ge,Ne,Qe){for(var St=null,Ot=null,kt=ge,Ht=ge=0,Xr=null;kt!==null&&Ht<Ne.length;Ht++){kt.index>Ht?(Xr=kt,kt=null):Xr=kt.sibling;var Nn=We(Te,kt,Ne[Ht],Qe);if(Nn===null){kt===null&&(kt=Xr);break}s&&kt&&Nn.alternate===null&&l(Te,kt),ge=D(Nn,ge,Ht),Ot===null?St=Nn:Ot.sibling=Nn,Ot=Nn,kt=Xr}if(Ht===Ne.length)return m(Te,kt),rr&&Pa(Te,Ht),St;if(kt===null){for(;Ht<Ne.length;Ht++)kt=Ze(Te,Ne[Ht],Qe),kt!==null&&(ge=D(kt,ge,Ht),Ot===null?St=kt:Ot.sibling=kt,Ot=kt);return rr&&Pa(Te,Ht),St}for(kt=S(Te,kt);Ht<Ne.length;Ht++)Xr=ft(kt,Te,Ht,Ne[Ht],Qe),Xr!==null&&(s&&Xr.alternate!==null&&kt.delete(Xr.key===null?Ht:Xr.key),ge=D(Xr,ge,Ht),Ot===null?St=Xr:Ot.sibling=Xr,Ot=Xr);return s&&kt.forEach(function(Qo){return l(Te,Qo)}),rr&&Pa(Te,Ht),St}function Ct(Te,ge,Ne,Qe){var St=ce(Ne);if(typeof St!="function")throw Error(n(150));if(Ne=St.call(Ne),Ne==null)throw Error(n(151));for(var Ot=St=null,kt=ge,Ht=ge=0,Xr=null,Nn=Ne.next();kt!==null&&!Nn.done;Ht++,Nn=Ne.next()){kt.index>Ht?(Xr=kt,kt=null):Xr=kt.sibling;var Qo=We(Te,kt,Nn.value,Qe);if(Qo===null){kt===null&&(kt=Xr);break}s&&kt&&Qo.alternate===null&&l(Te,kt),ge=D(Qo,ge,Ht),Ot===null?St=Qo:Ot.sibling=Qo,Ot=Qo,kt=Xr}if(Nn.done)return m(Te,kt),rr&&Pa(Te,Ht),St;if(kt===null){for(;!Nn.done;Ht++,Nn=Ne.next())Nn=Ze(Te,Nn.value,Qe),Nn!==null&&(ge=D(Nn,ge,Ht),Ot===null?St=Nn:Ot.sibling=Nn,Ot=Nn);return rr&&Pa(Te,Ht),St}for(kt=S(Te,kt);!Nn.done;Ht++,Nn=Ne.next())Nn=ft(kt,Te,Ht,Nn.value,Qe),Nn!==null&&(s&&Nn.alternate!==null&&kt.delete(Nn.key===null?Ht:Nn.key),ge=D(Nn,ge,Ht),Ot===null?St=Nn:Ot.sibling=Nn,Ot=Nn);return s&&kt.forEach(function(V6){return l(Te,V6)}),rr&&Pa(Te,Ht),St}function Ar(Te,ge,Ne,Qe){if(typeof Ne=="object"&&Ne!==null&&Ne.type===P&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case re:e:{for(var St=Ne.key,Ot=ge;Ot!==null;){if(Ot.key===St){if(St=Ne.type,St===P){if(Ot.tag===7){m(Te,Ot.sibling),ge=N(Ot,Ne.props.children),ge.return=Te,Te=ge;break e}}else if(Ot.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===we&&$g(St)===Ot.type){m(Te,Ot.sibling),ge=N(Ot,Ne.props),ge.ref=vc(Te,Ot,Ne),ge.return=Te,Te=ge;break e}m(Te,Ot);break}else l(Te,Ot);Ot=Ot.sibling}Ne.type===P?(ge=Fa(Ne.props.children,Te.mode,Qe,Ne.key),ge.return=Te,Te=ge):(Qe=gd(Ne.type,Ne.key,Ne.props,null,Te.mode,Qe),Qe.ref=vc(Te,ge,Ne),Qe.return=Te,Te=Qe)}return $(Te);case le:e:{for(Ot=Ne.key;ge!==null;){if(ge.key===Ot)if(ge.tag===4&&ge.stateNode.containerInfo===Ne.containerInfo&&ge.stateNode.implementation===Ne.implementation){m(Te,ge.sibling),ge=N(ge,Ne.children||[]),ge.return=Te,Te=ge;break e}else{m(Te,ge);break}else l(Te,ge);ge=ge.sibling}ge=l1(Ne,Te.mode,Qe),ge.return=Te,Te=ge}return $(Te);case we:return Ot=Ne._init,Ar(Te,ge,Ot(Ne._payload),Qe)}if(on(Ne))return xt(Te,ge,Ne,Qe);if(ce(Ne))return Ct(Te,ge,Ne,Qe);Xu(Te,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,ge!==null&&ge.tag===6?(m(Te,ge.sibling),ge=N(ge,Ne),ge.return=Te,Te=ge):(m(Te,ge),ge=a1(Ne,Te.mode,Qe),ge.return=Te,Te=ge),$(Te)):m(Te,ge)}return Ar}var El=Yg(!0),Zg=Yg(!1),$u=Uo(null),Yu=null,bl=null,xh=null;function wh(){xh=bl=Yu=null}function yh(s){var l=$u.current;Kn($u),s._currentValue=l}function vh(s,l,m){for(;s!==null;){var S=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,S!==null&&(S.childLanes|=l)):S!==null&&(S.childLanes&l)!==l&&(S.childLanes|=l),s===m)break;s=s.return}}function Sl(s,l){Yu=s,xh=bl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Ni=!0),s.firstContext=null)}function rs(s){var l=s._currentValue;if(xh!==s)if(s={context:s,memoizedValue:l,next:null},bl===null){if(Yu===null)throw Error(n(308));bl=s,Yu.dependencies={lanes:0,firstContext:s}}else bl=bl.next=s;return l}var Da=null;function Ch(s){Da===null?Da=[s]:Da.push(s)}function Kg(s,l,m,S){var N=l.interleaved;return N===null?(m.next=m,Ch(l)):(m.next=N.next,N.next=m),l.interleaved=m,yo(s,S)}function yo(s,l){s.lanes|=l;var m=s.alternate;for(m!==null&&(m.lanes|=l),m=s,s=s.return;s!==null;)s.childLanes|=l,m=s.alternate,m!==null&&(m.childLanes|=l),m=s,s=s.return;return m.tag===3?m.stateNode:null}var zo=!1;function Eh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function vo(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Go(s,l,m){var S=s.updateQueue;if(S===null)return null;if(S=S.shared,(bn&2)!==0){var N=S.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),S.pending=l,yo(s,m)}return N=S.interleaved,N===null?(l.next=l,Ch(S)):(l.next=N.next,N.next=l),S.interleaved=l,yo(s,m)}function Zu(s,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194240)!==0)){var S=l.lanes;S&=s.pendingLanes,m|=S,l.lanes=m,Jn(s,m)}}function Qg(s,l){var m=s.updateQueue,S=s.alternate;if(S!==null&&(S=S.updateQueue,m===S)){var N=null,D=null;if(m=m.firstBaseUpdate,m!==null){do{var $={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};D===null?N=D=$:D=D.next=$,m=m.next}while(m!==null);D===null?N=D=l:D=D.next=l}else N=D=l;m={baseState:S.baseState,firstBaseUpdate:N,lastBaseUpdate:D,shared:S.shared,effects:S.effects},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=l:s.next=l,m.lastBaseUpdate=l}function Ku(s,l,m,S){var N=s.updateQueue;zo=!1;var D=N.firstBaseUpdate,$=N.lastBaseUpdate,ae=N.shared.pending;if(ae!==null){N.shared.pending=null;var he=ae,Oe=he.next;he.next=null,$===null?D=Oe:$.next=Oe,$=he;var $e=s.alternate;$e!==null&&($e=$e.updateQueue,ae=$e.lastBaseUpdate,ae!==$&&(ae===null?$e.firstBaseUpdate=Oe:ae.next=Oe,$e.lastBaseUpdate=he))}if(D!==null){var Ze=N.baseState;$=0,$e=Oe=he=null,ae=D;do{var We=ae.lane,ft=ae.eventTime;if((S&We)===We){$e!==null&&($e=$e.next={eventTime:ft,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var xt=s,Ct=ae;switch(We=l,ft=m,Ct.tag){case 1:if(xt=Ct.payload,typeof xt=="function"){Ze=xt.call(ft,Ze,We);break e}Ze=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Ct.payload,We=typeof xt=="function"?xt.call(ft,Ze,We):xt,We==null)break e;Ze=ue({},Ze,We);break e;case 2:zo=!0}}ae.callback!==null&&ae.lane!==0&&(s.flags|=64,We=N.effects,We===null?N.effects=[ae]:We.push(ae))}else ft={eventTime:ft,lane:We,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},$e===null?(Oe=$e=ft,he=Ze):$e=$e.next=ft,$|=We;if(ae=ae.next,ae===null){if(ae=N.shared.pending,ae===null)break;We=ae,ae=We.next,We.next=null,N.lastBaseUpdate=We,N.shared.pending=null}}while(!0);if($e===null&&(he=Ze),N.baseState=he,N.firstBaseUpdate=Oe,N.lastBaseUpdate=$e,l=N.shared.interleaved,l!==null){N=l;do $|=N.lane,N=N.next;while(N!==l)}else D===null&&(N.shared.lanes=0);ka|=$,s.lanes=$,s.memoizedState=Ze}}function Jg(s,l,m){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var S=s[l],N=S.callback;if(N!==null){if(S.callback=null,S=m,typeof N!="function")throw Error(n(191,N));N.call(S)}}}var Cc={},Us=Uo(Cc),Ec=Uo(Cc),bc=Uo(Cc);function Ma(s){if(s===Cc)throw Error(n(174));return s}function bh(s,l){switch(Wn(bc,l),Wn(Ec,s),Wn(Us,Cc),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:$r(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=$r(l,s)}Kn(Us),Wn(Us,l)}function Al(){Kn(Us),Kn(Ec),Kn(bc)}function e2(s){Ma(bc.current);var l=Ma(Us.current),m=$r(l,s.type);l!==m&&(Wn(Ec,s),Wn(Us,m))}function Sh(s){Ec.current===s&&(Kn(Us),Kn(Ec))}var lr=Uo(0);function qu(s){for(var l=s;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ah=[];function Th(){for(var s=0;s<Ah.length;s++)Ah[s]._workInProgressVersionPrimary=null;Ah.length=0}var Qu=Z.ReactCurrentDispatcher,Ih=Z.ReactCurrentBatchConfig,Oa=0,cr=null,Or=null,zr=null,Ju=!1,Sc=!1,Ac=0,l6=0;function si(){throw Error(n(321))}function Nh(s,l){if(l===null)return!1;for(var m=0;m<l.length&&m<s.length;m++)if(!ye(s[m],l[m]))return!1;return!0}function Rh(s,l,m,S,N,D){if(Oa=D,cr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Qu.current=s===null||s.memoizedState===null?f6:h6,s=m(S,N),Sc){D=0;do{if(Sc=!1,Ac=0,25<=D)throw Error(n(301));D+=1,zr=Or=null,l.updateQueue=null,Qu.current=p6,s=m(S,N)}while(Sc)}if(Qu.current=nd,l=Or!==null&&Or.next!==null,Oa=0,zr=Or=cr=null,Ju=!1,l)throw Error(n(300));return s}function _h(){var s=Ac!==0;return Ac=0,s}function Hs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?cr.memoizedState=zr=s:zr=zr.next=s,zr}function is(){if(Or===null){var s=cr.alternate;s=s!==null?s.memoizedState:null}else s=Or.next;var l=zr===null?cr.memoizedState:zr.next;if(l!==null)zr=l,Or=s;else{if(s===null)throw Error(n(310));Or=s,s={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},zr===null?cr.memoizedState=zr=s:zr=zr.next=s}return zr}function Tc(s,l){return typeof l=="function"?l(s):l}function Ph(s){var l=is(),m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var S=Or,N=S.baseQueue,D=m.pending;if(D!==null){if(N!==null){var $=N.next;N.next=D.next,D.next=$}S.baseQueue=N=D,m.pending=null}if(N!==null){D=N.next,S=S.baseState;var ae=$=null,he=null,Oe=D;do{var $e=Oe.lane;if((Oa&$e)===$e)he!==null&&(he=he.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),S=Oe.hasEagerState?Oe.eagerState:s(S,Oe.action);else{var Ze={lane:$e,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};he===null?(ae=he=Ze,$=S):he=he.next=Ze,cr.lanes|=$e,ka|=$e}Oe=Oe.next}while(Oe!==null&&Oe!==D);he===null?$=S:he.next=ae,ye(S,l.memoizedState)||(Ni=!0),l.memoizedState=S,l.baseState=$,l.baseQueue=he,m.lastRenderedState=S}if(s=m.interleaved,s!==null){N=s;do D=N.lane,cr.lanes|=D,ka|=D,N=N.next;while(N!==s)}else N===null&&(m.lanes=0);return[l.memoizedState,m.dispatch]}function Dh(s){var l=is(),m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=s;var S=m.dispatch,N=m.pending,D=l.memoizedState;if(N!==null){m.pending=null;var $=N=N.next;do D=s(D,$.action),$=$.next;while($!==N);ye(D,l.memoizedState)||(Ni=!0),l.memoizedState=D,l.baseQueue===null&&(l.baseState=D),m.lastRenderedState=D}return[D,S]}function t2(){}function n2(s,l){var m=cr,S=is(),N=l(),D=!ye(S.memoizedState,N);if(D&&(S.memoizedState=N,Ni=!0),S=S.queue,Mh(s2.bind(null,m,S,s),[s]),S.getSnapshot!==l||D||zr!==null&&zr.memoizedState.tag&1){if(m.flags|=2048,Ic(9,i2.bind(null,m,S,N,l),void 0,null),Gr===null)throw Error(n(349));(Oa&30)!==0||r2(m,l,N)}return N}function r2(s,l,m){s.flags|=16384,s={getSnapshot:l,value:m},l=cr.updateQueue,l===null?(l={lastEffect:null,stores:null},cr.updateQueue=l,l.stores=[s]):(m=l.stores,m===null?l.stores=[s]:m.push(s))}function i2(s,l,m,S){l.value=m,l.getSnapshot=S,o2(l)&&a2(s)}function s2(s,l,m){return m(function(){o2(l)&&a2(s)})}function o2(s){var l=s.getSnapshot;s=s.value;try{var m=l();return!ye(s,m)}catch{return!0}}function a2(s){var l=yo(s,1);l!==null&&Ss(l,s,1,-1)}function l2(s){var l=Hs();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:s},l.queue=s,s=s.dispatch=d6.bind(null,cr,s),[l.memoizedState,s]}function Ic(s,l,m,S){return s={tag:s,create:l,destroy:m,deps:S,next:null},l=cr.updateQueue,l===null?(l={lastEffect:null,stores:null},cr.updateQueue=l,l.lastEffect=s.next=s):(m=l.lastEffect,m===null?l.lastEffect=s.next=s:(S=m.next,m.next=s,s.next=S,l.lastEffect=s)),s}function c2(){return is().memoizedState}function ed(s,l,m,S){var N=Hs();cr.flags|=s,N.memoizedState=Ic(1|l,m,void 0,S===void 0?null:S)}function td(s,l,m,S){var N=is();S=S===void 0?null:S;var D=void 0;if(Or!==null){var $=Or.memoizedState;if(D=$.destroy,S!==null&&Nh(S,$.deps)){N.memoizedState=Ic(l,m,D,S);return}}cr.flags|=s,N.memoizedState=Ic(1|l,m,D,S)}function u2(s,l){return ed(8390656,8,s,l)}function Mh(s,l){return td(2048,8,s,l)}function d2(s,l){return td(4,2,s,l)}function f2(s,l){return td(4,4,s,l)}function h2(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function p2(s,l,m){return m=m!=null?m.concat([s]):null,td(4,4,h2.bind(null,l,s),m)}function Oh(){}function m2(s,l){var m=is();l=l===void 0?null:l;var S=m.memoizedState;return S!==null&&l!==null&&Nh(l,S[1])?S[0]:(m.memoizedState=[s,l],s)}function g2(s,l){var m=is();l=l===void 0?null:l;var S=m.memoizedState;return S!==null&&l!==null&&Nh(l,S[1])?S[0]:(s=s(),m.memoizedState=[s,l],s)}function x2(s,l,m){return(Oa&21)===0?(s.baseState&&(s.baseState=!1,Ni=!0),s.memoizedState=m):(ye(m,l)||(m=pr(),cr.lanes|=m,ka|=m,s.baseState=!0),l)}function c6(s,l){var m=Ft;Ft=m!==0&&4>m?m:4,s(!0);var S=Ih.transition;Ih.transition={};try{s(!1),l()}finally{Ft=m,Ih.transition=S}}function w2(){return is().memoizedState}function u6(s,l,m){var S=Zo(s);if(m={lane:S,action:m,hasEagerState:!1,eagerState:null,next:null},y2(s))v2(l,m);else if(m=Kg(s,l,m,S),m!==null){var N=vi();Ss(m,s,S,N),C2(m,l,S)}}function d6(s,l,m){var S=Zo(s),N={lane:S,action:m,hasEagerState:!1,eagerState:null,next:null};if(y2(s))v2(l,N);else{var D=s.alternate;if(s.lanes===0&&(D===null||D.lanes===0)&&(D=l.lastRenderedReducer,D!==null))try{var $=l.lastRenderedState,ae=D($,m);if(N.hasEagerState=!0,N.eagerState=ae,ye(ae,$)){var he=l.interleaved;he===null?(N.next=N,Ch(l)):(N.next=he.next,he.next=N),l.interleaved=N;return}}catch{}finally{}m=Kg(s,l,N,S),m!==null&&(N=vi(),Ss(m,s,S,N),C2(m,l,S))}}function y2(s){var l=s.alternate;return s===cr||l!==null&&l===cr}function v2(s,l){Sc=Ju=!0;var m=s.pending;m===null?l.next=l:(l.next=m.next,m.next=l),s.pending=l}function C2(s,l,m){if((m&4194240)!==0){var S=l.lanes;S&=s.pendingLanes,m|=S,l.lanes=m,Jn(s,m)}}var nd={readContext:rs,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},f6={readContext:rs,useCallback:function(s,l){return Hs().memoizedState=[s,l===void 0?null:l],s},useContext:rs,useEffect:u2,useImperativeHandle:function(s,l,m){return m=m!=null?m.concat([s]):null,ed(4194308,4,h2.bind(null,l,s),m)},useLayoutEffect:function(s,l){return ed(4194308,4,s,l)},useInsertionEffect:function(s,l){return ed(4,2,s,l)},useMemo:function(s,l){var m=Hs();return l=l===void 0?null:l,s=s(),m.memoizedState=[s,l],s},useReducer:function(s,l,m){var S=Hs();return l=m!==void 0?m(l):l,S.memoizedState=S.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},S.queue=s,s=s.dispatch=u6.bind(null,cr,s),[S.memoizedState,s]},useRef:function(s){var l=Hs();return s={current:s},l.memoizedState=s},useState:l2,useDebugValue:Oh,useDeferredValue:function(s){return Hs().memoizedState=s},useTransition:function(){var s=l2(!1),l=s[0];return s=c6.bind(null,s[1]),Hs().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,m){var S=cr,N=Hs();if(rr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=l(),Gr===null)throw Error(n(349));(Oa&30)!==0||r2(S,l,m)}N.memoizedState=m;var D={value:m,getSnapshot:l};return N.queue=D,u2(s2.bind(null,S,D,s),[s]),S.flags|=2048,Ic(9,i2.bind(null,S,D,m,l),void 0,null),m},useId:function(){var s=Hs(),l=Gr.identifierPrefix;if(rr){var m=wo,S=xo;m=(S&~(1<<32-vn(S)-1)).toString(32)+m,l=":"+l+"R"+m,m=Ac++,0<m&&(l+="H"+m.toString(32)),l+=":"}else m=l6++,l=":"+l+"r"+m.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},h6={readContext:rs,useCallback:m2,useContext:rs,useEffect:Mh,useImperativeHandle:p2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:g2,useReducer:Ph,useRef:c2,useState:function(){return Ph(Tc)},useDebugValue:Oh,useDeferredValue:function(s){var l=is();return x2(l,Or.memoizedState,s)},useTransition:function(){var s=Ph(Tc)[0],l=is().memoizedState;return[s,l]},useMutableSource:t2,useSyncExternalStore:n2,useId:w2,unstable_isNewReconciler:!1},p6={readContext:rs,useCallback:m2,useContext:rs,useEffect:Mh,useImperativeHandle:p2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:g2,useReducer:Dh,useRef:c2,useState:function(){return Dh(Tc)},useDebugValue:Oh,useDeferredValue:function(s){var l=is();return Or===null?l.memoizedState=s:x2(l,Or.memoizedState,s)},useTransition:function(){var s=Dh(Tc)[0],l=is().memoizedState;return[s,l]},useMutableSource:t2,useSyncExternalStore:n2,useId:w2,unstable_isNewReconciler:!1};function Cs(s,l){if(s&&s.defaultProps){l=ue({},l),s=s.defaultProps;for(var m in s)l[m]===void 0&&(l[m]=s[m]);return l}return l}function kh(s,l,m,S){l=s.memoizedState,m=m(S,l),m=m==null?l:ue({},l,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var rd={isMounted:function(s){return(s=s._reactInternals)?ot(s)===s:!1},enqueueSetState:function(s,l,m){s=s._reactInternals;var S=vi(),N=Zo(s),D=vo(S,N);D.payload=l,m!=null&&(D.callback=m),l=Go(s,D,N),l!==null&&(Ss(l,s,N,S),Zu(l,s,N))},enqueueReplaceState:function(s,l,m){s=s._reactInternals;var S=vi(),N=Zo(s),D=vo(S,N);D.tag=1,D.payload=l,m!=null&&(D.callback=m),l=Go(s,D,N),l!==null&&(Ss(l,s,N,S),Zu(l,s,N))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var m=vi(),S=Zo(s),N=vo(m,S);N.tag=2,l!=null&&(N.callback=l),l=Go(s,N,S),l!==null&&(Ss(l,s,S,m),Zu(l,s,S))}};function E2(s,l,m,S,N,D,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(S,D,$):l.prototype&&l.prototype.isPureReactComponent?!Me(m,S)||!Me(N,D):!0}function b2(s,l,m){var S=!1,N=Ho,D=l.contextType;return typeof D=="object"&&D!==null?D=rs(D):(N=Ii(l)?Ra:ii.current,S=l.contextTypes,D=(S=S!=null)?wl(s,N):Ho),l=new l(m,D),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=rd,s.stateNode=l,l._reactInternals=s,S&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=D),l}function S2(s,l,m,S){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,S),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,S),l.state!==s&&rd.enqueueReplaceState(l,l.state,null)}function Lh(s,l,m,S){var N=s.stateNode;N.props=m,N.state=s.memoizedState,N.refs={},Eh(s);var D=l.contextType;typeof D=="object"&&D!==null?N.context=rs(D):(D=Ii(l)?Ra:ii.current,N.context=wl(s,D)),N.state=s.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(kh(s,l,D,m),N.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&rd.enqueueReplaceState(N,N.state,null),Ku(s,m,N,S),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function Tl(s,l){try{var m="",S=l;do m+=Ge(S),S=S.return;while(S);var N=m}catch(D){N=`
Error generating stack: `+D.message+`
`+D.stack}return{value:s,source:l,stack:N,digest:null}}function jh(s,l,m){return{value:s,source:null,stack:m??null,digest:l??null}}function Bh(s,l){try{console.error(l.value)}catch(m){setTimeout(function(){throw m})}}var m6=typeof WeakMap=="function"?WeakMap:Map;function A2(s,l,m){m=vo(-1,m),m.tag=3,m.payload={element:null};var S=l.value;return m.callback=function(){ud||(ud=!0,Jh=S),Bh(s,l)},m}function T2(s,l,m){m=vo(-1,m),m.tag=3;var S=s.type.getDerivedStateFromError;if(typeof S=="function"){var N=l.value;m.payload=function(){return S(N)},m.callback=function(){Bh(s,l)}}var D=s.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(m.callback=function(){Bh(s,l),typeof S!="function"&&($o===null?$o=new Set([this]):$o.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),m}function I2(s,l,m){var S=s.pingCache;if(S===null){S=s.pingCache=new m6;var N=new Set;S.set(l,N)}else N=S.get(l),N===void 0&&(N=new Set,S.set(l,N));N.has(m)||(N.add(m),s=R6.bind(null,s,l,m),l.then(s,s))}function N2(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function R2(s,l,m,S,N){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(l=vo(-1,1),l.tag=2,Go(m,l,1))),m.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var g6=Z.ReactCurrentOwner,Ni=!1;function yi(s,l,m,S){l.child=s===null?Zg(l,null,m,S):El(l,s.child,m,S)}function _2(s,l,m,S,N){m=m.render;var D=l.ref;return Sl(l,N),S=Rh(s,l,m,S,D,N),m=_h(),s!==null&&!Ni?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,Co(s,l,N)):(rr&&m&&fh(l),l.flags|=1,yi(s,l,S,N),l.child)}function P2(s,l,m,S,N){if(s===null){var D=m.type;return typeof D=="function"&&!o1(D)&&D.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(l.tag=15,l.type=D,D2(s,l,D,S,N)):(s=gd(m.type,null,S,l,l.mode,N),s.ref=l.ref,s.return=l,l.child=s)}if(D=s.child,(s.lanes&N)===0){var $=D.memoizedProps;if(m=m.compare,m=m!==null?m:Me,m($,S)&&s.ref===l.ref)return Co(s,l,N)}return l.flags|=1,s=qo(D,S),s.ref=l.ref,s.return=l,l.child=s}function D2(s,l,m,S,N){if(s!==null){var D=s.memoizedProps;if(Me(D,S)&&s.ref===l.ref)if(Ni=!1,l.pendingProps=S=D,(s.lanes&N)!==0)(s.flags&131072)!==0&&(Ni=!0);else return l.lanes=s.lanes,Co(s,l,N)}return Fh(s,l,m,S,N)}function M2(s,l,m){var S=l.pendingProps,N=S.children,D=s!==null?s.memoizedState:null;if(S.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Nl,Hi),Hi|=m;else{if((m&1073741824)===0)return s=D!==null?D.baseLanes|m:m,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,Wn(Nl,Hi),Hi|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=D!==null?D.baseLanes:m,Wn(Nl,Hi),Hi|=S}else D!==null?(S=D.baseLanes|m,l.memoizedState=null):S=m,Wn(Nl,Hi),Hi|=S;return yi(s,l,N,m),l.child}function O2(s,l){var m=l.ref;(s===null&&m!==null||s!==null&&s.ref!==m)&&(l.flags|=512,l.flags|=2097152)}function Fh(s,l,m,S,N){var D=Ii(m)?Ra:ii.current;return D=wl(l,D),Sl(l,N),m=Rh(s,l,m,S,D,N),S=_h(),s!==null&&!Ni?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,Co(s,l,N)):(rr&&S&&fh(l),l.flags|=1,yi(s,l,m,N),l.child)}function k2(s,l,m,S,N){if(Ii(m)){var D=!0;Uu(l)}else D=!1;if(Sl(l,N),l.stateNode===null)sd(s,l),b2(l,m,S),Lh(l,m,S,N),S=!0;else if(s===null){var $=l.stateNode,ae=l.memoizedProps;$.props=ae;var he=$.context,Oe=m.contextType;typeof Oe=="object"&&Oe!==null?Oe=rs(Oe):(Oe=Ii(m)?Ra:ii.current,Oe=wl(l,Oe));var $e=m.getDerivedStateFromProps,Ze=typeof $e=="function"||typeof $.getSnapshotBeforeUpdate=="function";Ze||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ae!==S||he!==Oe)&&S2(l,$,S,Oe),zo=!1;var We=l.memoizedState;$.state=We,Ku(l,S,$,N),he=l.memoizedState,ae!==S||We!==he||Ti.current||zo?(typeof $e=="function"&&(kh(l,m,$e,S),he=l.memoizedState),(ae=zo||E2(l,m,ae,S,We,he,Oe))?(Ze||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=S,l.memoizedState=he),$.props=S,$.state=he,$.context=Oe,S=ae):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),S=!1)}else{$=l.stateNode,qg(s,l),ae=l.memoizedProps,Oe=l.type===l.elementType?ae:Cs(l.type,ae),$.props=Oe,Ze=l.pendingProps,We=$.context,he=m.contextType,typeof he=="object"&&he!==null?he=rs(he):(he=Ii(m)?Ra:ii.current,he=wl(l,he));var ft=m.getDerivedStateFromProps;($e=typeof ft=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ae!==Ze||We!==he)&&S2(l,$,S,he),zo=!1,We=l.memoizedState,$.state=We,Ku(l,S,$,N);var xt=l.memoizedState;ae!==Ze||We!==xt||Ti.current||zo?(typeof ft=="function"&&(kh(l,m,ft,S),xt=l.memoizedState),(Oe=zo||E2(l,m,Oe,S,We,xt,he)||!1)?($e||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(S,xt,he),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(S,xt,he)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||ae===s.memoizedProps&&We===s.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ae===s.memoizedProps&&We===s.memoizedState||(l.flags|=1024),l.memoizedProps=S,l.memoizedState=xt),$.props=S,$.state=xt,$.context=he,S=Oe):(typeof $.componentDidUpdate!="function"||ae===s.memoizedProps&&We===s.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ae===s.memoizedProps&&We===s.memoizedState||(l.flags|=1024),S=!1)}return Vh(s,l,m,S,D,N)}function Vh(s,l,m,S,N,D){O2(s,l);var $=(l.flags&128)!==0;if(!S&&!$)return N&&Vg(l,m,!1),Co(s,l,D);S=l.stateNode,g6.current=l;var ae=$&&typeof m.getDerivedStateFromError!="function"?null:S.render();return l.flags|=1,s!==null&&$?(l.child=El(l,s.child,null,D),l.child=El(l,null,ae,D)):yi(s,l,ae,D),l.memoizedState=S.state,N&&Vg(l,m,!0),l.child}function L2(s){var l=s.stateNode;l.pendingContext?Bg(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Bg(s,l.context,!1),bh(s,l.containerInfo)}function j2(s,l,m,S,N){return Cl(),gh(N),l.flags|=256,yi(s,l,m,S),l.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function Hh(s){return{baseLanes:s,cachePool:null,transitions:null}}function B2(s,l,m){var S=l.pendingProps,N=lr.current,D=!1,$=(l.flags&128)!==0,ae;if((ae=$)||(ae=s!==null&&s.memoizedState===null?!1:(N&2)!==0),ae?(D=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),Wn(lr,N&1),s===null)return mh(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=S.children,s=S.fallback,D?(S=l.mode,D=l.child,$={mode:"hidden",children:$},(S&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=$):D=xd($,S,0,null),s=Fa(s,S,m,null),D.return=l,s.return=l,D.sibling=s,l.child=D,l.child.memoizedState=Hh(m),l.memoizedState=Uh,s):Wh(l,$));if(N=s.memoizedState,N!==null&&(ae=N.dehydrated,ae!==null))return x6(s,l,$,S,ae,N,m);if(D){D=S.fallback,$=l.mode,N=s.child,ae=N.sibling;var he={mode:"hidden",children:S.children};return($&1)===0&&l.child!==N?(S=l.child,S.childLanes=0,S.pendingProps=he,l.deletions=null):(S=qo(N,he),S.subtreeFlags=N.subtreeFlags&14680064),ae!==null?D=qo(ae,D):(D=Fa(D,$,m,null),D.flags|=2),D.return=l,S.return=l,S.sibling=D,l.child=S,S=D,D=l.child,$=s.child.memoizedState,$=$===null?Hh(m):{baseLanes:$.baseLanes|m,cachePool:null,transitions:$.transitions},D.memoizedState=$,D.childLanes=s.childLanes&~m,l.memoizedState=Uh,S}return D=s.child,s=D.sibling,S=qo(D,{mode:"visible",children:S.children}),(l.mode&1)===0&&(S.lanes=m),S.return=l,S.sibling=null,s!==null&&(m=l.deletions,m===null?(l.deletions=[s],l.flags|=16):m.push(s)),l.child=S,l.memoizedState=null,S}function Wh(s,l){return l=xd({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function id(s,l,m,S){return S!==null&&gh(S),El(l,s.child,null,m),s=Wh(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function x6(s,l,m,S,N,D,$){if(m)return l.flags&256?(l.flags&=-257,S=jh(Error(n(422))),id(s,l,$,S)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(D=S.fallback,N=l.mode,S=xd({mode:"visible",children:S.children},N,0,null),D=Fa(D,N,$,null),D.flags|=2,S.return=l,D.return=l,S.sibling=D,l.child=S,(l.mode&1)!==0&&El(l,s.child,null,$),l.child.memoizedState=Hh($),l.memoizedState=Uh,D);if((l.mode&1)===0)return id(s,l,$,null);if(N.data==="$!"){if(S=N.nextSibling&&N.nextSibling.dataset,S)var ae=S.dgst;return S=ae,D=Error(n(419)),S=jh(D,S,void 0),id(s,l,$,S)}if(ae=($&s.childLanes)!==0,Ni||ae){if(S=Gr,S!==null){switch($&-$){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(S.suspendedLanes|$))!==0?0:N,N!==0&&N!==D.retryLane&&(D.retryLane=N,yo(s,N),Ss(S,s,N,-1))}return s1(),S=jh(Error(n(421))),id(s,l,$,S)}return N.data==="$?"?(l.flags|=128,l.child=s.child,l=_6.bind(null,s),N._reactRetry=l,null):(s=D.treeContext,Ui=Vo(N.nextSibling),Vi=l,rr=!0,vs=null,s!==null&&(ts[ns++]=xo,ts[ns++]=wo,ts[ns++]=_a,xo=s.id,wo=s.overflow,_a=l),l=Wh(l,S.children),l.flags|=4096,l)}function F2(s,l,m){s.lanes|=l;var S=s.alternate;S!==null&&(S.lanes|=l),vh(s.return,l,m)}function zh(s,l,m,S,N){var D=s.memoizedState;D===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:S,tail:m,tailMode:N}:(D.isBackwards=l,D.rendering=null,D.renderingStartTime=0,D.last=S,D.tail=m,D.tailMode=N)}function V2(s,l,m){var S=l.pendingProps,N=S.revealOrder,D=S.tail;if(yi(s,l,S.children,m),S=lr.current,(S&2)!==0)S=S&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&F2(s,m,l);else if(s.tag===19)F2(s,m,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}S&=1}if(Wn(lr,S),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(m=l.child,N=null;m!==null;)s=m.alternate,s!==null&&qu(s)===null&&(N=m),m=m.sibling;m=N,m===null?(N=l.child,l.child=null):(N=m.sibling,m.sibling=null),zh(l,!1,N,m,D);break;case"backwards":for(m=null,N=l.child,l.child=null;N!==null;){if(s=N.alternate,s!==null&&qu(s)===null){l.child=N;break}s=N.sibling,N.sibling=m,m=N,N=s}zh(l,!0,m,null,D);break;case"together":zh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function sd(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Co(s,l,m){if(s!==null&&(l.dependencies=s.dependencies),ka|=l.lanes,(m&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,m=qo(s,s.pendingProps),l.child=m,m.return=l;s.sibling!==null;)s=s.sibling,m=m.sibling=qo(s,s.pendingProps),m.return=l;m.sibling=null}return l.child}function w6(s,l,m){switch(l.tag){case 3:L2(l),Cl();break;case 5:e2(l);break;case 1:Ii(l.type)&&Uu(l);break;case 4:bh(l,l.stateNode.containerInfo);break;case 10:var S=l.type._context,N=l.memoizedProps.value;Wn($u,S._currentValue),S._currentValue=N;break;case 13:if(S=l.memoizedState,S!==null)return S.dehydrated!==null?(Wn(lr,lr.current&1),l.flags|=128,null):(m&l.child.childLanes)!==0?B2(s,l,m):(Wn(lr,lr.current&1),s=Co(s,l,m),s!==null?s.sibling:null);Wn(lr,lr.current&1);break;case 19:if(S=(m&l.childLanes)!==0,(s.flags&128)!==0){if(S)return V2(s,l,m);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Wn(lr,lr.current),S)break;return null;case 22:case 23:return l.lanes=0,M2(s,l,m)}return Co(s,l,m)}var U2,Gh,H2,W2;U2=function(s,l){for(var m=l.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Gh=function(){},H2=function(s,l,m,S){var N=s.memoizedProps;if(N!==S){s=l.stateNode,Ma(Us.current);var D=null;switch(m){case"input":N=Je(s,N),S=Je(s,S),D=[];break;case"select":N=ue({},N,{value:void 0}),S=ue({},S,{value:void 0}),D=[];break;case"textarea":N=Ln(s,N),S=Ln(s,S),D=[];break;default:typeof N.onClick!="function"&&typeof S.onClick=="function"&&(s.onclick=Bu)}Wt(m,S);var $;m=null;for(Oe in N)if(!S.hasOwnProperty(Oe)&&N.hasOwnProperty(Oe)&&N[Oe]!=null)if(Oe==="style"){var ae=N[Oe];for($ in ae)ae.hasOwnProperty($)&&(m||(m={}),m[$]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(c.hasOwnProperty(Oe)?D||(D=[]):(D=D||[]).push(Oe,null));for(Oe in S){var he=S[Oe];if(ae=N!=null?N[Oe]:void 0,S.hasOwnProperty(Oe)&&he!==ae&&(he!=null||ae!=null))if(Oe==="style")if(ae){for($ in ae)!ae.hasOwnProperty($)||he&&he.hasOwnProperty($)||(m||(m={}),m[$]="");for($ in he)he.hasOwnProperty($)&&ae[$]!==he[$]&&(m||(m={}),m[$]=he[$])}else m||(D||(D=[]),D.push(Oe,m)),m=he;else Oe==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ae=ae?ae.__html:void 0,he!=null&&ae!==he&&(D=D||[]).push(Oe,he)):Oe==="children"?typeof he!="string"&&typeof he!="number"||(D=D||[]).push(Oe,""+he):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(c.hasOwnProperty(Oe)?(he!=null&&Oe==="onScroll"&&Zn("scroll",s),D||ae===he||(D=[])):(D=D||[]).push(Oe,he))}m&&(D=D||[]).push("style",m);var Oe=D;(l.updateQueue=Oe)&&(l.flags|=4)}},W2=function(s,l,m,S){m!==S&&(l.flags|=4)};function Nc(s,l){if(!rr)switch(s.tailMode){case"hidden":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:S.sibling=null}}function oi(s){var l=s.alternate!==null&&s.alternate.child===s.child,m=0,S=0;if(l)for(var N=s.child;N!==null;)m|=N.lanes|N.childLanes,S|=N.subtreeFlags&14680064,S|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)m|=N.lanes|N.childLanes,S|=N.subtreeFlags,S|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=S,s.childLanes=m,l}function y6(s,l,m){var S=l.pendingProps;switch(hh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(l),null;case 1:return Ii(l.type)&&Vu(),oi(l),null;case 3:return S=l.stateNode,Al(),Kn(Ti),Kn(ii),Th(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(s===null||s.child===null)&&(Gu(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,vs!==null&&(n1(vs),vs=null))),Gh(s,l),oi(l),null;case 5:Sh(l);var N=Ma(bc.current);if(m=l.type,s!==null&&l.stateNode!=null)H2(s,l,m,S,N),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!S){if(l.stateNode===null)throw Error(n(166));return oi(l),null}if(s=Ma(Us.current),Gu(l)){S=l.stateNode,m=l.type;var D=l.memoizedProps;switch(S[Vs]=l,S[wc]=D,s=(l.mode&1)!==0,m){case"dialog":Zn("cancel",S),Zn("close",S);break;case"iframe":case"object":case"embed":Zn("load",S);break;case"video":case"audio":for(N=0;N<mc.length;N++)Zn(mc[N],S);break;case"source":Zn("error",S);break;case"img":case"image":case"link":Zn("error",S),Zn("load",S);break;case"details":Zn("toggle",S);break;case"input":tn(S,D),Zn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!D.multiple},Zn("invalid",S);break;case"textarea":ir(S,D),Zn("invalid",S)}Wt(m,D),N=null;for(var $ in D)if(D.hasOwnProperty($)){var ae=D[$];$==="children"?typeof ae=="string"?S.textContent!==ae&&(D.suppressHydrationWarning!==!0&&ju(S.textContent,ae,s),N=["children",ae]):typeof ae=="number"&&S.textContent!==""+ae&&(D.suppressHydrationWarning!==!0&&ju(S.textContent,ae,s),N=["children",""+ae]):c.hasOwnProperty($)&&ae!=null&&$==="onScroll"&&Zn("scroll",S)}switch(m){case"input":Ve(S),Zt(S,D,!0);break;case"textarea":Ve(S),sr(S);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(S.onclick=Bu)}S=N,l.updateQueue=S,S!==null&&(l.flags|=4)}else{$=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=jn(m)),s==="http://www.w3.org/1999/xhtml"?m==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof S.is=="string"?s=$.createElement(m,{is:S.is}):(s=$.createElement(m),m==="select"&&($=s,S.multiple?$.multiple=!0:S.size&&($.size=S.size))):s=$.createElementNS(s,m),s[Vs]=l,s[wc]=S,U2(s,l,!1,!1),l.stateNode=s;e:{switch($=fn(m,S),m){case"dialog":Zn("cancel",s),Zn("close",s),N=S;break;case"iframe":case"object":case"embed":Zn("load",s),N=S;break;case"video":case"audio":for(N=0;N<mc.length;N++)Zn(mc[N],s);N=S;break;case"source":Zn("error",s),N=S;break;case"img":case"image":case"link":Zn("error",s),Zn("load",s),N=S;break;case"details":Zn("toggle",s),N=S;break;case"input":tn(s,S),N=Je(s,S),Zn("invalid",s);break;case"option":N=S;break;case"select":s._wrapperState={wasMultiple:!!S.multiple},N=ue({},S,{value:void 0}),Zn("invalid",s);break;case"textarea":ir(s,S),N=Ln(s,S),Zn("invalid",s);break;default:N=S}Wt(m,N),ae=N;for(D in ae)if(ae.hasOwnProperty(D)){var he=ae[D];D==="style"?Xe(s,he):D==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&un(s,he)):D==="children"?typeof he=="string"?(m!=="textarea"||he!=="")&&or(s,he):typeof he=="number"&&or(s,""+he):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(c.hasOwnProperty(D)?he!=null&&D==="onScroll"&&Zn("scroll",s):he!=null&&U(s,D,he,$))}switch(m){case"input":Ve(s),Zt(s,S,!1);break;case"textarea":Ve(s),sr(s);break;case"option":S.value!=null&&s.setAttribute("value",""+Fe(S.value));break;case"select":s.multiple=!!S.multiple,D=S.value,D!=null?rt(s,!!S.multiple,D,!1):S.defaultValue!=null&&rt(s,!!S.multiple,S.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=Bu)}switch(m){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return oi(l),null;case 6:if(s&&l.stateNode!=null)W2(s,l,s.memoizedProps,S);else{if(typeof S!="string"&&l.stateNode===null)throw Error(n(166));if(m=Ma(bc.current),Ma(Us.current),Gu(l)){if(S=l.stateNode,m=l.memoizedProps,S[Vs]=l,(D=S.nodeValue!==m)&&(s=Vi,s!==null))switch(s.tag){case 3:ju(S.nodeValue,m,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ju(S.nodeValue,m,(s.mode&1)!==0)}D&&(l.flags|=4)}else S=(m.nodeType===9?m:m.ownerDocument).createTextNode(S),S[Vs]=l,l.stateNode=S}return oi(l),null;case 13:if(Kn(lr),S=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(rr&&Ui!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Xg(),Cl(),l.flags|=98560,D=!1;else if(D=Gu(l),S!==null&&S.dehydrated!==null){if(s===null){if(!D)throw Error(n(318));if(D=l.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[Vs]=l}else Cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;oi(l),D=!1}else vs!==null&&(n1(vs),vs=null),D=!0;if(!D)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=m,l):(S=S!==null,S!==(s!==null&&s.memoizedState!==null)&&S&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(lr.current&1)!==0?kr===0&&(kr=3):s1())),l.updateQueue!==null&&(l.flags|=4),oi(l),null);case 4:return Al(),Gh(s,l),s===null&&gc(l.stateNode.containerInfo),oi(l),null;case 10:return yh(l.type._context),oi(l),null;case 17:return Ii(l.type)&&Vu(),oi(l),null;case 19:if(Kn(lr),D=l.memoizedState,D===null)return oi(l),null;if(S=(l.flags&128)!==0,$=D.rendering,$===null)if(S)Nc(D,!1);else{if(kr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if($=qu(s),$!==null){for(l.flags|=128,Nc(D,!1),S=$.updateQueue,S!==null&&(l.updateQueue=S,l.flags|=4),l.subtreeFlags=0,S=m,m=l.child;m!==null;)D=m,s=S,D.flags&=14680066,$=D.alternate,$===null?(D.childLanes=0,D.lanes=s,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=$.childLanes,D.lanes=$.lanes,D.child=$.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=$.memoizedProps,D.memoizedState=$.memoizedState,D.updateQueue=$.updateQueue,D.type=$.type,s=$.dependencies,D.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),m=m.sibling;return Wn(lr,lr.current&1|2),l.child}s=s.sibling}D.tail!==null&&Yt()>Rl&&(l.flags|=128,S=!0,Nc(D,!1),l.lanes=4194304)}else{if(!S)if(s=qu($),s!==null){if(l.flags|=128,S=!0,m=s.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),Nc(D,!0),D.tail===null&&D.tailMode==="hidden"&&!$.alternate&&!rr)return oi(l),null}else 2*Yt()-D.renderingStartTime>Rl&&m!==1073741824&&(l.flags|=128,S=!0,Nc(D,!1),l.lanes=4194304);D.isBackwards?($.sibling=l.child,l.child=$):(m=D.last,m!==null?m.sibling=$:l.child=$,D.last=$)}return D.tail!==null?(l=D.tail,D.rendering=l,D.tail=l.sibling,D.renderingStartTime=Yt(),l.sibling=null,m=lr.current,Wn(lr,S?m&1|2:m&1),l):(oi(l),null);case 22:case 23:return i1(),S=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==S&&(l.flags|=8192),S&&(l.mode&1)!==0?(Hi&1073741824)!==0&&(oi(l),l.subtreeFlags&6&&(l.flags|=8192)):oi(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function v6(s,l){switch(hh(l),l.tag){case 1:return Ii(l.type)&&Vu(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Al(),Kn(Ti),Kn(ii),Th(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Sh(l),null;case 13:if(Kn(lr),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Cl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Kn(lr),null;case 4:return Al(),null;case 10:return yh(l.type._context),null;case 22:case 23:return i1(),null;case 24:return null;default:return null}}var od=!1,ai=!1,C6=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Il(s,l){var m=s.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(S){xr(s,l,S)}else m.current=null}function Xh(s,l,m){try{m()}catch(S){xr(s,l,S)}}var z2=!1;function E6(s,l){if(ih=gi,s=Qt(),zt(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var S=m.getSelection&&m.getSelection();if(S&&S.rangeCount!==0){m=S.anchorNode;var N=S.anchorOffset,D=S.focusNode;S=S.focusOffset;try{m.nodeType,D.nodeType}catch{m=null;break e}var $=0,ae=-1,he=-1,Oe=0,$e=0,Ze=s,We=null;t:for(;;){for(var ft;Ze!==m||N!==0&&Ze.nodeType!==3||(ae=$+N),Ze!==D||S!==0&&Ze.nodeType!==3||(he=$+S),Ze.nodeType===3&&($+=Ze.nodeValue.length),(ft=Ze.firstChild)!==null;)We=Ze,Ze=ft;for(;;){if(Ze===s)break t;if(We===m&&++Oe===N&&(ae=$),We===D&&++$e===S&&(he=$),(ft=Ze.nextSibling)!==null)break;Ze=We,We=Ze.parentNode}Ze=ft}m=ae===-1||he===-1?null:{start:ae,end:he}}else m=null}m=m||{start:0,end:0}}else m=null;for(sh={focusedElem:s,selectionRange:m},gi=!1,mt=l;mt!==null;)if(l=mt,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,mt=s;else for(;mt!==null;){l=mt;try{var xt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var Ct=xt.memoizedProps,Ar=xt.memoizedState,Te=l.stateNode,ge=Te.getSnapshotBeforeUpdate(l.elementType===l.type?Ct:Cs(l.type,Ct),Ar);Te.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Ne=l.stateNode.containerInfo;Ne.nodeType===1?Ne.textContent="":Ne.nodeType===9&&Ne.documentElement&&Ne.removeChild(Ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Qe){xr(l,l.return,Qe)}if(s=l.sibling,s!==null){s.return=l.return,mt=s;break}mt=l.return}return xt=z2,z2=!1,xt}function Rc(s,l,m){var S=l.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var N=S=S.next;do{if((N.tag&s)===s){var D=N.destroy;N.destroy=void 0,D!==void 0&&Xh(l,m,D)}N=N.next}while(N!==S)}}function ad(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var m=l=l.next;do{if((m.tag&s)===s){var S=m.create;m.destroy=S()}m=m.next}while(m!==l)}}function $h(s){var l=s.ref;if(l!==null){var m=s.stateNode;switch(s.tag){case 5:s=m;break;default:s=m}typeof l=="function"?l(s):l.current=s}}function G2(s){var l=s.alternate;l!==null&&(s.alternate=null,G2(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Vs],delete l[wc],delete l[ch],delete l[i6],delete l[s6])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function X2(s){return s.tag===5||s.tag===3||s.tag===4}function $2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||X2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yh(s,l,m){var S=s.tag;if(S===5||S===6)s=s.stateNode,l?m.nodeType===8?m.parentNode.insertBefore(s,l):m.insertBefore(s,l):(m.nodeType===8?(l=m.parentNode,l.insertBefore(s,m)):(l=m,l.appendChild(s)),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Bu));else if(S!==4&&(s=s.child,s!==null))for(Yh(s,l,m),s=s.sibling;s!==null;)Yh(s,l,m),s=s.sibling}function Zh(s,l,m){var S=s.tag;if(S===5||S===6)s=s.stateNode,l?m.insertBefore(s,l):m.appendChild(s);else if(S!==4&&(s=s.child,s!==null))for(Zh(s,l,m),s=s.sibling;s!==null;)Zh(s,l,m),s=s.sibling}var qr=null,Es=!1;function Xo(s,l,m){for(m=m.child;m!==null;)Y2(s,l,m),m=m.sibling}function Y2(s,l,m){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount($t,m)}catch{}switch(m.tag){case 5:ai||Il(m,l);case 6:var S=qr,N=Es;qr=null,Xo(s,l,m),qr=S,Es=N,qr!==null&&(Es?(s=qr,m=m.stateNode,s.nodeType===8?s.parentNode.removeChild(m):s.removeChild(m)):qr.removeChild(m.stateNode));break;case 18:qr!==null&&(Es?(s=qr,m=m.stateNode,s.nodeType===8?lh(s.parentNode,m):s.nodeType===1&&lh(s,m),Ai(s)):lh(qr,m.stateNode));break;case 4:S=qr,N=Es,qr=m.stateNode.containerInfo,Es=!0,Xo(s,l,m),qr=S,Es=N;break;case 0:case 11:case 14:case 15:if(!ai&&(S=m.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){N=S=S.next;do{var D=N,$=D.destroy;D=D.tag,$!==void 0&&((D&2)!==0||(D&4)!==0)&&Xh(m,l,$),N=N.next}while(N!==S)}Xo(s,l,m);break;case 1:if(!ai&&(Il(m,l),S=m.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=m.memoizedProps,S.state=m.memoizedState,S.componentWillUnmount()}catch(ae){xr(m,l,ae)}Xo(s,l,m);break;case 21:Xo(s,l,m);break;case 22:m.mode&1?(ai=(S=ai)||m.memoizedState!==null,Xo(s,l,m),ai=S):Xo(s,l,m);break;default:Xo(s,l,m)}}function Z2(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var m=s.stateNode;m===null&&(m=s.stateNode=new C6),l.forEach(function(S){var N=P6.bind(null,s,S);m.has(S)||(m.add(S),S.then(N,N))})}}function bs(s,l){var m=l.deletions;if(m!==null)for(var S=0;S<m.length;S++){var N=m[S];try{var D=s,$=l,ae=$;e:for(;ae!==null;){switch(ae.tag){case 5:qr=ae.stateNode,Es=!1;break e;case 3:qr=ae.stateNode.containerInfo,Es=!0;break e;case 4:qr=ae.stateNode.containerInfo,Es=!0;break e}ae=ae.return}if(qr===null)throw Error(n(160));Y2(D,$,N),qr=null,Es=!1;var he=N.alternate;he!==null&&(he.return=null),N.return=null}catch(Oe){xr(N,l,Oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)K2(l,s),l=l.sibling}function K2(s,l){var m=s.alternate,S=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(bs(l,s),Ws(s),S&4){try{Rc(3,s,s.return),ad(3,s)}catch(Ct){xr(s,s.return,Ct)}try{Rc(5,s,s.return)}catch(Ct){xr(s,s.return,Ct)}}break;case 1:bs(l,s),Ws(s),S&512&&m!==null&&Il(m,m.return);break;case 5:if(bs(l,s),Ws(s),S&512&&m!==null&&Il(m,m.return),s.flags&32){var N=s.stateNode;try{or(N,"")}catch(Ct){xr(s,s.return,Ct)}}if(S&4&&(N=s.stateNode,N!=null)){var D=s.memoizedProps,$=m!==null?m.memoizedProps:D,ae=s.type,he=s.updateQueue;if(s.updateQueue=null,he!==null)try{ae==="input"&&D.type==="radio"&&D.name!=null&&nn(N,D),fn(ae,$);var Oe=fn(ae,D);for($=0;$<he.length;$+=2){var $e=he[$],Ze=he[$+1];$e==="style"?Xe(N,Ze):$e==="dangerouslySetInnerHTML"?un(N,Ze):$e==="children"?or(N,Ze):U(N,$e,Ze,Oe)}switch(ae){case"input":Gt(N,D);break;case"textarea":Un(N,D);break;case"select":var We=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!D.multiple;var ft=D.value;ft!=null?rt(N,!!D.multiple,ft,!1):We!==!!D.multiple&&(D.defaultValue!=null?rt(N,!!D.multiple,D.defaultValue,!0):rt(N,!!D.multiple,D.multiple?[]:"",!1))}N[wc]=D}catch(Ct){xr(s,s.return,Ct)}}break;case 6:if(bs(l,s),Ws(s),S&4){if(s.stateNode===null)throw Error(n(162));N=s.stateNode,D=s.memoizedProps;try{N.nodeValue=D}catch(Ct){xr(s,s.return,Ct)}}break;case 3:if(bs(l,s),Ws(s),S&4&&m!==null&&m.memoizedState.isDehydrated)try{Ai(l.containerInfo)}catch(Ct){xr(s,s.return,Ct)}break;case 4:bs(l,s),Ws(s);break;case 13:bs(l,s),Ws(s),N=s.child,N.flags&8192&&(D=N.memoizedState!==null,N.stateNode.isHidden=D,!D||N.alternate!==null&&N.alternate.memoizedState!==null||(Qh=Yt())),S&4&&Z2(s);break;case 22:if($e=m!==null&&m.memoizedState!==null,s.mode&1?(ai=(Oe=ai)||$e,bs(l,s),ai=Oe):bs(l,s),Ws(s),S&8192){if(Oe=s.memoizedState!==null,(s.stateNode.isHidden=Oe)&&!$e&&(s.mode&1)!==0)for(mt=s,$e=s.child;$e!==null;){for(Ze=mt=$e;mt!==null;){switch(We=mt,ft=We.child,We.tag){case 0:case 11:case 14:case 15:Rc(4,We,We.return);break;case 1:Il(We,We.return);var xt=We.stateNode;if(typeof xt.componentWillUnmount=="function"){S=We,m=We.return;try{l=S,xt.props=l.memoizedProps,xt.state=l.memoizedState,xt.componentWillUnmount()}catch(Ct){xr(S,m,Ct)}}break;case 5:Il(We,We.return);break;case 22:if(We.memoizedState!==null){J2(Ze);continue}}ft!==null?(ft.return=We,mt=ft):J2(Ze)}$e=$e.sibling}e:for($e=null,Ze=s;;){if(Ze.tag===5){if($e===null){$e=Ze;try{N=Ze.stateNode,Oe?(D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(ae=Ze.stateNode,he=Ze.memoizedProps.style,$=he!=null&&he.hasOwnProperty("display")?he.display:null,ae.style.display=dn("display",$))}catch(Ct){xr(s,s.return,Ct)}}}else if(Ze.tag===6){if($e===null)try{Ze.stateNode.nodeValue=Oe?"":Ze.memoizedProps}catch(Ct){xr(s,s.return,Ct)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===s)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===s)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===s)break e;$e===Ze&&($e=null),Ze=Ze.return}$e===Ze&&($e=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:bs(l,s),Ws(s),S&4&&Z2(s);break;case 21:break;default:bs(l,s),Ws(s)}}function Ws(s){var l=s.flags;if(l&2){try{e:{for(var m=s.return;m!==null;){if(X2(m)){var S=m;break e}m=m.return}throw Error(n(160))}switch(S.tag){case 5:var N=S.stateNode;S.flags&32&&(or(N,""),S.flags&=-33);var D=$2(s);Zh(s,D,N);break;case 3:case 4:var $=S.stateNode.containerInfo,ae=$2(s);Yh(s,ae,$);break;default:throw Error(n(161))}}catch(he){xr(s,s.return,he)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function b6(s,l,m){mt=s,q2(s)}function q2(s,l,m){for(var S=(s.mode&1)!==0;mt!==null;){var N=mt,D=N.child;if(N.tag===22&&S){var $=N.memoizedState!==null||od;if(!$){var ae=N.alternate,he=ae!==null&&ae.memoizedState!==null||ai;ae=od;var Oe=ai;if(od=$,(ai=he)&&!Oe)for(mt=N;mt!==null;)$=mt,he=$.child,$.tag===22&&$.memoizedState!==null?ex(N):he!==null?(he.return=$,mt=he):ex(N);for(;D!==null;)mt=D,q2(D),D=D.sibling;mt=N,od=ae,ai=Oe}Q2(s)}else(N.subtreeFlags&8772)!==0&&D!==null?(D.return=N,mt=D):Q2(s)}}function Q2(s){for(;mt!==null;){var l=mt;if((l.flags&8772)!==0){var m=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ai||ad(5,l);break;case 1:var S=l.stateNode;if(l.flags&4&&!ai)if(m===null)S.componentDidMount();else{var N=l.elementType===l.type?m.memoizedProps:Cs(l.type,m.memoizedProps);S.componentDidUpdate(N,m.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var D=l.updateQueue;D!==null&&Jg(l,D,S);break;case 3:var $=l.updateQueue;if($!==null){if(m=null,l.child!==null)switch(l.child.tag){case 5:m=l.child.stateNode;break;case 1:m=l.child.stateNode}Jg(l,$,m)}break;case 5:var ae=l.stateNode;if(m===null&&l.flags&4){m=ae;var he=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&m.focus();break;case"img":he.src&&(m.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Oe=l.alternate;if(Oe!==null){var $e=Oe.memoizedState;if($e!==null){var Ze=$e.dehydrated;Ze!==null&&Ai(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ai||l.flags&512&&$h(l)}catch(We){xr(l,l.return,We)}}if(l===s){mt=null;break}if(m=l.sibling,m!==null){m.return=l.return,mt=m;break}mt=l.return}}function J2(s){for(;mt!==null;){var l=mt;if(l===s){mt=null;break}var m=l.sibling;if(m!==null){m.return=l.return,mt=m;break}mt=l.return}}function ex(s){for(;mt!==null;){var l=mt;try{switch(l.tag){case 0:case 11:case 15:var m=l.return;try{ad(4,l)}catch(he){xr(l,m,he)}break;case 1:var S=l.stateNode;if(typeof S.componentDidMount=="function"){var N=l.return;try{S.componentDidMount()}catch(he){xr(l,N,he)}}var D=l.return;try{$h(l)}catch(he){xr(l,D,he)}break;case 5:var $=l.return;try{$h(l)}catch(he){xr(l,$,he)}}}catch(he){xr(l,l.return,he)}if(l===s){mt=null;break}var ae=l.sibling;if(ae!==null){ae.return=l.return,mt=ae;break}mt=l.return}}var S6=Math.ceil,ld=Z.ReactCurrentDispatcher,Kh=Z.ReactCurrentOwner,ss=Z.ReactCurrentBatchConfig,bn=0,Gr=null,Nr=null,Qr=0,Hi=0,Nl=Uo(0),kr=0,_c=null,ka=0,cd=0,qh=0,Pc=null,Ri=null,Qh=0,Rl=1/0,Eo=null,ud=!1,Jh=null,$o=null,dd=!1,Yo=null,fd=0,Dc=0,e1=null,hd=-1,pd=0;function vi(){return(bn&6)!==0?Yt():hd!==-1?hd:hd=Yt()}function Zo(s){return(s.mode&1)===0?1:(bn&2)!==0&&Qr!==0?Qr&-Qr:a6.transition!==null?(pd===0&&(pd=pr()),pd):(s=Ft,s!==0||(s=window.event,s=s===void 0?16:co(s.type)),s)}function Ss(s,l,m,S){if(50<Dc)throw Dc=0,e1=null,Error(n(185));te(s,m,S),((bn&2)===0||s!==Gr)&&(s===Gr&&((bn&2)===0&&(cd|=m),kr===4&&Ko(s,Qr)),_i(s,S),m===1&&bn===0&&(l.mode&1)===0&&(Rl=Yt()+500,Hu&&Wo()))}function _i(s,l){var m=s.callbackNode;bi(s,l);var S=Ur(s,s===Gr?Qr:0);if(S===0)m!==null&&rn(m),s.callbackNode=null,s.callbackPriority=0;else if(l=S&-S,s.callbackPriority!==l){if(m!=null&&rn(m),l===1)s.tag===0?o6(nx.bind(null,s)):Ug(nx.bind(null,s)),n6(function(){(bn&6)===0&&Wo()}),m=null;else{switch(qi(S)){case 1:m=Be;break;case 4:m=Fr;break;case 16:m=yn;break;case 536870912:m=ei;break;default:m=yn}m=ux(m,tx.bind(null,s))}s.callbackPriority=l,s.callbackNode=m}}function tx(s,l){if(hd=-1,pd=0,(bn&6)!==0)throw Error(n(327));var m=s.callbackNode;if(_l()&&s.callbackNode!==m)return null;var S=Ur(s,s===Gr?Qr:0);if(S===0)return null;if((S&30)!==0||(S&s.expiredLanes)!==0||l)l=md(s,S);else{l=S;var N=bn;bn|=2;var D=ix();(Gr!==s||Qr!==l)&&(Eo=null,Rl=Yt()+500,ja(s,l));do try{I6();break}catch(ae){rx(s,ae)}while(!0);wh(),ld.current=D,bn=N,Nr!==null?l=0:(Gr=null,Qr=0,l=kr)}if(l!==0){if(l===2&&(N=Tn(s),N!==0&&(S=N,l=t1(s,N))),l===1)throw m=_c,ja(s,0),Ko(s,S),_i(s,Yt()),m;if(l===6)Ko(s,S);else{if(N=s.current.alternate,(S&30)===0&&!A6(N)&&(l=md(s,S),l===2&&(D=Tn(s),D!==0&&(S=D,l=t1(s,D))),l===1))throw m=_c,ja(s,0),Ko(s,S),_i(s,Yt()),m;switch(s.finishedWork=N,s.finishedLanes=S,l){case 0:case 1:throw Error(n(345));case 2:Ba(s,Ri,Eo);break;case 3:if(Ko(s,S),(S&130023424)===S&&(l=Qh+500-Yt(),10<l)){if(Ur(s,0)!==0)break;if(N=s.suspendedLanes,(N&S)!==S){vi(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=ah(Ba.bind(null,s,Ri,Eo),l);break}Ba(s,Ri,Eo);break;case 4:if(Ko(s,S),(S&4194240)===S)break;for(l=s.eventTimes,N=-1;0<S;){var $=31-vn(S);D=1<<$,$=l[$],$>N&&(N=$),S&=~D}if(S=N,S=Yt()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*S6(S/1960))-S,10<S){s.timeoutHandle=ah(Ba.bind(null,s,Ri,Eo),S);break}Ba(s,Ri,Eo);break;case 5:Ba(s,Ri,Eo);break;default:throw Error(n(329))}}}return _i(s,Yt()),s.callbackNode===m?tx.bind(null,s):null}function t1(s,l){var m=Pc;return s.current.memoizedState.isDehydrated&&(ja(s,l).flags|=256),s=md(s,l),s!==2&&(l=Ri,Ri=m,l!==null&&n1(l)),s}function n1(s){Ri===null?Ri=s:Ri.push.apply(Ri,s)}function A6(s){for(var l=s;;){if(l.flags&16384){var m=l.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var S=0;S<m.length;S++){var N=m[S],D=N.getSnapshot;N=N.value;try{if(!ye(D(),N))return!1}catch{return!1}}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ko(s,l){for(l&=~qh,l&=~cd,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var m=31-vn(l),S=1<<m;s[m]=-1,l&=~S}}function nx(s){if((bn&6)!==0)throw Error(n(327));_l();var l=Ur(s,0);if((l&1)===0)return _i(s,Yt()),null;var m=md(s,l);if(s.tag!==0&&m===2){var S=Tn(s);S!==0&&(l=S,m=t1(s,S))}if(m===1)throw m=_c,ja(s,0),Ko(s,l),_i(s,Yt()),m;if(m===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Ba(s,Ri,Eo),_i(s,Yt()),null}function r1(s,l){var m=bn;bn|=1;try{return s(l)}finally{bn=m,bn===0&&(Rl=Yt()+500,Hu&&Wo())}}function La(s){Yo!==null&&Yo.tag===0&&(bn&6)===0&&_l();var l=bn;bn|=1;var m=ss.transition,S=Ft;try{if(ss.transition=null,Ft=1,s)return s()}finally{Ft=S,ss.transition=m,bn=l,(bn&6)===0&&Wo()}}function i1(){Hi=Nl.current,Kn(Nl)}function ja(s,l){s.finishedWork=null,s.finishedLanes=0;var m=s.timeoutHandle;if(m!==-1&&(s.timeoutHandle=-1,t6(m)),Nr!==null)for(m=Nr.return;m!==null;){var S=m;switch(hh(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Vu();break;case 3:Al(),Kn(Ti),Kn(ii),Th();break;case 5:Sh(S);break;case 4:Al();break;case 13:Kn(lr);break;case 19:Kn(lr);break;case 10:yh(S.type._context);break;case 22:case 23:i1()}m=m.return}if(Gr=s,Nr=s=qo(s.current,null),Qr=Hi=l,kr=0,_c=null,qh=cd=ka=0,Ri=Pc=null,Da!==null){for(l=0;l<Da.length;l++)if(m=Da[l],S=m.interleaved,S!==null){m.interleaved=null;var N=S.next,D=m.pending;if(D!==null){var $=D.next;D.next=N,S.next=$}m.pending=S}Da=null}return s}function rx(s,l){do{var m=Nr;try{if(wh(),Qu.current=nd,Ju){for(var S=cr.memoizedState;S!==null;){var N=S.queue;N!==null&&(N.pending=null),S=S.next}Ju=!1}if(Oa=0,zr=Or=cr=null,Sc=!1,Ac=0,Kh.current=null,m===null||m.return===null){kr=1,_c=l,Nr=null;break}e:{var D=s,$=m.return,ae=m,he=l;if(l=Qr,ae.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Oe=he,$e=ae,Ze=$e.tag;if(($e.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var We=$e.alternate;We?($e.updateQueue=We.updateQueue,$e.memoizedState=We.memoizedState,$e.lanes=We.lanes):($e.updateQueue=null,$e.memoizedState=null)}var ft=N2($);if(ft!==null){ft.flags&=-257,R2(ft,$,ae,D,l),ft.mode&1&&I2(D,Oe,l),l=ft,he=Oe;var xt=l.updateQueue;if(xt===null){var Ct=new Set;Ct.add(he),l.updateQueue=Ct}else xt.add(he);break e}else{if((l&1)===0){I2(D,Oe,l),s1();break e}he=Error(n(426))}}else if(rr&&ae.mode&1){var Ar=N2($);if(Ar!==null){(Ar.flags&65536)===0&&(Ar.flags|=256),R2(Ar,$,ae,D,l),gh(Tl(he,ae));break e}}D=he=Tl(he,ae),kr!==4&&(kr=2),Pc===null?Pc=[D]:Pc.push(D),D=$;do{switch(D.tag){case 3:D.flags|=65536,l&=-l,D.lanes|=l;var Te=A2(D,he,l);Qg(D,Te);break e;case 1:ae=he;var ge=D.type,Ne=D.stateNode;if((D.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&($o===null||!$o.has(Ne)))){D.flags|=65536,l&=-l,D.lanes|=l;var Qe=T2(D,ae,l);Qg(D,Qe);break e}}D=D.return}while(D!==null)}ox(m)}catch(St){l=St,Nr===m&&m!==null&&(Nr=m=m.return);continue}break}while(!0)}function ix(){var s=ld.current;return ld.current=nd,s===null?nd:s}function s1(){(kr===0||kr===3||kr===2)&&(kr=4),Gr===null||(ka&268435455)===0&&(cd&268435455)===0||Ko(Gr,Qr)}function md(s,l){var m=bn;bn|=2;var S=ix();(Gr!==s||Qr!==l)&&(Eo=null,ja(s,l));do try{T6();break}catch(N){rx(s,N)}while(!0);if(wh(),bn=m,ld.current=S,Nr!==null)throw Error(n(261));return Gr=null,Qr=0,kr}function T6(){for(;Nr!==null;)sx(Nr)}function I6(){for(;Nr!==null&&!Et();)sx(Nr)}function sx(s){var l=cx(s.alternate,s,Hi);s.memoizedProps=s.pendingProps,l===null?ox(s):Nr=l,Kh.current=null}function ox(s){var l=s;do{var m=l.alternate;if(s=l.return,(l.flags&32768)===0){if(m=y6(m,l,Hi),m!==null){Nr=m;return}}else{if(m=v6(m,l),m!==null){m.flags&=32767,Nr=m;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{kr=6,Nr=null;return}}if(l=l.sibling,l!==null){Nr=l;return}Nr=l=s}while(l!==null);kr===0&&(kr=5)}function Ba(s,l,m){var S=Ft,N=ss.transition;try{ss.transition=null,Ft=1,N6(s,l,m,S)}finally{ss.transition=N,Ft=S}return null}function N6(s,l,m,S){do _l();while(Yo!==null);if((bn&6)!==0)throw Error(n(327));m=s.finishedWork;var N=s.finishedLanes;if(m===null)return null;if(s.finishedWork=null,s.finishedLanes=0,m===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var D=m.lanes|m.childLanes;if(bt(s,D),s===Gr&&(Nr=Gr=null,Qr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||dd||(dd=!0,ux(yn,function(){return _l(),null})),D=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||D){D=ss.transition,ss.transition=null;var $=Ft;Ft=1;var ae=bn;bn|=4,Kh.current=null,E6(s,m),K2(m,s),ri(sh),gi=!!ih,sh=ih=null,s.current=m,b6(m),Xn(),bn=ae,Ft=$,ss.transition=D}else s.current=m;if(dd&&(dd=!1,Yo=s,fd=N),D=s.pendingLanes,D===0&&($o=null),at(m.stateNode),_i(s,Yt()),l!==null)for(S=s.onRecoverableError,m=0;m<l.length;m++)N=l[m],S(N.value,{componentStack:N.stack,digest:N.digest});if(ud)throw ud=!1,s=Jh,Jh=null,s;return(fd&1)!==0&&s.tag!==0&&_l(),D=s.pendingLanes,(D&1)!==0?s===e1?Dc++:(Dc=0,e1=s):Dc=0,Wo(),null}function _l(){if(Yo!==null){var s=qi(fd),l=ss.transition,m=Ft;try{if(ss.transition=null,Ft=16>s?16:s,Yo===null)var S=!1;else{if(s=Yo,Yo=null,fd=0,(bn&6)!==0)throw Error(n(331));var N=bn;for(bn|=4,mt=s.current;mt!==null;){var D=mt,$=D.child;if((mt.flags&16)!==0){var ae=D.deletions;if(ae!==null){for(var he=0;he<ae.length;he++){var Oe=ae[he];for(mt=Oe;mt!==null;){var $e=mt;switch($e.tag){case 0:case 11:case 15:Rc(8,$e,D)}var Ze=$e.child;if(Ze!==null)Ze.return=$e,mt=Ze;else for(;mt!==null;){$e=mt;var We=$e.sibling,ft=$e.return;if(G2($e),$e===Oe){mt=null;break}if(We!==null){We.return=ft,mt=We;break}mt=ft}}}var xt=D.alternate;if(xt!==null){var Ct=xt.child;if(Ct!==null){xt.child=null;do{var Ar=Ct.sibling;Ct.sibling=null,Ct=Ar}while(Ct!==null)}}mt=D}}if((D.subtreeFlags&2064)!==0&&$!==null)$.return=D,mt=$;else e:for(;mt!==null;){if(D=mt,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Rc(9,D,D.return)}var Te=D.sibling;if(Te!==null){Te.return=D.return,mt=Te;break e}mt=D.return}}var ge=s.current;for(mt=ge;mt!==null;){$=mt;var Ne=$.child;if(($.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=$,mt=Ne;else e:for($=ge;mt!==null;){if(ae=mt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:ad(9,ae)}}catch(St){xr(ae,ae.return,St)}if(ae===$){mt=null;break e}var Qe=ae.sibling;if(Qe!==null){Qe.return=ae.return,mt=Qe;break e}mt=ae.return}}if(bn=N,Wo(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot($t,s)}catch{}S=!0}return S}finally{Ft=m,ss.transition=l}}return!1}function ax(s,l,m){l=Tl(m,l),l=A2(s,l,1),s=Go(s,l,1),l=vi(),s!==null&&(te(s,1,l),_i(s,l))}function xr(s,l,m){if(s.tag===3)ax(s,s,m);else for(;l!==null;){if(l.tag===3){ax(l,s,m);break}else if(l.tag===1){var S=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&($o===null||!$o.has(S))){s=Tl(m,s),s=T2(l,s,1),l=Go(l,s,1),s=vi(),l!==null&&(te(l,1,s),_i(l,s));break}}l=l.return}}function R6(s,l,m){var S=s.pingCache;S!==null&&S.delete(l),l=vi(),s.pingedLanes|=s.suspendedLanes&m,Gr===s&&(Qr&m)===m&&(kr===4||kr===3&&(Qr&130023424)===Qr&&500>Yt()-Qh?ja(s,0):qh|=m),_i(s,l)}function lx(s,l){l===0&&((s.mode&1)===0?l=1:(l=Oi,Oi<<=1,(Oi&130023424)===0&&(Oi=4194304)));var m=vi();s=yo(s,l),s!==null&&(te(s,l,m),_i(s,m))}function _6(s){var l=s.memoizedState,m=0;l!==null&&(m=l.retryLane),lx(s,m)}function P6(s,l){var m=0;switch(s.tag){case 13:var S=s.stateNode,N=s.memoizedState;N!==null&&(m=N.retryLane);break;case 19:S=s.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(l),lx(s,m)}var cx;cx=function(s,l,m){if(s!==null)if(s.memoizedProps!==l.pendingProps||Ti.current)Ni=!0;else{if((s.lanes&m)===0&&(l.flags&128)===0)return Ni=!1,w6(s,l,m);Ni=(s.flags&131072)!==0}else Ni=!1,rr&&(l.flags&1048576)!==0&&Hg(l,zu,l.index);switch(l.lanes=0,l.tag){case 2:var S=l.type;sd(s,l),s=l.pendingProps;var N=wl(l,ii.current);Sl(l,m),N=Rh(null,l,S,s,N,m);var D=_h();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Ii(S)?(D=!0,Uu(l)):D=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Eh(l),N.updater=rd,l.stateNode=N,N._reactInternals=l,Lh(l,S,s,m),l=Vh(null,l,S,!0,D,m)):(l.tag=0,rr&&D&&fh(l),yi(null,l,N,m),l=l.child),l;case 16:S=l.elementType;e:{switch(sd(s,l),s=l.pendingProps,N=S._init,S=N(S._payload),l.type=S,N=l.tag=M6(S),s=Cs(S,s),N){case 0:l=Fh(null,l,S,s,m);break e;case 1:l=k2(null,l,S,s,m);break e;case 11:l=_2(null,l,S,s,m);break e;case 14:l=P2(null,l,S,Cs(S.type,s),m);break e}throw Error(n(306,S,""))}return l;case 0:return S=l.type,N=l.pendingProps,N=l.elementType===S?N:Cs(S,N),Fh(s,l,S,N,m);case 1:return S=l.type,N=l.pendingProps,N=l.elementType===S?N:Cs(S,N),k2(s,l,S,N,m);case 3:e:{if(L2(l),s===null)throw Error(n(387));S=l.pendingProps,D=l.memoizedState,N=D.element,qg(s,l),Ku(l,S,null,m);var $=l.memoizedState;if(S=$.element,D.isDehydrated)if(D={element:S,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=D,l.memoizedState=D,l.flags&256){N=Tl(Error(n(423)),l),l=j2(s,l,S,m,N);break e}else if(S!==N){N=Tl(Error(n(424)),l),l=j2(s,l,S,m,N);break e}else for(Ui=Vo(l.stateNode.containerInfo.firstChild),Vi=l,rr=!0,vs=null,m=Zg(l,null,S,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Cl(),S===N){l=Co(s,l,m);break e}yi(s,l,S,m)}l=l.child}return l;case 5:return e2(l),s===null&&mh(l),S=l.type,N=l.pendingProps,D=s!==null?s.memoizedProps:null,$=N.children,oh(S,N)?$=null:D!==null&&oh(S,D)&&(l.flags|=32),O2(s,l),yi(s,l,$,m),l.child;case 6:return s===null&&mh(l),null;case 13:return B2(s,l,m);case 4:return bh(l,l.stateNode.containerInfo),S=l.pendingProps,s===null?l.child=El(l,null,S,m):yi(s,l,S,m),l.child;case 11:return S=l.type,N=l.pendingProps,N=l.elementType===S?N:Cs(S,N),_2(s,l,S,N,m);case 7:return yi(s,l,l.pendingProps,m),l.child;case 8:return yi(s,l,l.pendingProps.children,m),l.child;case 12:return yi(s,l,l.pendingProps.children,m),l.child;case 10:e:{if(S=l.type._context,N=l.pendingProps,D=l.memoizedProps,$=N.value,Wn($u,S._currentValue),S._currentValue=$,D!==null)if(ye(D.value,$)){if(D.children===N.children&&!Ti.current){l=Co(s,l,m);break e}}else for(D=l.child,D!==null&&(D.return=l);D!==null;){var ae=D.dependencies;if(ae!==null){$=D.child;for(var he=ae.firstContext;he!==null;){if(he.context===S){if(D.tag===1){he=vo(-1,m&-m),he.tag=2;var Oe=D.updateQueue;if(Oe!==null){Oe=Oe.shared;var $e=Oe.pending;$e===null?he.next=he:(he.next=$e.next,$e.next=he),Oe.pending=he}}D.lanes|=m,he=D.alternate,he!==null&&(he.lanes|=m),vh(D.return,m,l),ae.lanes|=m;break}he=he.next}}else if(D.tag===10)$=D.type===l.type?null:D.child;else if(D.tag===18){if($=D.return,$===null)throw Error(n(341));$.lanes|=m,ae=$.alternate,ae!==null&&(ae.lanes|=m),vh($,m,l),$=D.sibling}else $=D.child;if($!==null)$.return=D;else for($=D;$!==null;){if($===l){$=null;break}if(D=$.sibling,D!==null){D.return=$.return,$=D;break}$=$.return}D=$}yi(s,l,N.children,m),l=l.child}return l;case 9:return N=l.type,S=l.pendingProps.children,Sl(l,m),N=rs(N),S=S(N),l.flags|=1,yi(s,l,S,m),l.child;case 14:return S=l.type,N=Cs(S,l.pendingProps),N=Cs(S.type,N),P2(s,l,S,N,m);case 15:return D2(s,l,l.type,l.pendingProps,m);case 17:return S=l.type,N=l.pendingProps,N=l.elementType===S?N:Cs(S,N),sd(s,l),l.tag=1,Ii(S)?(s=!0,Uu(l)):s=!1,Sl(l,m),b2(l,S,N),Lh(l,S,N,m),Vh(null,l,S,!0,s,m);case 19:return V2(s,l,m);case 22:return M2(s,l,m)}throw Error(n(156,l.tag))};function ux(s,l){return wn(s,l)}function D6(s,l,m,S){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(s,l,m,S){return new D6(s,l,m,S)}function o1(s){return s=s.prototype,!(!s||!s.isReactComponent)}function M6(s){if(typeof s=="function")return o1(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ee)return 11;if(s===ne)return 14}return 2}function qo(s,l){var m=s.alternate;return m===null?(m=os(s.tag,l,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=l,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&14680064,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,l=s.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m}function gd(s,l,m,S,N,D){var $=2;if(S=s,typeof s=="function")o1(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case P:return Fa(m.children,N,D,l);case L:$=8,N|=8;break;case B:return s=os(12,m,l,N|2),s.elementType=B,s.lanes=D,s;case X:return s=os(13,m,l,N),s.elementType=X,s.lanes=D,s;case Pe:return s=os(19,m,l,N),s.elementType=Pe,s.lanes=D,s;case xe:return xd(m,N,D,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:$=10;break e;case q:$=9;break e;case ee:$=11;break e;case ne:$=14;break e;case we:$=16,S=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=os($,m,l,N),l.elementType=s,l.type=S,l.lanes=D,l}function Fa(s,l,m,S){return s=os(7,s,S,l),s.lanes=m,s}function xd(s,l,m,S){return s=os(22,s,S,l),s.elementType=xe,s.lanes=m,s.stateNode={isHidden:!1},s}function a1(s,l,m){return s=os(6,s,null,l),s.lanes=m,s}function l1(s,l,m){return l=os(4,s.children!==null?s.children:[],s.key,l),l.lanes=m,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function O6(s,l,m,S,N){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ae(0),this.expirationTimes=Ae(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.identifierPrefix=S,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function c1(s,l,m,S,N,D,$,ae,he){return s=new O6(s,l,m,ae,he),l===1?(l=1,D===!0&&(l|=8)):l=0,D=os(3,null,null,l),s.current=D,D.stateNode=s,D.memoizedState={element:S,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(D),s}function k6(s,l,m){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:S==null?null:""+S,children:s,containerInfo:l,implementation:m}}function dx(s){if(!s)return Ho;s=s._reactInternals;e:{if(ot(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Ii(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var m=s.type;if(Ii(m))return Fg(s,m,l)}return l}function fx(s,l,m,S,N,D,$,ae,he){return s=c1(m,S,!0,s,N,D,$,ae,he),s.context=dx(null),m=s.current,S=vi(),N=Zo(m),D=vo(S,N),D.callback=l??null,Go(m,D,N),s.current.lanes=N,te(s,N,S),_i(s,S),s}function wd(s,l,m,S){var N=l.current,D=vi(),$=Zo(N);return m=dx(m),l.context===null?l.context=m:l.pendingContext=m,l=vo(D,$),l.payload={element:s},S=S===void 0?null:S,S!==null&&(l.callback=S),s=Go(N,l,$),s!==null&&(Ss(s,N,$,D),Zu(s,N,$)),$}function yd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hx(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<l?m:l}}function u1(s,l){hx(s,l),(s=s.alternate)&&hx(s,l)}function L6(){return null}var px=typeof reportError=="function"?reportError:function(s){console.error(s)};function d1(s){this._internalRoot=s}vd.prototype.render=d1.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));wd(s,l,null,null)},vd.prototype.unmount=d1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;La(function(){wd(null,s,null,null)}),l[mo]=null}};function vd(s){this._internalRoot=s}vd.prototype.unstable_scheduleHydration=function(s){if(s){var l=Mn();s={blockedOn:null,target:s,priority:l};for(var m=0;m<mr.length&&l!==0&&l<mr[m].priority;m++);mr.splice(m,0,s),m===0&&Oo(s)}};function f1(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function mx(){}function j6(s,l,m,S,N){if(N){if(typeof S=="function"){var D=S;S=function(){var Oe=yd($);D.call(Oe)}}var $=fx(l,S,s,0,null,!1,!1,"",mx);return s._reactRootContainer=$,s[mo]=$.current,gc(s.nodeType===8?s.parentNode:s),La(),$}for(;N=s.lastChild;)s.removeChild(N);if(typeof S=="function"){var ae=S;S=function(){var Oe=yd(he);ae.call(Oe)}}var he=c1(s,0,!1,null,null,!1,!1,"",mx);return s._reactRootContainer=he,s[mo]=he.current,gc(s.nodeType===8?s.parentNode:s),La(function(){wd(l,he,m,S)}),he}function Ed(s,l,m,S,N){var D=m._reactRootContainer;if(D){var $=D;if(typeof N=="function"){var ae=N;N=function(){var he=yd($);ae.call(he)}}wd(l,$,s,N)}else $=j6(m,l,s,N,S);return yd($)}ao=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var m=Nt(l.pendingLanes);m!==0&&(Jn(l,m|1),_i(l,Yt()),(bn&6)===0&&(Rl=Yt()+500,Wo()))}break;case 13:La(function(){var S=yo(s,1);if(S!==null){var N=vi();Ss(S,s,1,N)}}),u1(s,1)}},Dr=function(s){if(s.tag===13){var l=yo(s,134217728);if(l!==null){var m=vi();Ss(l,s,134217728,m)}u1(s,134217728)}},At=function(s){if(s.tag===13){var l=Zo(s),m=yo(s,l);if(m!==null){var S=vi();Ss(m,s,l,S)}u1(s,l)}},Mn=function(){return Ft},Mo=function(s,l){var m=Ft;try{return Ft=s,l()}finally{Ft=m}},Bt=function(s,l,m){switch(l){case"input":if(Gt(s,m),l=m.name,m.type==="radio"&&l!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<m.length;l++){var S=m[l];if(S!==s&&S.form===s.form){var N=Fu(S);if(!N)throw Error(n(90));Ye(S),Gt(S,N)}}}break;case"textarea":Un(s,m);break;case"select":l=m.value,l!=null&&rt(s,!!m.multiple,l,!1)}},an=r1,Dt=La;var B6={usingClientEntryPoint:!1,Events:[yc,gl,Fu,dt,Tt,r1]},Mc={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F6={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Kt(s),s===null?null:s.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||L6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{$t=bd.inject(F6),Lt=bd}catch{}}return Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B6,Pi.createPortal=function(s,l){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f1(l))throw Error(n(200));return k6(s,l,null,m)},Pi.createRoot=function(s,l){if(!f1(s))throw Error(n(299));var m=!1,S="",N=px;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(S=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=c1(s,1,!1,null,null,m,!1,S,N),s[mo]=l.current,gc(s.nodeType===8?s.parentNode:s),new d1(l)},Pi.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Kt(l),s=s===null?null:s.stateNode,s},Pi.flushSync=function(s){return La(s)},Pi.hydrate=function(s,l,m){if(!Cd(l))throw Error(n(200));return Ed(null,s,l,!0,m)},Pi.hydrateRoot=function(s,l,m){if(!f1(s))throw Error(n(405));var S=m!=null&&m.hydratedSources||null,N=!1,D="",$=px;if(m!=null&&(m.unstable_strictMode===!0&&(N=!0),m.identifierPrefix!==void 0&&(D=m.identifierPrefix),m.onRecoverableError!==void 0&&($=m.onRecoverableError)),l=fx(l,null,s,1,m??null,N,!1,D,$),s[mo]=l.current,gc(s),S)for(s=0;s<S.length;s++)m=S[s],N=m._getVersion,N=N(m._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[m,N]:l.mutableSourceEagerHydrationData.push(m,N);return new vd(l)},Pi.render=function(s,l,m){if(!Cd(l))throw Error(n(200));return Ed(null,s,l,!1,m)},Pi.unmountComponentAtNode=function(s){if(!Cd(s))throw Error(n(40));return s._reactRootContainer?(La(function(){Ed(null,null,s,!1,function(){s._reactRootContainer=null,s[mo]=null})}),!0):!1},Pi.unstable_batchedUpdates=r1,Pi.unstable_renderSubtreeIntoContainer=function(s,l,m,S){if(!Cd(m))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ed(s,l,m,!1,S)},Pi.version="18.3.1-next-f1338f8080-20240426",Pi}var Sx;function u3(){if(Sx)return m1.exports;Sx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),m1.exports=K6(),m1.exports}var Ax;function q6(){if(Ax)return Ad;Ax=1;var e=u3();return Ad.createRoot=e.createRoot,Ad.hydrateRoot=e.hydrateRoot,Ad}var Q6=q6(),M=Dp();const Ee=c3(M),d3=U6({__proto__:null,default:Ee},[M]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var f3=e=>{throw TypeError(e)},J6=(e,t,n)=>t.has(e)||f3("Cannot "+n),w1=(e,t,n)=>(J6(e,t,"read from private field"),n?n.call(e):t.get(e)),e8=(e,t,n)=>t.has(e)?f3("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Tx="popstate";function t8(e={}){function t(i,c){let{pathname:u,search:h,hash:w}=i.location;return au("",{pathname:u,search:h,hash:w},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(i,c){return typeof c=="string"?c:eo(c)}return r8(t,n,null,e)}function en(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function n8(){return Math.random().toString(36).substring(2,10)}function Ix(e,t){return{usr:e.state,key:e.key,idx:t}}function au(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ma(t):t,state:n,key:t&&t.key||i||n8()}}function eo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ma(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function r8(e,t,n,i={}){let{window:c=document.defaultView,v5Compat:u=!1}=i,h=c.history,w="POP",y=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function E(){w="POP";let F=b(),G=F==null?null:F-g;g=F,y&&y({action:w,location:k.location,delta:G})}function T(F,G){w="PUSH";let z=au(k.location,F,G);g=b()+1;let U=Ix(z,g),Z=k.createHref(z);try{h.pushState(U,"",Z)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;c.location.assign(Z)}u&&y&&y({action:w,location:k.location,delta:1})}function R(F,G){w="REPLACE";let z=au(k.location,F,G);g=b();let U=Ix(z,g),Z=k.createHref(z);h.replaceState(U,"",Z),u&&y&&y({action:w,location:k.location,delta:0})}function O(F){return h3(F)}let k={get action(){return w},get location(){return e(c,h)},listen(F){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(Tx,E),y=F,()=>{c.removeEventListener(Tx,E),y=null}},createHref(F){return t(c,F)},createURL:O,encodeLocation(F){let G=O(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:R,go(F){return h.go(F)}};return k}function h3(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),en(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:eo(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Wc,Nx=class{constructor(e){if(e8(this,Wc,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(w1(this,Wc).has(e))return w1(this,Wc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){w1(this,Wc).set(e,t)}};Wc=new WeakMap;var i8=new Set(["lazy","caseSensitive","path","id","index","children"]);function s8(e){return i8.has(e)}var o8=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function a8(e){return o8.has(e)}function l8(e){return e.index===!0}function lu(e,t,n=[],i={},c=!1){return e.map((u,h)=>{let w=[...n,String(h)],y=typeof u.id=="string"?u.id:w.join("-");if(en(u.index!==!0||!u.children,"Cannot specify children on an index route"),en(c||!i[y],`Found a route id collision on id "${y}".  Route id's must be globally unique within Data Router usages`),l8(u)){let g={...u,id:y};return i[y]=Rx(g,t(g)),g}else{let g={...u,id:y,children:void 0};return i[y]=Rx(g,t(g)),u.children&&(g.children=lu(u.children,t,w,i,c)),g}})}function Rx(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function na(e,t,n="/"){return zc(e,t,n,!1)}function zc(e,t,n,i){let c=typeof t=="string"?ma(t):t,u=ds(c.pathname||"/",n);if(u==null)return null;let h=p3(e);u8(h);let w=null;for(let y=0;w==null&&y<h.length;++y){let g=C8(u);w=y8(h[y],g,i)}return w}function c8(e,t){let{route:n,pathname:i,params:c}=e;return{id:n.id,pathname:i,params:c,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function p3(e,t=[],n=[],i="",c=!1){let u=(h,w,y=c,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:w,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&y)return;en(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let E=qs([i,b.relativePath]),T=n.concat(b);h.children&&h.children.length>0&&(en(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),p3(h.children,t,T,E,y)),!(h.path==null&&!h.index)&&t.push({path:E,score:x8(E,h.index),routesMeta:T})};return e.forEach((h,w)=>{var y;if(h.path===""||!((y=h.path)!=null&&y.includes("?")))u(h,w);else for(let g of m3(h.path))u(h,w,!0,g)}),t}function m3(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,c=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return c?[u,""]:[u];let h=m3(i.join("/")),w=[];return w.push(...h.map(y=>y===""?u:[u,y].join("/"))),c&&w.push(...h),w.map(y=>e.startsWith("/")&&y===""?"/":y)}function u8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:w8(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var d8=/^:[\w-]+$/,f8=3,h8=2,p8=1,m8=10,g8=-2,_x=e=>e==="*";function x8(e,t){let n=e.split("/"),i=n.length;return n.some(_x)&&(i+=g8),t&&(i+=h8),n.filter(c=>!_x(c)).reduce((c,u)=>c+(d8.test(u)?f8:u===""?p8:m8),i)}function w8(e,t){return e.length===t.length&&e.slice(0,-1).every((i,c)=>i===t[c])?e[e.length-1]-t[t.length-1]:0}function y8(e,t,n=!1){let{routesMeta:i}=e,c={},u="/",h=[];for(let w=0;w<i.length;++w){let y=i[w],g=w===i.length-1,b=u==="/"?t:t.slice(u.length)||"/",E=sf({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},b),T=y.route;if(!E&&g&&n&&!i[i.length-1].route.index&&(E=sf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!E)return null;Object.assign(c,E.params),h.push({params:c,pathname:qs([u,E.pathname]),pathnameBase:S8(qs([u,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(u=qs([u,E.pathnameBase]))}return h}function sf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=v8(e.path,e.caseSensitive,e.end),c=t.match(n);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),w=c.slice(1);return{params:i.reduce((g,{paramName:b,isOptional:E},T)=>{if(b==="*"){let O=w[T]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const R=w[T];return E&&!R?g[b]=void 0:g[b]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:e}}function v8(e,t=!1,n=!0){Tr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,w,y)=>(i.push({paramName:w,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),i]}function C8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function E8({basename:e,pathname:t}){return t==="/"?e:qs([e,t])}var g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mp=e=>g3.test(e);function b8(e,t="/"){let{pathname:n,search:i="",hash:c=""}=typeof e=="string"?ma(e):e,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Px(n.substring(1),"/"):u=Px(n,t)):u=t,{pathname:u,search:A8(i),hash:T8(c)}}function Px(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function y1(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mf(e){let t=x3(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Of(e,t,n,i=!1){let c;typeof e=="string"?c=ma(e):(c={...e},en(!c.pathname||!c.pathname.includes("?"),y1("?","pathname","search",c)),en(!c.pathname||!c.pathname.includes("#"),y1("#","pathname","hash",c)),en(!c.search||!c.search.includes("#"),y1("#","search","hash",c)));let u=e===""||c.pathname==="",h=u?"/":c.pathname,w;if(h==null)w=n;else{let E=t.length-1;if(!i&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),E-=1;c.pathname=T.join("/")}w=E>=0?t[E]:"/"}let y=b8(c,w),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||b)&&(y.pathname+="/"),y}var qs=e=>e.join("/").replace(/\/\/+/g,"/"),S8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,xu=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function wu(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var w3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function y3(e,t){let n=e;if(typeof n!="string"||!g3.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,c=!1;if(w3)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),w=ds(h.pathname,t);h.origin===u.origin&&w!=null?n=w+h.search+h.hash:c=!0}catch{Tr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:c,to:n}}var ia=Symbol("Uninstrumented");function I8(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(c=>c({id:t.id,index:t.index,path:t.path,instrument(u){let h=Object.keys(n);for(let w of h)u[w]&&n[w].push(u[w])}}));let i={};if(typeof t.lazy=="function"&&n.lazy.length>0){let c=Ll(n.lazy,t.lazy,()=>{});c&&(i.lazy=c)}if(typeof t.lazy=="object"){let c=t.lazy;["middleware","loader","action"].forEach(u=>{let h=c[u],w=n[`lazy.${u}`];if(typeof h=="function"&&w.length>0){let y=Ll(w,h,()=>{});y&&(i.lazy=Object.assign(i.lazy||{},{[u]:y}))}})}return["loader","action"].forEach(c=>{let u=t[c];if(typeof u=="function"&&n[c].length>0){let h=u[ia]??u,w=Ll(n[c],h,(...y)=>Dx(y[0]));w&&(c==="loader"&&h.hydrate===!0&&(w.hydrate=!0),w[ia]=h,i[c]=w)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(i.middleware=t.middleware.map(c=>{let u=c[ia]??c,h=Ll(n.middleware,u,(...w)=>Dx(w[0]));return h?(h[ia]=u,h):c})),i}function N8(e,t){let n={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(c){let u=Object.keys(c);for(let h of u)c[h]&&n[h].push(c[h])}})),n.navigate.length>0){let i=e.navigate[ia]??e.navigate,c=Ll(n.navigate,i,(...u)=>{let[h,w]=u;return{to:typeof h=="number"||typeof h=="string"?h:h?eo(h):".",...Mx(e,w??{})}});c&&(c[ia]=i,e.navigate=c)}if(n.fetch.length>0){let i=e.fetch[ia]??e.fetch,c=Ll(n.fetch,i,(...u)=>{let[h,,w,y]=u;return{href:w??".",fetcherKey:h,...Mx(e,y??{})}});c&&(c[ia]=i,e.fetch=c)}return e}function Ll(e,t,n){return e.length===0?null:async(...i)=>{let c=await v3(e,n(...i),()=>t(...i),e.length-1);if(c.type==="error")throw c.value;return c.value}}async function v3(e,t,n,i){let c=e[i],u;if(c){let h,w=async()=>(h?console.error("You cannot call instrumented handlers more than once"):h=v3(e,t,n,i-1),u=await h,en(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await c(w,t)}catch(y){console.error("An instrumentation function threw an error:",y)}h||await w(),await h}else try{u={type:"success",value:await n()}}catch(h){u={type:"error",value:h}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Dx(e){let{request:t,context:n,params:i,unstable_pattern:c}=e;return{request:R8(t),params:{...i},unstable_pattern:c,context:_8(n)}}function Mx(e,t){return{currentUrl:eo(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function R8(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function _8(e){if(D8(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var P8=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D8(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===P8}var C3=["POST","PUT","PATCH","DELETE"],M8=new Set(C3),O8=["GET",...C3],k8=new Set(O8),E3=new Set([301,302,303,307,308]),L8=new Set([307,308]),v1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},j8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},B8=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),b3="remix-router-transitions",S3=Symbol("ResetLoaderData");function F8(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";en(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],c=e.mapRouteProperties||B8,u=c;if(e.unstable_instrumentations){let se=e.unstable_instrumentations;u=me=>({...c(me),...I8(se.map(Ce=>Ce.route).filter(Boolean),me)})}let h={},w=lu(e.routes,u,void 0,h),y,g=e.basename||"/";g.startsWith("/")||(g=`/${g}`);let b=e.dataStrategy||z8,E={...e.future},T=null,R=new Set,O=null,k=null,F=null,G=e.hydrationData!=null,z=na(w,e.history.location,g),U=!1,Z=null,re;if(z==null&&!e.patchRoutesOnNavigation){let se=ls(404,{pathname:e.history.location.pathname}),{matches:me,route:Ce}=Td(w);re=!0,z=me,Z={[Ce.id]:se}}else if(z&&!e.hydrationData&&Dt(z,w,e.history.location.pathname).active&&(z=null),z)if(z.some(se=>se.route.lazy))re=!1;else if(!z.some(se=>Op(se.route)))re=!0;else{let se=e.hydrationData?e.hydrationData.loaderData:null,me=e.hydrationData?e.hydrationData.errors:null;if(me){let Ce=z.findIndex(je=>me[je.route.id]!==void 0);re=z.slice(0,Ce+1).every(je=>!D0(je.route,se,me))}else re=z.every(Ce=>!D0(Ce.route,se,me))}else{re=!1,z=[];let se=Dt(null,w,e.history.location.pathname);se.active&&se.matches&&(U=!0,z=se.matches)}let le,P={historyAction:e.history.action,location:e.history.location,matches:z,initialized:re,navigation:v1,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},L="POP",B=null,K=!1,q,ee=!1,X=new Map,Pe=null,ne=!1,we=!1,xe=new Set,oe=new Map,ce=0,ue=-1,J=new Map,de=new Set,ve=new Map,Re=new Map,Ge=new Set,Ie=new Map,Le,Fe=null;function Ue(){if(T=e.history.listen(({action:se,location:me,delta:Ce})=>{if(Le){Le(),Le=void 0;return}Tr(Ie.size===0||Ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let je=lt({currentLocation:P.location,nextLocation:me,historyAction:se});if(je&&Ce!=null){let He=new Promise(ke=>{Le=ke});e.history.go(Ce*-1),Bt(je,{state:"blocked",location:me,proceed(){Bt(je,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),He.then(()=>e.history.go(Ce))},reset(){let ke=new Map(P.blockers);ke.set(je,kc),Ye({blockers:ke})}}),B==null||B.resolve(),B=null;return}return nn(se,me)}),n){lb(t,X);let se=()=>cb(t,X);t.addEventListener("pagehide",se),Pe=()=>t.removeEventListener("pagehide",se)}return P.initialized||nn("POP",P.location,{initialHydration:!0}),le}function Se(){T&&T(),Pe&&Pe(),R.clear(),q&&q.abort(),P.fetchers.forEach((se,me)=>hr(me)),P.blockers.forEach((se,me)=>ct(me))}function Ve(se){return R.add(se),()=>R.delete(se)}function Ye(se,me={}){se.matches&&(se.matches=se.matches.map(He=>{let ke=h[He.route.id],gt=He.route;return gt.element!==ke.element||gt.errorElement!==ke.errorElement||gt.hydrateFallbackElement!==ke.hydrateFallbackElement?{...He,route:ke}:He})),P={...P,...se};let Ce=[],je=[];P.fetchers.forEach((He,ke)=>{He.state==="idle"&&(Ge.has(ke)?Ce.push(ke):je.push(ke))}),Ge.forEach(He=>{!P.fetchers.has(He)&&!oe.has(He)&&Ce.push(He)}),[...R].forEach(He=>He(P,{deletedFetchers:Ce,newErrors:se.errors??null,viewTransitionOpts:me.viewTransitionOpts,flushSync:me.flushSync===!0})),Ce.forEach(He=>hr(He)),je.forEach(He=>P.fetchers.delete(He))}function tt(se,me,{flushSync:Ce}={}){var _t,pt;let je=P.actionData!=null&&P.navigation.formMethod!=null&&li(P.navigation.formMethod)&&P.navigation.state==="loading"&&((_t=se.state)==null?void 0:_t._isRedirect)!==!0,He;me.actionData?Object.keys(me.actionData).length>0?He=me.actionData:He=null:je?He=P.actionData:He=null;let ke=me.loaderData?Wx(P.loaderData,me.loaderData,me.matches||[],me.errors):P.loaderData,gt=P.blockers;gt.size>0&&(gt=new Map(gt),gt.forEach((It,Kt)=>gt.set(Kt,kc)));let st=ne?!1:an(se,me.matches||P.matches),nt=K===!0||P.navigation.formMethod!=null&&li(P.navigation.formMethod)&&((pt=se.state)==null?void 0:pt._isRedirect)!==!0;y&&(w=y,y=void 0),ne||L==="POP"||(L==="PUSH"?e.history.push(se,se.state):L==="REPLACE"&&e.history.replace(se,se.state));let ot;if(L==="POP"){let It=X.get(P.location.pathname);It&&It.has(se.pathname)?ot={currentLocation:P.location,nextLocation:se}:X.has(se.pathname)&&(ot={currentLocation:se,nextLocation:P.location})}else if(ee){let It=X.get(P.location.pathname);It?It.add(se.pathname):(It=new Set([se.pathname]),X.set(P.location.pathname,It)),ot={currentLocation:P.location,nextLocation:se}}Ye({...me,actionData:He,loaderData:ke,historyAction:L,location:se,initialized:!0,navigation:v1,revalidation:"idle",restoreScrollPosition:st,preventScrollReset:nt,blockers:gt},{viewTransitionOpts:ot,flushSync:Ce===!0}),L="POP",K=!1,ee=!1,ne=!1,we=!1,B==null||B.resolve(),B=null,Fe==null||Fe.resolve(),Fe=null}async function Je(se,me){if(B==null||B.resolve(),B=null,typeof se=="number"){B||(B=$x());let Kt=B.promise;return e.history.go(se),Kt}let Ce=P0(P.location,P.matches,g,se,me==null?void 0:me.fromRouteId,me==null?void 0:me.relative),{path:je,submission:He,error:ke}=Ox(!1,Ce,me),gt=P.location,st=au(P.location,je,me&&me.state);st={...st,...e.history.encodeLocation(st)};let nt=me&&me.replace!=null?me.replace:void 0,ot="PUSH";nt===!0?ot="REPLACE":nt===!1||He!=null&&li(He.formMethod)&&He.formAction===P.location.pathname+P.location.search&&(ot="REPLACE");let _t=me&&"preventScrollReset"in me?me.preventScrollReset===!0:void 0,pt=(me&&me.flushSync)===!0,It=lt({currentLocation:gt,nextLocation:st,historyAction:ot});if(It){Bt(It,{state:"blocked",location:st,proceed(){Bt(It,{state:"proceeding",proceed:void 0,reset:void 0,location:st}),Je(se,me)},reset(){let Kt=new Map(P.blockers);Kt.set(It,kc),Ye({blockers:Kt})}});return}await nn(ot,st,{submission:He,pendingError:ke,preventScrollReset:_t,replace:me&&me.replace,enableViewTransition:me&&me.viewTransition,flushSync:pt,callSiteDefaultShouldRevalidate:me&&me.unstable_defaultShouldRevalidate})}function tn(){Fe||(Fe=$x()),$r(),Ye({revalidation:"loading"});let se=Fe.promise;return P.navigation.state==="submitting"?se:P.navigation.state==="idle"?(nn(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),se):(nn(L||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:ee===!0}),se)}async function nn(se,me,Ce){q&&q.abort(),q=null,L=se,ne=(Ce&&Ce.startUninterruptedRevalidation)===!0,Tt(P.location,P.matches),K=(Ce&&Ce.preventScrollReset)===!0,ee=(Ce&&Ce.enableViewTransition)===!0;let je=y||w,He=Ce&&Ce.overrideNavigation,ke=Ce!=null&&Ce.initialHydration&&P.matches&&P.matches.length>0&&!U?P.matches:na(je,me,g),gt=(Ce&&Ce.flushSync)===!0;if(ke&&P.initialized&&!we&&Q8(P.location,me)&&!(Ce&&Ce.submission&&li(Ce.submission.formMethod))){tt(me,{matches:ke},{flushSync:gt});return}let st=Dt(ke,je,me.pathname);if(st.active&&st.matches&&(ke=st.matches),!ke){let{error:wn,notFoundMatches:rn,route:Et}=ut(me.pathname);tt(me,{matches:rn,loaderData:{},errors:{[Et.id]:wn}},{flushSync:gt});return}q=new AbortController;let nt=kl(e.history,me,q.signal,Ce&&Ce.submission),ot=e.getContext?await e.getContext():new Nx,_t;if(Ce&&Ce.pendingError)_t=[ra(ke).route.id,{type:"error",error:Ce.pendingError}];else if(Ce&&Ce.submission&&li(Ce.submission.formMethod)){let wn=await Gt(nt,me,Ce.submission,ke,ot,st.active,Ce&&Ce.initialHydration===!0,{replace:Ce.replace,flushSync:gt});if(wn.shortCircuited)return;if(wn.pendingActionResult){let[rn,Et]=wn.pendingActionResult;if(Gi(Et)&&cu(Et.error)&&Et.error.status===404){q=null,tt(me,{matches:wn.matches,loaderData:{},errors:{[rn]:Et.error}});return}}ke=wn.matches||ke,_t=wn.pendingActionResult,He=C1(me,Ce.submission),gt=!1,st.active=!1,nt=kl(e.history,nt.url,nt.signal)}let{shortCircuited:pt,matches:It,loaderData:Kt,errors:Bn}=await Zt(nt,me,ke,ot,st.active,He,Ce&&Ce.submission,Ce&&Ce.fetcherSubmission,Ce&&Ce.replace,Ce&&Ce.initialHydration===!0,gt,_t,Ce&&Ce.callSiteDefaultShouldRevalidate);pt||(q=null,tt(me,{matches:It||ke,...zx(_t),loaderData:Kt,errors:Bn}))}async function Gt(se,me,Ce,je,He,ke,gt,st={}){$r();let nt=ob(me,Ce);if(Ye({navigation:nt},{flushSync:st.flushSync===!0}),ke){let pt=await xn(je,me.pathname,se.signal);if(pt.type==="aborted")return{shortCircuited:!0};if(pt.type==="error"){if(pt.partialMatches.length===0){let{matches:Kt,route:Bn}=Td(w);return{matches:Kt,pendingActionResult:[Bn.id,{type:"error",error:pt.error}]}}let It=ra(pt.partialMatches).route.id;return{matches:pt.partialMatches,pendingActionResult:[It,{type:"error",error:pt.error}]}}else if(pt.matches)je=pt.matches;else{let{notFoundMatches:It,error:Kt,route:Bn}=ut(me.pathname);return{matches:It,pendingActionResult:[Bn.id,{type:"error",error:Kt}]}}}let ot,_t=Xd(je,me);if(!_t.route.action&&!_t.route.lazy)ot={type:"error",error:ls(405,{method:se.method,pathname:me.pathname,routeId:_t.route.id})};else{let pt=Wl(u,h,se,je,_t,gt?[]:i,He),It=await sr(se,pt,He,null);if(ot=It[_t.route.id],!ot){for(let Kt of je)if(It[Kt.route.id]){ot=It[Kt.route.id];break}}if(se.signal.aborted)return{shortCircuited:!0}}if(Ga(ot)){let pt;return st&&st.replace!=null?pt=st.replace:pt=Vx(ot.response.headers.get("Location"),new URL(se.url),g,e.history)===P.location.pathname+P.location.search,await Un(se,ot,!0,{submission:Ce,replace:pt}),{shortCircuited:!0}}if(Gi(ot)){let pt=ra(je,_t.route.id);return(st&&st.replace)!==!0&&(L="PUSH"),{matches:je,pendingActionResult:[pt.route.id,ot,_t.route.id]}}return{matches:je,pendingActionResult:[_t.route.id,ot]}}async function Zt(se,me,Ce,je,He,ke,gt,st,nt,ot,_t,pt,It){let Kt=ke||C1(me,gt),Bn=gt||st||Xx(Kt),wn=!ne&&!ot;if(He){if(wn){let vn=it(pt);Ye({navigation:Kt,...vn!==void 0?{actionData:vn}:{}},{flushSync:_t})}let at=await xn(Ce,me.pathname,se.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){if(at.partialMatches.length===0){let{matches:br,route:qn}=Td(w);return{matches:br,loaderData:{},errors:{[qn.id]:at.error}}}let vn=ra(at.partialMatches).route.id;return{matches:at.partialMatches,loaderData:{},errors:{[vn]:at.error}}}else if(at.matches)Ce=at.matches;else{let{error:vn,notFoundMatches:br,route:qn}=ut(me.pathname);return{matches:br,loaderData:{},errors:{[qn.id]:vn}}}}let rn=y||w,{dsMatches:Et,revalidatingFetchers:Xn}=kx(se,je,u,h,e.history,P,Ce,Bn,me,ot?[]:i,ot===!0,we,xe,Ge,ve,de,rn,g,e.patchRoutesOnNavigation!=null,pt,It);if(ue=++ce,!e.dataStrategy&&!Et.some(at=>at.shouldLoad)&&!Et.some(at=>at.route.middleware&&at.route.middleware.length>0)&&Xn.length===0){let at=Wt();return tt(me,{matches:Ce,loaderData:{},errors:pt&&Gi(pt[1])?{[pt[0]]:pt[1].error}:null,...zx(pt),...at?{fetchers:new Map(P.fetchers)}:{}},{flushSync:_t}),{shortCircuited:!0}}if(wn){let at={};if(!He){at.navigation=Kt;let vn=it(pt);vn!==void 0&&(at.actionData=vn)}Xn.length>0&&(at.fetchers=on(Xn)),Ye(at,{flushSync:_t})}Xn.forEach(at=>{Xe(at.key),at.controller&&oe.set(at.key,at.controller)});let Yt=()=>Xn.forEach(at=>Xe(at.key));q&&q.signal.addEventListener("abort",Yt);let{loaderResults:Mi,fetcherResults:Be}=await jn(Et,Xn,se,je);if(se.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Yt),Xn.forEach(at=>oe.delete(at.key));let Fr=Id(Mi);if(Fr)return await Un(se,Fr.result,!0,{replace:nt}),{shortCircuited:!0};if(Fr=Id(Be),Fr)return de.add(Fr.key),await Un(se,Fr.result,!0,{replace:nt}),{shortCircuited:!0};let{loaderData:yn,errors:Vr}=Hx(P,Ce,Mi,pt,Xn,Be);ot&&P.errors&&(Vr={...P.errors,...Vr});let ei=Wt(),$t=fn(ue),Lt=ei||$t||Xn.length>0;return{matches:Ce,loaderData:yn,errors:Vr,...Lt?{fetchers:new Map(P.fetchers)}:{}}}function it(se){if(se&&!Gi(se[1]))return{[se[0]]:se[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function on(se){return se.forEach(me=>{let Ce=P.fetchers.get(me.key),je=Lc(void 0,Ce?Ce.data:void 0);P.fetchers.set(me.key,je)}),new Map(P.fetchers)}async function rt(se,me,Ce,je){Xe(se);let He=(je&&je.flushSync)===!0,ke=y||w,gt=P0(P.location,P.matches,g,Ce,me,je==null?void 0:je.relative),st=na(ke,gt,g),nt=Dt(st,ke,gt);if(nt.active&&nt.matches&&(st=nt.matches),!st){un(se,me,ls(404,{pathname:gt}),{flushSync:He});return}let{path:ot,submission:_t,error:pt}=Ox(!0,gt,je);if(pt){un(se,me,pt,{flushSync:He});return}let It=e.getContext?await e.getContext():new Nx,Kt=(je&&je.preventScrollReset)===!0;if(_t&&li(_t.formMethod)){await Ln(se,me,ot,st,It,nt.active,He,Kt,_t,je&&je.unstable_defaultShouldRevalidate);return}ve.set(se,{routeId:me,path:ot}),await ir(se,me,ot,st,It,nt.active,He,Kt,_t)}async function Ln(se,me,Ce,je,He,ke,gt,st,nt,ot){$r(),ve.delete(se);let _t=P.fetchers.get(se);mn(se,ab(nt,_t),{flushSync:gt});let pt=new AbortController,It=kl(e.history,Ce,pt.signal,nt);if(ke){let jt=await xn(je,new URL(It.url).pathname,It.signal,se);if(jt.type==="aborted")return;if(jt.type==="error"){un(se,me,jt.error,{flushSync:gt});return}else if(jt.matches)je=jt.matches;else{un(se,me,ls(404,{pathname:Ce}),{flushSync:gt});return}}let Kt=Xd(je,Ce);if(!Kt.route.action&&!Kt.route.lazy){let jt=ls(405,{method:nt.formMethod,pathname:Ce,routeId:me});un(se,me,jt,{flushSync:gt});return}oe.set(se,pt);let Bn=ce,wn=Wl(u,h,It,je,Kt,i,He),rn=await sr(It,wn,He,se),Et=rn[Kt.route.id];if(!Et){for(let jt of wn)if(rn[jt.route.id]){Et=rn[jt.route.id];break}}if(It.signal.aborted){oe.get(se)===pt&&oe.delete(se);return}if(Ge.has(se)){if(Ga(Et)||Gi(Et)){mn(se,So(void 0));return}}else{if(Ga(Et))if(oe.delete(se),ue>Bn){mn(se,So(void 0));return}else return de.add(se),mn(se,Lc(nt)),Un(It,Et,!1,{fetcherSubmission:nt,preventScrollReset:st});if(Gi(Et)){un(se,me,Et.error);return}}let Xn=P.navigation.location||P.location,Yt=kl(e.history,Xn,pt.signal),Mi=y||w,Be=P.navigation.state!=="idle"?na(Mi,P.navigation.location,g):P.matches;en(Be,"Didn't find any matches after fetcher action");let Fr=++ce;J.set(se,Fr);let yn=Lc(nt,Et.data);P.fetchers.set(se,yn);let{dsMatches:Vr,revalidatingFetchers:ei}=kx(Yt,He,u,h,e.history,P,Be,nt,Xn,i,!1,we,xe,Ge,ve,de,Mi,g,e.patchRoutesOnNavigation!=null,[Kt.route.id,Et],ot);ei.filter(jt=>jt.key!==se).forEach(jt=>{let Qn=jt.key,Oi=P.fetchers.get(Qn),Nt=Lc(void 0,Oi?Oi.data:void 0);P.fetchers.set(Qn,Nt),Xe(Qn),jt.controller&&oe.set(Qn,jt.controller)}),Ye({fetchers:new Map(P.fetchers)});let $t=()=>ei.forEach(jt=>Xe(jt.key));pt.signal.addEventListener("abort",$t);let{loaderResults:Lt,fetcherResults:at}=await jn(Vr,ei,Yt,He);if(pt.signal.aborted)return;if(pt.signal.removeEventListener("abort",$t),J.delete(se),oe.delete(se),ei.forEach(jt=>oe.delete(jt.key)),P.fetchers.has(se)){let jt=So(Et.data);P.fetchers.set(se,jt)}let vn=Id(Lt);if(vn)return Un(Yt,vn.result,!1,{preventScrollReset:st});if(vn=Id(at),vn)return de.add(vn.key),Un(Yt,vn.result,!1,{preventScrollReset:st});let{loaderData:br,errors:qn}=Hx(P,Be,Lt,void 0,ei,at);fn(Fr),P.navigation.state==="loading"&&Fr>ue?(en(L,"Expected pending action"),q&&q.abort(),tt(P.navigation.location,{matches:Be,loaderData:br,errors:qn,fetchers:new Map(P.fetchers)})):(Ye({errors:qn,loaderData:Wx(P.loaderData,br,Be,qn),fetchers:new Map(P.fetchers)}),we=!1)}async function ir(se,me,Ce,je,He,ke,gt,st,nt){let ot=P.fetchers.get(se);mn(se,Lc(nt,ot?ot.data:void 0),{flushSync:gt});let _t=new AbortController,pt=kl(e.history,Ce,_t.signal);if(ke){let Et=await xn(je,new URL(pt.url).pathname,pt.signal,se);if(Et.type==="aborted")return;if(Et.type==="error"){un(se,me,Et.error,{flushSync:gt});return}else if(Et.matches)je=Et.matches;else{un(se,me,ls(404,{pathname:Ce}),{flushSync:gt});return}}let It=Xd(je,Ce);oe.set(se,_t);let Kt=ce,Bn=Wl(u,h,pt,je,It,i,He),rn=(await sr(pt,Bn,He,se))[It.route.id];if(oe.get(se)===_t&&oe.delete(se),!pt.signal.aborted){if(Ge.has(se)){mn(se,So(void 0));return}if(Ga(rn))if(ue>Kt){mn(se,So(void 0));return}else{de.add(se),await Un(pt,rn,!1,{preventScrollReset:st});return}if(Gi(rn)){un(se,me,rn.error);return}mn(se,So(rn.data))}}async function Un(se,me,Ce,{submission:je,fetcherSubmission:He,preventScrollReset:ke,replace:gt}={}){Ce||(B==null||B.resolve(),B=null),me.response.headers.has("X-Remix-Revalidate")&&(we=!0);let st=me.response.headers.get("Location");en(st,"Expected a Location header on the redirect Response"),st=Vx(st,new URL(se.url),g,e.history);let nt=au(P.location,st,{_isRedirect:!0});if(n){let Bn=!1;if(me.response.headers.has("X-Remix-Reload-Document"))Bn=!0;else if(Mp(st)){const wn=h3(st,!0);Bn=wn.origin!==t.location.origin||ds(wn.pathname,g)==null}if(Bn){gt?t.location.replace(st):t.location.assign(st);return}}q=null;let ot=gt===!0||me.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:_t,formAction:pt,formEncType:It}=P.navigation;!je&&!He&&_t&&pt&&It&&(je=Xx(P.navigation));let Kt=je||He;if(L8.has(me.response.status)&&Kt&&li(Kt.formMethod))await nn(ot,nt,{submission:{...Kt,formAction:st},preventScrollReset:ke||K,enableViewTransition:Ce?ee:void 0});else{let Bn=C1(nt,je);await nn(ot,nt,{overrideNavigation:Bn,fetcherSubmission:He,preventScrollReset:ke||K,enableViewTransition:Ce?ee:void 0})}}async function sr(se,me,Ce,je){var gt;let He,ke={};try{He=await X8(b,se,me,je,Ce,!1)}catch(st){return me.filter(nt=>nt.shouldLoad).forEach(nt=>{ke[nt.route.id]={type:"error",error:st}}),ke}if(se.signal.aborted)return ke;if(!li(se.method))for(let st of me){if(((gt=He[st.route.id])==null?void 0:gt.type)==="error")break;!He.hasOwnProperty(st.route.id)&&!P.loaderData.hasOwnProperty(st.route.id)&&(!P.errors||!P.errors.hasOwnProperty(st.route.id))&&st.shouldCallHandler()&&(He[st.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${st.route.id}`)})}for(let[st,nt]of Object.entries(He))if(nb(nt)){let ot=nt.result;ke[st]={type:"redirect",response:K8(ot,se,st,me,g)}}else ke[st]=await Z8(nt);return ke}async function jn(se,me,Ce,je){let He=sr(Ce,se,je,null),ke=Promise.all(me.map(async nt=>{if(nt.matches&&nt.match&&nt.request&&nt.controller){let _t=(await sr(nt.request,nt.matches,je,nt.key))[nt.match.route.id];return{[nt.key]:_t}}else return Promise.resolve({[nt.key]:{type:"error",error:ls(404,{pathname:nt.path})}})})),gt=await He,st=(await ke).reduce((nt,ot)=>Object.assign(nt,ot),{});return{loaderResults:gt,fetcherResults:st}}function $r(){we=!0,ve.forEach((se,me)=>{oe.has(me)&&xe.add(me),Xe(me)})}function mn(se,me,Ce={}){P.fetchers.set(se,me),Ye({fetchers:new Map(P.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function un(se,me,Ce,je={}){let He=ra(P.matches,me);hr(se),Ye({errors:{[He.route.id]:Ce},fetchers:new Map(P.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function or(se){return Re.set(se,(Re.get(se)||0)+1),Ge.has(se)&&Ge.delete(se),P.fetchers.get(se)||j8}function Ir(se,me){Xe(se,me==null?void 0:me.reason),mn(se,So(null))}function hr(se){let me=P.fetchers.get(se);oe.has(se)&&!(me&&me.state==="loading"&&J.has(se))&&Xe(se),ve.delete(se),J.delete(se),de.delete(se),Ge.delete(se),xe.delete(se),P.fetchers.delete(se)}function dn(se){let me=(Re.get(se)||0)-1;me<=0?(Re.delete(se),Ge.add(se)):Re.set(se,me),Ye({fetchers:new Map(P.fetchers)})}function Xe(se,me){let Ce=oe.get(se);Ce&&(Ce.abort(me),oe.delete(se))}function En(se){for(let me of se){let Ce=or(me),je=So(Ce.data);P.fetchers.set(me,je)}}function Wt(){let se=[],me=!1;for(let Ce of de){let je=P.fetchers.get(Ce);en(je,`Expected fetcher: ${Ce}`),je.state==="loading"&&(de.delete(Ce),se.push(Ce),me=!0)}return En(se),me}function fn(se){let me=[];for(let[Ce,je]of J)if(je<se){let He=P.fetchers.get(Ce);en(He,`Expected fetcher: ${Ce}`),He.state==="loading"&&(Xe(Ce),J.delete(Ce),me.push(Ce))}return En(me),me.length>0}function Cr(se,me){let Ce=P.blockers.get(se)||kc;return Ie.get(se)!==me&&Ie.set(se,me),Ce}function ct(se){P.blockers.delete(se),Ie.delete(se)}function Bt(se,me){let Ce=P.blockers.get(se)||kc;en(Ce.state==="unblocked"&&me.state==="blocked"||Ce.state==="blocked"&&me.state==="blocked"||Ce.state==="blocked"&&me.state==="proceeding"||Ce.state==="blocked"&&me.state==="unblocked"||Ce.state==="proceeding"&&me.state==="unblocked",`Invalid blocker state transition: ${Ce.state} -> ${me.state}`);let je=new Map(P.blockers);je.set(se,me),Ye({blockers:je})}function lt({currentLocation:se,nextLocation:me,historyAction:Ce}){if(Ie.size===0)return;Ie.size>1&&Tr(!1,"A router only supports one blocker at a time");let je=Array.from(Ie.entries()),[He,ke]=je[je.length-1],gt=P.blockers.get(He);if(!(gt&&gt.state==="proceeding")&&ke({currentLocation:se,nextLocation:me,historyAction:Ce}))return He}function ut(se){let me=ls(404,{pathname:se}),Ce=y||w,{matches:je,route:He}=Td(Ce);return{notFoundMatches:je,route:He,error:me}}function gn(se,me,Ce){if(O=se,F=me,k=Ce||null,!G&&P.navigation===v1){G=!0;let je=an(P.location,P.matches);je!=null&&Ye({restoreScrollPosition:je})}return()=>{O=null,F=null,k=null}}function dt(se,me){return k&&k(se,me.map(je=>c8(je,P.loaderData)))||se.key}function Tt(se,me){if(O&&F){let Ce=dt(se,me);O[Ce]=F()}}function an(se,me){if(O){let Ce=dt(se,me),je=O[Ce];if(typeof je=="number")return je}return null}function Dt(se,me,Ce){if(e.patchRoutesOnNavigation)if(se){if(Object.keys(se[0].params).length>0)return{active:!0,matches:zc(me,Ce,g,!0)}}else return{active:!0,matches:zc(me,Ce,g,!0)||[]};return{active:!1,matches:null}}async function xn(se,me,Ce,je){if(!e.patchRoutesOnNavigation)return{type:"success",matches:se};let He=se;for(;;){let ke=y==null,gt=y||w,st=h;try{await e.patchRoutesOnNavigation({signal:Ce,path:me,matches:He,fetcherKey:je,patch:(_t,pt)=>{Ce.aborted||Lx(_t,pt,gt,st,u,!1)}})}catch(_t){return{type:"error",error:_t,partialMatches:He}}finally{ke&&!Ce.aborted&&(w=[...w])}if(Ce.aborted)return{type:"aborted"};let nt=na(gt,me,g),ot=null;if(nt){if(Object.keys(nt[0].params).length===0)return{type:"success",matches:nt};if(ot=zc(gt,me,g,!0),!(ot&&He.length<ot.length&&qt(He,ot.slice(0,He.length))))return{type:"success",matches:nt}}if(ot||(ot=zc(gt,me,g,!0)),!ot||qt(He,ot))return{type:"success",matches:null};He=ot}}function qt(se,me){return se.length===me.length&&se.every((Ce,je)=>Ce.route.id===me[je].route.id)}function Xt(se){h={},y=lu(se,u,void 0,h)}function Er(se,me,Ce=!1){let je=y==null;Lx(se,me,y||w,h,u,Ce),je&&(w=[...w],Ye({}))}return le={get basename(){return g},get future(){return E},get state(){return P},get routes(){return w},get window(){return t},initialize:Ue,subscribe:Ve,enableScrollRestoration:gn,navigate:Je,fetch:rt,revalidate:tn,createHref:se=>e.history.createHref(se),encodeLocation:se=>e.history.encodeLocation(se),getFetcher:or,resetFetcher:Ir,deleteFetcher:dn,dispose:Se,getBlocker:Cr,deleteBlocker:ct,patchRoutes:Er,_internalFetchControllers:oe,_internalSetRoutes:Xt,_internalSetStateDoNotUseOrYouWillBreakYourApp(se){Ye(se)}},e.unstable_instrumentations&&(le=N8(le,e.unstable_instrumentations.map(se=>se.router).filter(Boolean))),le}function V8(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function P0(e,t,n,i,c,u){let h,w;if(c){h=[];for(let g of t)if(h.push(g),g.route.id===c){w=g;break}}else h=t,w=t[t.length-1];let y=Of(i||".",Mf(h),ds(e.pathname,n)||e.pathname,u==="path");if(i==null&&(y.search=e.search,y.hash=e.hash),(i==null||i===""||i===".")&&w){let g=Lp(y.search);if(w.route.index&&!g)y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index";else if(!w.route.index&&g){let b=new URLSearchParams(y.search),E=b.getAll("index");b.delete("index"),E.filter(R=>R).forEach(R=>b.append("index",R));let T=b.toString();y.search=T?`?${T}`:""}}return n!=="/"&&(y.pathname=E8({basename:n,pathname:y.pathname})),eo(y)}function Ox(e,t,n){if(!n||!V8(n))return{path:t};if(n.formMethod&&!sb(n.formMethod))return{path:t,error:ls(405,{method:n.formMethod})};let i=()=>({path:t,error:ls(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=_3(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!li(u))return i();let E=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[R,O])=>`${T}${R}=${O}
`,""):String(n.body);return{path:t,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:E}}}else if(n.formEncType==="application/json"){if(!li(u))return i();try{let E=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:E,text:void 0}}}catch{return i()}}}en(typeof FormData=="function","FormData is not available in this environment");let w,y;if(n.formData)w=O0(n.formData),y=n.formData;else if(n.body instanceof FormData)w=O0(n.body),y=n.body;else if(n.body instanceof URLSearchParams)w=n.body,y=Ux(w);else if(n.body==null)w=new URLSearchParams,y=new FormData;else try{w=new URLSearchParams(n.body),y=Ux(w)}catch{return i()}let g={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(li(g.formMethod))return{path:t,submission:g};let b=ma(t);return e&&b.search&&Lp(b.search)&&w.append("index",""),b.search=`?${w}`,{path:eo(b),submission:g}}function kx(e,t,n,i,c,u,h,w,y,g,b,E,T,R,O,k,F,G,z,U,Z){var ne;let re=U?Gi(U[1])?U[1].error:U[1].data:void 0,le=c.createURL(u.location),P=c.createURL(y),L;if(b&&u.errors){let we=Object.keys(u.errors)[0];L=h.findIndex(xe=>xe.route.id===we)}else if(U&&Gi(U[1])){let we=U[0];L=h.findIndex(xe=>xe.route.id===we)-1}let B=U?U[1].statusCode:void 0,K=B&&B>=400,q={currentUrl:le,currentParams:((ne=u.matches[0])==null?void 0:ne.params)||{},nextUrl:P,nextParams:h[0].params,...w,actionResult:re,actionStatus:B},ee=wu(h),X=h.map((we,xe)=>{let{route:oe}=we,ce=null;if(L!=null&&xe>L?ce=!1:oe.lazy?ce=!0:Op(oe)?b?ce=D0(oe,u.loaderData,u.errors):U8(u.loaderData,u.matches[xe],we)&&(ce=!0):ce=!1,ce!==null)return M0(n,i,e,ee,we,g,t,ce);let ue=!1;typeof Z=="boolean"?ue=Z:K?ue=!1:(E||le.pathname+le.search===P.pathname+P.search||le.search!==P.search||H8(u.matches[xe],we))&&(ue=!0);let J={...q,defaultShouldRevalidate:ue},de=Zc(we,J);return M0(n,i,e,ee,we,g,t,de,J,Z)}),Pe=[];return O.forEach((we,xe)=>{if(b||!h.some(Ge=>Ge.route.id===we.routeId)||R.has(xe))return;let oe=u.fetchers.get(xe),ce=oe&&oe.state!=="idle"&&oe.data===void 0,ue=na(F,we.path,G);if(!ue){if(z&&ce)return;Pe.push({key:xe,routeId:we.routeId,path:we.path,matches:null,match:null,request:null,controller:null});return}if(k.has(xe))return;let J=Xd(ue,we.path),de=new AbortController,ve=kl(c,we.path,de.signal),Re=null;if(T.has(xe))T.delete(xe),Re=Wl(n,i,ve,ue,J,g,t);else if(ce)E&&(Re=Wl(n,i,ve,ue,J,g,t));else{let Ge;typeof Z=="boolean"?Ge=Z:K?Ge=!1:Ge=E;let Ie={...q,defaultShouldRevalidate:Ge};Zc(J,Ie)&&(Re=Wl(n,i,ve,ue,J,g,t,Ie))}Re&&Pe.push({key:xe,routeId:we.routeId,path:we.path,matches:Re,match:J,request:ve,controller:de})}),{dsMatches:X,revalidatingFetchers:Pe}}function Op(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function D0(e,t,n){if(e.lazy)return!0;if(!Op(e))return!1;let i=t!=null&&e.id in t,c=n!=null&&n[e.id]!==void 0;return!i&&c?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!c}function U8(e,t,n){let i=!t||n.route.id!==t.route.id,c=!e.hasOwnProperty(n.route.id);return i||c}function H8(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Zc(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Lx(e,t,n,i,c,u){let h;if(e){let g=i[e];en(g,`No route found to patch children into: routeId = ${e}`),g.children||(g.children=[]),h=g.children}else h=n;let w=[],y=[];if(t.forEach(g=>{let b=h.find(E=>A3(g,E));b?y.push({existingRoute:b,newRoute:g}):w.push(g)}),w.length>0){let g=lu(w,c,[e||"_","patch",String((h==null?void 0:h.length)||"0")],i);h.push(...g)}if(u&&y.length>0)for(let g=0;g<y.length;g++){let{existingRoute:b,newRoute:E}=y[g],T=b,[R]=lu([E],c,[],{},!0);Object.assign(T,{element:R.element?R.element:T.element,errorElement:R.errorElement?R.errorElement:T.errorElement,hydrateFallbackElement:R.hydrateFallbackElement?R.hydrateFallbackElement:T.hydrateFallbackElement})}}function A3(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,i)=>{var c;return(c=t.children)==null?void 0:c.some(u=>A3(n,u))}):!1}var jx=new WeakMap,T3=({key:e,route:t,manifest:n,mapRouteProperties:i})=>{let c=n[t.id];if(en(c,"No route found in manifest"),!c.lazy||typeof c.lazy!="object")return;let u=c.lazy[e];if(!u)return;let h=jx.get(c);h||(h={},jx.set(c,h));let w=h[e];if(w)return w;let y=(async()=>{let g=s8(e),E=c[e]!==void 0&&e!=="hasErrorBoundary";if(g)Tr(!g,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),h[e]=Promise.resolve();else if(E)Tr(!1,`Route "${c.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let T=await u();T!=null&&(Object.assign(c,{[e]:T}),Object.assign(c,i(c)))}typeof c.lazy=="object"&&(c.lazy[e]=void 0,Object.values(c.lazy).every(T=>T===void 0)&&(c.lazy=void 0))})();return h[e]=y,y},Bx=new WeakMap;function W8(e,t,n,i,c){let u=n[e.id];if(en(u,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let b=Bx.get(u);if(b)return{lazyRoutePromise:b,lazyHandlerPromise:b};let E=(async()=>{en(typeof e.lazy=="function","No lazy route function found");let T=await e.lazy(),R={};for(let O in T){let k=T[O];if(k===void 0)continue;let F=a8(O),z=u[O]!==void 0&&O!=="hasErrorBoundary";F?Tr(!F,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):z?Tr(!z,`Route "${u.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):R[O]=k}Object.assign(u,R),Object.assign(u,{...i(u),lazy:void 0})})();return Bx.set(u,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let h=Object.keys(e.lazy),w=[],y;for(let b of h){if(c&&c.includes(b))continue;let E=T3({key:b,route:e,manifest:n,mapRouteProperties:i});E&&(w.push(E),b===t&&(y=E))}let g=w.length>0?Promise.all(w).then(()=>{}):void 0;return g==null||g.catch(()=>{}),y==null||y.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:y}}async function Fx(e){let t=e.matches.filter(c=>c.shouldLoad),n={};return(await Promise.all(t.map(c=>c.resolve()))).forEach((c,u)=>{n[t[u].route.id]=c}),n}async function z8(e){return e.matches.some(t=>t.route.middleware)?I3(e,()=>Fx(e)):Fx(e)}function I3(e,t){return G8(e,t,i=>{if(ib(i))throw i;return i},eb,n);function n(i,c,u){if(u)return Promise.resolve(Object.assign(u.value,{[c]:{type:"error",result:i}}));{let{matches:h}=e,w=Math.min(Math.max(h.findIndex(g=>g.route.id===c),0),Math.max(h.findIndex(g=>g.shouldCallHandler()),0)),y=ra(h,h[w].route.id).route.id;return Promise.resolve({[y]:{type:"error",result:i}})}}}async function G8(e,t,n,i,c){let{matches:u,request:h,params:w,context:y,unstable_pattern:g}=e,b=u.flatMap(T=>T.route.middleware?T.route.middleware.map(R=>[T.route.id,R]):[]);return await N3({request:h,params:w,context:y,unstable_pattern:g},b,t,n,i,c)}async function N3(e,t,n,i,c,u,h=0){let{request:w}=e;if(w.signal.aborted)throw w.signal.reason??new Error(`Request aborted: ${w.method} ${w.url}`);let y=t[h];if(!y)return await n();let[g,b]=y,E,T=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");try{return E={value:await N3(e,t,n,i,c,u,h+1)},E.value}catch(R){return E={value:await u(R,g,E)},E.value}};try{let R=await b(e,T),O=R!=null?i(R):void 0;return c(O)?O:E?O??E.value:(E={value:await T()},E.value)}catch(R){return await u(R,g,E)}}function R3(e,t,n,i,c){let u=T3({key:"middleware",route:i.route,manifest:t,mapRouteProperties:e}),h=W8(i.route,li(n.method)?"action":"loader",t,e,c);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function M0(e,t,n,i,c,u,h,w,y=null,g){let b=!1,E=R3(e,t,n,c,u);return{...c,_lazyPromises:E,shouldLoad:w,shouldRevalidateArgs:y,shouldCallHandler(T){return b=!0,y?typeof g=="boolean"?Zc(c,{...y,defaultShouldRevalidate:g}):typeof T=="boolean"?Zc(c,{...y,defaultShouldRevalidate:T}):Zc(c,y):w},resolve(T){let{lazy:R,loader:O,middleware:k}=c.route,F=b||w||T&&!li(n.method)&&(R||O),G=k&&k.length>0&&!O&&!R;return F&&(li(n.method)||!G)?$8({request:n,unstable_pattern:i,match:c,lazyHandlerPromise:E==null?void 0:E.handler,lazyRoutePromise:E==null?void 0:E.route,handlerOverride:T,scopedContext:h}):Promise.resolve({type:"data",result:void 0})}}}function Wl(e,t,n,i,c,u,h,w=null){return i.map(y=>y.route.id!==c.route.id?{...y,shouldLoad:!1,shouldRevalidateArgs:w,shouldCallHandler:()=>!1,_lazyPromises:R3(e,t,n,y,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:M0(e,t,n,wu(i),y,u,h,!0,w))}async function X8(e,t,n,i,c,u){n.some(g=>{var b;return(b=g._lazyPromises)==null?void 0:b.middleware})&&await Promise.all(n.map(g=>{var b;return(b=g._lazyPromises)==null?void 0:b.middleware}));let h={request:t,unstable_pattern:wu(n),params:n[0].params,context:c,matches:n},y=await e({...h,fetcherKey:i,runClientMiddleware:g=>{let b=h;return I3(b,()=>g({...b,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(g=>{var b,E;return[(b=g._lazyPromises)==null?void 0:b.handler,(E=g._lazyPromises)==null?void 0:E.route]}))}catch{}return y}async function $8({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:i,lazyRoutePromise:c,handlerOverride:u,scopedContext:h}){let w,y,g=li(e.method),b=g?"action":"loader",E=T=>{let R,O=new Promise((G,z)=>R=z);y=()=>R(),e.signal.addEventListener("abort",y);let k=G=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${b}" [routeId: ${n.route.id}]`)):T({request:e,unstable_pattern:t,params:n.params,context:h},...G!==void 0?[G]:[]),F=(async()=>{try{return{type:"data",result:await(u?u(z=>k(z)):k())}}catch(G){return{type:"error",result:G}}})();return Promise.race([F,O])};try{let T=g?n.route.action:n.route.loader;if(i||c)if(T){let R,[O]=await Promise.all([E(T).catch(k=>{R=k}),i,c]);if(R!==void 0)throw R;w=O}else{await i;let R=g?n.route.action:n.route.loader;if(R)[w]=await Promise.all([E(R),c]);else if(b==="action"){let O=new URL(e.url),k=O.pathname+O.search;throw ls(405,{method:e.method,pathname:k,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(T)w=await E(T);else{let R=new URL(e.url),O=R.pathname+R.search;throw ls(404,{pathname:O})}}catch(T){return{type:"error",result:T}}finally{y&&e.signal.removeEventListener("abort",y)}return w}async function Y8(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Z8(e){var i,c,u,h,w;let{result:t,type:n}=e;if(kp(t)){let y;try{y=await Y8(t)}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new xu(t.status,t.statusText,y),statusCode:t.status,headers:t.headers}:{type:"data",data:y,statusCode:t.status,headers:t.headers}}return n==="error"?Gx(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"error",error:J8(t),statusCode:cu(t)?t.status:void 0,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:cu(t)?t.status:void 0}:Gx(t)?{type:"data",data:t.data,statusCode:(h=t.init)==null?void 0:h.status,headers:(w=t.init)!=null&&w.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function K8(e,t,n,i,c){let u=e.headers.get("Location");if(en(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mp(u)){let h=i.slice(0,i.findIndex(w=>w.route.id===n)+1);u=P0(new URL(t.url),h,c,u),e.headers.set("Location",u)}return e}function Vx(e,t,n,i){let c=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Mp(e)){let u=e,h=u.startsWith("//")?new URL(t.protocol+u):new URL(u);if(c.includes(h.protocol))throw new Error("Invalid redirect location");let w=ds(h.pathname,n)!=null;if(h.origin===t.origin&&w)return h.pathname+h.search+h.hash}try{let u=i.createURL(e);if(c.includes(u.protocol))throw new Error("Invalid redirect location")}catch{}return e}function kl(e,t,n,i){let c=e.createURL(_3(t)).toString(),u={signal:n};if(i&&li(i.formMethod)){let{formMethod:h,formEncType:w}=i;u.method=h.toUpperCase(),w==="application/json"?(u.headers=new Headers({"Content-Type":w}),u.body=JSON.stringify(i.json)):w==="text/plain"?u.body=i.text:w==="application/x-www-form-urlencoded"&&i.formData?u.body=O0(i.formData):u.body=i.formData}return new Request(c,u)}function O0(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function Ux(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function q8(e,t,n,i=!1,c=!1){let u={},h=null,w,y=!1,g={},b=n&&Gi(n[1])?n[1].error:void 0;return e.forEach(E=>{if(!(E.route.id in t))return;let T=E.route.id,R=t[T];if(en(!Ga(R),"Cannot handle redirect results in processLoaderData"),Gi(R)){let O=R.error;if(b!==void 0&&(O=b,b=void 0),h=h||{},c)h[T]=O;else{let k=ra(e,T);h[k.route.id]==null&&(h[k.route.id]=O)}i||(u[T]=S3),y||(y=!0,w=cu(R.error)?R.error.status:500),R.headers&&(g[T]=R.headers)}else u[T]=R.data,R.statusCode&&R.statusCode!==200&&!y&&(w=R.statusCode),R.headers&&(g[T]=R.headers)}),b!==void 0&&n&&(h={[n[0]]:b},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:h,statusCode:w||200,loaderHeaders:g}}function Hx(e,t,n,i,c,u){let{loaderData:h,errors:w}=q8(t,n,i);return c.filter(y=>!y.matches||y.matches.some(g=>g.shouldLoad)).forEach(y=>{let{key:g,match:b,controller:E}=y;if(E&&E.signal.aborted)return;let T=u[g];if(en(T,"Did not find corresponding fetcher result"),Gi(T)){let R=ra(e.matches,b==null?void 0:b.route.id);w&&w[R.route.id]||(w={...w,[R.route.id]:T.error}),e.fetchers.delete(g)}else if(Ga(T))en(!1,"Unhandled fetcher revalidation redirect");else{let R=So(T.data);e.fetchers.set(g,R)}}),{loaderData:h,errors:w}}function Wx(e,t,n,i){let c=Object.entries(t).filter(([,u])=>u!==S3).reduce((u,[h,w])=>(u[h]=w,u),{});for(let u of n){let h=u.route.id;if(!t.hasOwnProperty(h)&&e.hasOwnProperty(h)&&u.route.loader&&(c[h]=e[h]),i&&i.hasOwnProperty(h))break}return c}function zx(e){return e?Gi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ra(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function Td(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ls(e,{pathname:t,routeId:n,method:i,type:c,message:u}={}){let h="Unknown Server Error",w="Unknown @remix-run/router error";return e===400?(h="Bad Request",i&&t&&n?w=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:c==="invalid-body"&&(w="Unable to encode submission body")):e===403?(h="Forbidden",w=`Route "${n}" does not match URL "${t}"`):e===404?(h="Not Found",w=`No route matches URL "${t}"`):e===405&&(h="Method Not Allowed",i&&t&&n?w=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(w=`Invalid request method "${i.toUpperCase()}"`)),new xu(e||500,h,new Error(w),!0)}function Id(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[i,c]=t[n];if(Ga(c))return{key:i,result:c}}}function _3(e){let t=typeof e=="string"?ma(e):e;return eo({...t,hash:""})}function Q8(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function J8(e){var t,n;return new xu(((t=e.init)==null?void 0:t.status)??500,((n=e.init)==null?void 0:n.statusText)??"Internal Server Error",e.data)}function eb(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&tb(n))}function tb(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function nb(e){return kp(e.result)&&E3.has(e.result.status)}function Gi(e){return e.type==="error"}function Ga(e){return(e&&e.type)==="redirect"}function Gx(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function kp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function rb(e){return E3.has(e)}function ib(e){return kp(e)&&rb(e.status)&&e.headers.has("Location")}function sb(e){return k8.has(e.toUpperCase())}function li(e){return M8.has(e.toUpperCase())}function Lp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Xd(e,t){let n=typeof t=="string"?ma(t).search:t.search;if(e[e.length-1].route.index&&Lp(n||""))return e[e.length-1];let i=x3(e);return i[i.length-1]}function Xx(e){let{formMethod:t,formAction:n,formEncType:i,text:c,formData:u,json:h}=e;if(!(!t||!n||!i)){if(c!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:c};if(u!=null)return{formMethod:t,formAction:n,formEncType:i,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:h,text:void 0}}}function C1(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ob(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Lc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ab(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function So(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lb(e,t){try{let n=e.sessionStorage.getItem(b3);if(n){let i=JSON.parse(n);for(let[c,u]of Object.entries(i||{}))u&&Array.isArray(u)&&t.set(c,new Set(u||[]))}}catch{}}function cb(e,t){if(t.size>0){let n={};for(let[i,c]of t)n[i]=[...c];try{e.sessionStorage.setItem(b3,JSON.stringify(n))}catch(i){Tr(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function $x(){let e,t,n=new Promise((i,c)=>{e=async u=>{i(u);try{await n}catch{}},t=async u=>{c(u);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var sl=M.createContext(null);sl.displayName="DataRouter";var yu=M.createContext(null);yu.displayName="DataRouterState";var P3=M.createContext(!1);function ub(){return M.useContext(P3)}var jp=M.createContext({isTransitioning:!1});jp.displayName="ViewTransition";var D3=M.createContext(new Map);D3.displayName="Fetchers";var db=M.createContext(null);db.displayName="Await";var Ki=M.createContext(null);Ki.displayName="Navigation";var kf=M.createContext(null);kf.displayName="Location";var fs=M.createContext({outlet:null,matches:[],isDataRoute:!1});fs.displayName="Route";var Bp=M.createContext(null);Bp.displayName="RouteError";var M3="REACT_ROUTER_ERROR",fb="REDIRECT",hb="ROUTE_ERROR_RESPONSE";function pb(e){if(e.startsWith(`${M3}:${fb}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function mb(e){if(e.startsWith(`${M3}:${hb}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new xu(t.status,t.statusText,t.data)}catch{}}function gb(e,{relative:t}={}){en(tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(Ki),{hash:c,pathname:u,search:h}=vu(e,{relative:t}),w=u;return n!=="/"&&(w=u==="/"?n:qs([n,u])),i.createHref({pathname:w,search:h,hash:c})}function tc(){return M.useContext(kf)!=null}function hs(){return en(tc(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(kf).location}var O3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k3(e){M.useContext(Ki).static||M.useLayoutEffect(e)}function ro(){let{isDataRoute:e}=M.useContext(fs);return e?Pb():xb()}function xb(){en(tc(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(sl),{basename:t,navigator:n}=M.useContext(Ki),{matches:i}=M.useContext(fs),{pathname:c}=hs(),u=JSON.stringify(Mf(i)),h=M.useRef(!1);return k3(()=>{h.current=!0}),M.useCallback((y,g={})=>{if(Tr(h.current,O3),!h.current)return;if(typeof y=="number"){n.go(y);return}let b=Of(y,JSON.parse(u),c,g.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:qs([t,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[t,n,u,c,e])}var wb=M.createContext(null);function yb(e){let t=M.useContext(fs).outlet;return M.useMemo(()=>t&&M.createElement(wb.Provider,{value:e},t),[t,e])}function Fp(){let{matches:e}=M.useContext(fs),t=e[e.length-1];return t?t.params:{}}function vu(e,{relative:t}={}){let{matches:n}=M.useContext(fs),{pathname:i}=hs(),c=JSON.stringify(Mf(n));return M.useMemo(()=>Of(e,JSON.parse(c),i,t==="path"),[e,c,i,t])}function vb(e,t,n,i,c){en(tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=M.useContext(Ki),{matches:h}=M.useContext(fs),w=h[h.length-1],y=w?w.params:{},g=w?w.pathname:"/",b=w?w.pathnameBase:"/",E=w&&w.route;{let z=E&&E.path||"";j3(g,!E||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=hs(),R;R=T;let O=R.pathname||"/",k=O;if(b!=="/"){let z=b.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice(z.length).join("/")}let F=na(e,{pathname:k});return Tr(E||F!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Tr(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Ab(F&&F.map(z=>Object.assign({},z,{params:Object.assign({},y,z.params),pathname:qs([b,u.encodeLocation?u.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?b:qs([b,u.encodeLocation?u.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),h,n,i,c)}function Cb(){let e=_b(),t=cu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",e),h=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:c},n):null,h)}var Eb=M.createElement(Cb,null),L3=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=mb(e.digest);n&&(e=n)}let t=e!==void 0?M.createElement(fs.Provider,{value:this.props.routeContext},M.createElement(Bp.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?M.createElement(bb,{error:e},t):t}};L3.contextType=P3;var E1=new WeakMap;function bb({children:e,error:t}){let{basename:n}=M.useContext(Ki);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=pb(t.digest);if(i){let c=E1.get(t);if(c)throw c;let u=y3(i.location,n);if(w3&&!E1.get(t))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw E1.set(t,h),h}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function Sb({routeContext:e,match:t,children:n}){let i=M.useContext(sl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(fs.Provider,{value:e},n)}function Ab(e,t=[],n=null,i=null,c=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,h=n==null?void 0:n.errors;if(h!=null){let b=u.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);en(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let w=!1,y=-1;if(n)for(let b=0;b<u.length;b++){let E=u[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=b),E.route.id){let{loaderData:T,errors:R}=n,O=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||O){w=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let g=n&&i?(b,E)=>{var T,R;i(b,{location:n.location,params:((R=(T=n.matches)==null?void 0:T[0])==null?void 0:R.params)??{},unstable_pattern:wu(n.matches),errorInfo:E})}:void 0;return u.reduceRight((b,E,T)=>{let R,O=!1,k=null,F=null;n&&(R=h&&E.route.id?h[E.route.id]:void 0,k=E.route.errorElement||Eb,w&&(y<0&&T===0?(j3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,F=null):y===T&&(O=!0,F=E.route.hydrateFallbackElement||null)));let G=t.concat(u.slice(0,T+1)),z=()=>{let U;return R?U=k:O?U=F:E.route.Component?U=M.createElement(E.route.Component,null):E.route.element?U=E.route.element:U=b,M.createElement(Sb,{match:E,routeContext:{outlet:b,matches:G,isDataRoute:n!=null},children:U})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?M.createElement(L3,{location:n.location,revalidation:n.revalidation,component:k,error:R,children:z(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:g}):z()},null)}function Vp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(e){let t=M.useContext(sl);return en(t,Vp(e)),t}function Ib(e){let t=M.useContext(yu);return en(t,Vp(e)),t}function Nb(e){let t=M.useContext(fs);return en(t,Vp(e)),t}function Up(e){let t=Nb(e),n=t.matches[t.matches.length-1];return en(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Rb(){return Up("useRouteId")}function _b(){var i;let e=M.useContext(Bp),t=Ib("useRouteError"),n=Up("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function Pb(){let{router:e}=Tb("useNavigate"),t=Up("useNavigate"),n=M.useRef(!1);return k3(()=>{n.current=!0}),M.useCallback(async(c,u={})=>{Tr(n.current,O3),n.current&&(typeof c=="number"?await e.navigate(c):await e.navigate(c,{fromRouteId:t,...u}))},[e,t])}var Yx={};function j3(e,t,n){!t&&!Yx[e]&&(Yx[e]=!0,Tr(!1,n))}var Zx={};function Kx(e,t){!e&&!Zx[t]&&(Zx[t]=!0,console.warn(t))}var Db="useOptimistic",qx=d3[Db],Mb=()=>{};function Ob(e){return qx?qx(e):[e,Mb]}function kb(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Tr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:M.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Tr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:M.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Tr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:M.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Lb=["HydrateFallback","hydrateFallbackElement"],jb=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Bb({router:e,flushSync:t,onError:n,unstable_useTransitions:i}){i=ub()||i;let[u,h]=M.useState(e.state),[w,y]=Ob(u),[g,b]=M.useState(),[E,T]=M.useState({isTransitioning:!1}),[R,O]=M.useState(),[k,F]=M.useState(),[G,z]=M.useState(),U=M.useRef(new Map),Z=M.useCallback((L,{deletedFetchers:B,newErrors:K,flushSync:q,viewTransitionOpts:ee})=>{K&&n&&Object.values(K).forEach(Pe=>{var ne;return n(Pe,{location:L.location,params:((ne=L.matches[0])==null?void 0:ne.params)??{},unstable_pattern:wu(L.matches)})}),L.fetchers.forEach((Pe,ne)=>{Pe.data!==void 0&&U.current.set(ne,Pe.data)}),B.forEach(Pe=>U.current.delete(Pe)),Kx(q===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let X=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Kx(ee==null||X,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ee||!X){t&&q?t(()=>h(L)):i===!1?h(L):M.startTransition(()=>{i===!0&&y(Pe=>Qx(Pe,L)),h(L)});return}if(t&&q){t(()=>{k&&(R==null||R.resolve(),k.skipTransition()),T({isTransitioning:!0,flushSync:!0,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})});let Pe=e.window.document.startViewTransition(()=>{t(()=>h(L))});Pe.finished.finally(()=>{t(()=>{O(void 0),F(void 0),b(void 0),T({isTransitioning:!1})})}),t(()=>F(Pe));return}k?(R==null||R.resolve(),k.skipTransition(),z({state:L,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})):(b(L),T({isTransitioning:!0,flushSync:!1,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation}))},[e.window,t,k,R,i,y,n]);M.useLayoutEffect(()=>e.subscribe(Z),[e,Z]),M.useEffect(()=>{E.isTransitioning&&!E.flushSync&&O(new jb)},[E]),M.useEffect(()=>{if(R&&g&&e.window){let L=g,B=R.promise,K=e.window.document.startViewTransition(async()=>{i===!1?h(L):M.startTransition(()=>{i===!0&&y(q=>Qx(q,L)),h(L)}),await B});K.finished.finally(()=>{O(void 0),F(void 0),b(void 0),T({isTransitioning:!1})}),F(K)}},[g,R,e.window,i,y]),M.useEffect(()=>{R&&g&&w.location.key===g.location.key&&R.resolve()},[R,k,w.location,g]),M.useEffect(()=>{!E.isTransitioning&&G&&(b(G.state),T({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}),z(void 0))},[E.isTransitioning,G]);let re=M.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:L=>e.navigate(L),push:(L,B,K)=>e.navigate(L,{state:B,preventScrollReset:K==null?void 0:K.preventScrollReset}),replace:(L,B,K)=>e.navigate(L,{replace:!0,state:B,preventScrollReset:K==null?void 0:K.preventScrollReset})}),[e]),le=e.basename||"/",P=M.useMemo(()=>({router:e,navigator:re,static:!1,basename:le,onError:n}),[e,re,le,n]);return M.createElement(M.Fragment,null,M.createElement(sl.Provider,{value:P},M.createElement(yu.Provider,{value:w},M.createElement(D3.Provider,{value:U.current},M.createElement(jp.Provider,{value:E},M.createElement(Hb,{basename:le,location:w.location,navigationType:w.historyAction,navigator:re,unstable_useTransitions:i},M.createElement(Fb,{routes:e.routes,future:e.future,state:w,onError:n})))))),null)}function Qx(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var Fb=M.memo(Vb);function Vb({routes:e,future:t,state:n,onError:i}){return vb(e,void 0,n,i,t)}function B3({to:e,replace:t,state:n,relative:i}){en(tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=M.useContext(Ki);Tr(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=M.useContext(fs),{pathname:h}=hs(),w=ro(),y=Of(e,Mf(u),h,i==="path"),g=JSON.stringify(y);return M.useEffect(()=>{w(JSON.parse(g),{replace:t,state:n,relative:i})},[w,g,i,t,n]),null}function Ub(e){return yb(e.context)}function Hb({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:c,static:u=!1,unstable_useTransitions:h}){en(!tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let w=e.replace(/^\/*/,"/"),y=M.useMemo(()=>({basename:w,navigator:c,static:u,unstable_useTransitions:h,future:{}}),[w,c,u,h]);typeof n=="string"&&(n=ma(n));let{pathname:g="/",search:b="",hash:E="",state:T=null,key:R="default"}=n,O=M.useMemo(()=>{let k=ds(g,w);return k==null?null:{location:{pathname:k,search:b,hash:E,state:T,key:R},navigationType:i}},[w,g,b,E,T,R,i]);return Tr(O!=null,`<Router basename="${w}"> is not able to match the URL "${g}${b}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:M.createElement(Ki.Provider,{value:y},M.createElement(kf.Provider,{children:t,value:O}))}var $d="get",Yd="application/x-www-form-urlencoded";function Lf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Wb(e){return Lf(e)&&e.tagName.toLowerCase()==="button"}function zb(e){return Lf(e)&&e.tagName.toLowerCase()==="form"}function Gb(e){return Lf(e)&&e.tagName.toLowerCase()==="input"}function Xb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $b(e,t){return e.button===0&&(!t||t==="_self")&&!Xb(e)}var Nd=null;function Yb(){if(Nd===null)try{new FormData(document.createElement("form"),0),Nd=!1}catch{Nd=!0}return Nd}var Zb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b1(e){return e!=null&&!Zb.has(e)?(Tr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yd}"`),null):e}function Kb(e,t){let n,i,c,u,h;if(zb(e)){let w=e.getAttribute("action");i=w?ds(w,t):null,n=e.getAttribute("method")||$d,c=b1(e.getAttribute("enctype"))||Yd,u=new FormData(e)}else if(Wb(e)||Gb(e)&&(e.type==="submit"||e.type==="image")){let w=e.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=e.getAttribute("formaction")||w.getAttribute("action");if(i=y?ds(y,t):null,n=e.getAttribute("formmethod")||w.getAttribute("method")||$d,c=b1(e.getAttribute("formenctype"))||b1(w.getAttribute("enctype"))||Yd,u=new FormData(w,e),!Yb()){let{name:g,type:b,value:E}=e;if(b==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,E)}}else{if(Lf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$d,i=null,c=Yd,h=e}return u&&c==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qb(e,t,n,i){let c=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${i}`:c.pathname=`${c.pathname}.${i}`:c.pathname==="/"?c.pathname=`_root.${i}`:t&&ds(c.pathname,t)==="/"?c.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function Qb(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jb(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function eS(e,t,n){let i=await Promise.all(e.map(async c=>{let u=t.routes[c.route.id];if(u){let h=await Qb(u,n);return h.links?h.links():[]}return[]}));return iS(i.flat(1).filter(Jb).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Jx(e,t,n,i,c,u){let h=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,w=(y,g)=>{var b;return n[g].pathname!==y.pathname||((b=n[g].route.path)==null?void 0:b.endsWith("*"))&&n[g].params["*"]!==y.params["*"]};return u==="assets"?t.filter((y,g)=>h(y,g)||w(y,g)):u==="data"?t.filter((y,g)=>{var E;let b=i.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(h(y,g)||w(y,g))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(e,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function tS(e,t,{includeHydrateFallback:n}={}){return nS(e.map(i=>{let c=t.routes[i.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function nS(e){return[...new Set(e)]}function rS(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function iS(e,t){let n=new Set;return new Set(t),e.reduce((i,c)=>{let u=JSON.stringify(rS(c));return n.has(u)||(n.add(u),i.push({key:u,link:c})),i},[])}function F3(){let e=M.useContext(sl);return Hp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sS(){let e=M.useContext(yu);return Hp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Wp=M.createContext(void 0);Wp.displayName="FrameworkContext";function V3(){let e=M.useContext(Wp);return Hp(e,"You must render this element inside a <HydratedRouter> element"),e}function oS(e,t){let n=M.useContext(Wp),[i,c]=M.useState(!1),[u,h]=M.useState(!1),{onFocus:w,onBlur:y,onMouseEnter:g,onMouseLeave:b,onTouchStart:E}=t,T=M.useRef(null);M.useEffect(()=>{if(e==="render"&&h(!0),e==="viewport"){let k=G=>{G.forEach(z=>{h(z.isIntersecting)})},F=new IntersectionObserver(k,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[e]),M.useEffect(()=>{if(i){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[i]);let R=()=>{c(!0)},O=()=>{c(!1),h(!1)};return n?e!=="intent"?[u,T,{}]:[u,T,{onFocus:jc(w,R),onBlur:jc(y,O),onMouseEnter:jc(g,R),onMouseLeave:jc(b,O),onTouchStart:jc(E,R)}]:[!1,T,{}]}function jc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function aS({page:e,...t}){let{router:n}=F3(),i=M.useMemo(()=>na(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?M.createElement(cS,{page:e,matches:i,...t}):null}function lS(e){let{manifest:t,routeModules:n}=V3(),[i,c]=M.useState([]);return M.useEffect(()=>{let u=!1;return eS(e,t,n).then(h=>{u||c(h)}),()=>{u=!0}},[e,t,n]),i}function cS({page:e,matches:t,...n}){let i=hs(),{future:c,manifest:u,routeModules:h}=V3(),{basename:w}=F3(),{loaderData:y,matches:g}=sS(),b=M.useMemo(()=>Jx(e,t,g,u,i,"data"),[e,t,g,u,i]),E=M.useMemo(()=>Jx(e,t,g,u,i,"assets"),[e,t,g,u,i]),T=M.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let k=new Set,F=!1;if(t.forEach(z=>{var Z;let U=u.routes[z.route.id];!U||!U.hasLoader||(!b.some(re=>re.route.id===z.route.id)&&z.route.id in y&&((Z=h[z.route.id])!=null&&Z.shouldRevalidate)||U.hasClientLoader?F=!0:k.add(z.route.id))}),k.size===0)return[];let G=qb(e,w,c.unstable_trailingSlashAwareDataRequests,"data");return F&&k.size>0&&G.searchParams.set("_routes",t.filter(z=>k.has(z.route.id)).map(z=>z.route.id).join(",")),[G.pathname+G.search]},[w,c.unstable_trailingSlashAwareDataRequests,y,i,u,b,t,e,h]),R=M.useMemo(()=>tS(E,u),[E,u]),O=lS(E);return M.createElement(M.Fragment,null,T.map(k=>M.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),R.map(k=>M.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),O.map(({key:k,link:F})=>M.createElement("link",{key:k,nonce:n.nonce,...F,crossOrigin:F.crossOrigin??n.crossOrigin})))}function uS(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dS&&(window.__reactRouterVersion="7.13.0")}catch{}function fS(e,t){return F8({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:t8({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||hS(),routes:e,mapRouteProperties:kb,hydrationRouteProperties:Lb,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function hS(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:pS(e.errors)}),e}function pS(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,c]of t)if(c&&c.__type==="RouteErrorResponse")n[i]=new xu(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let u=window[c.__subType];if(typeof u=="function")try{let h=new u(c.message);h.stack="",n[i]=h}catch{}}if(n[i]==null){let u=new Error(c.message);u.stack="",n[i]=u}}else n[i]=c;return n}var U3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cu=M.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:c,reloadDocument:u,replace:h,state:w,target:y,to:g,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:T,...R},O){let{basename:k,unstable_useTransitions:F}=M.useContext(Ki),G=typeof g=="string"&&U3.test(g),z=y3(g,k);g=z.to;let U=gb(g,{relative:c}),[Z,re,le]=oS(i,R),P=wS(g,{replace:h,state:w,target:y,preventScrollReset:b,relative:c,viewTransition:E,unstable_defaultShouldRevalidate:T,unstable_useTransitions:F});function L(K){t&&t(K),K.defaultPrevented||P(K)}let B=M.createElement("a",{...R,...le,href:z.absoluteURL||U,onClick:z.isExternal||u?t:L,ref:uS(O,re),target:y,"data-discover":!G&&n==="render"?"true":void 0});return Z&&!G?M.createElement(M.Fragment,null,B,M.createElement(aS,{page:U})):B});Cu.displayName="Link";var mS=M.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:c=!1,style:u,to:h,viewTransition:w,children:y,...g},b){let E=vu(h,{relative:g.relative}),T=hs(),R=M.useContext(yu),{navigator:O,basename:k}=M.useContext(Ki),F=R!=null&&bS(E)&&w===!0,G=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,z=T.pathname,U=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(z=z.toLowerCase(),U=U?U.toLowerCase():null,G=G.toLowerCase()),U&&k&&(U=ds(U,k)||U);const Z=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let re=z===G||!c&&z.startsWith(G)&&z.charAt(Z)==="/",le=U!=null&&(U===G||!c&&U.startsWith(G)&&U.charAt(G.length)==="/"),P={isActive:re,isPending:le,isTransitioning:F},L=re?t:void 0,B;typeof i=="function"?B=i(P):B=[i,re?"active":null,le?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let K=typeof u=="function"?u(P):u;return M.createElement(Cu,{...g,"aria-current":L,className:B,ref:b,style:K,to:h,viewTransition:w},typeof y=="function"?y(P):y)});mS.displayName="NavLink";var gS=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:c,state:u,method:h=$d,action:w,onSubmit:y,relative:g,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:T,...R},O)=>{let{unstable_useTransitions:k}=M.useContext(Ki),F=CS(),G=ES(w,{relative:g}),z=h.toLowerCase()==="get"?"get":"post",U=typeof w=="string"&&U3.test(w),Z=re=>{if(y&&y(re),re.defaultPrevented)return;re.preventDefault();let le=re.nativeEvent.submitter,P=(le==null?void 0:le.getAttribute("formmethod"))||h,L=()=>F(le||re.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:c,state:u,relative:g,preventScrollReset:b,viewTransition:E,unstable_defaultShouldRevalidate:T});k&&n!==!1?M.startTransition(()=>L()):L()};return M.createElement("form",{ref:O,method:z,action:G,onSubmit:i?y:Z,...R,"data-discover":!U&&e==="render"?"true":void 0})});gS.displayName="Form";function xS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H3(e){let t=M.useContext(sl);return en(t,xS(e)),t}function wS(e,{target:t,replace:n,state:i,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:w,unstable_useTransitions:y}={}){let g=ro(),b=hs(),E=vu(e,{relative:u});return M.useCallback(T=>{if($b(T,t)){T.preventDefault();let R=n!==void 0?n:eo(b)===eo(E),O=()=>g(e,{replace:R,state:i,preventScrollReset:c,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:w});y?M.startTransition(()=>O()):O()}},[b,g,E,n,i,t,e,c,u,h,w,y])}var yS=0,vS=()=>`__${String(++yS)}__`;function CS(){let{router:e}=H3("useSubmit"),{basename:t}=M.useContext(Ki),n=Rb(),i=e.fetch,c=e.navigate;return M.useCallback(async(u,h={})=>{let{action:w,method:y,encType:g,formData:b,body:E}=Kb(u,t);if(h.navigate===!1){let T=h.fetcherKey||vS();await i(T,n,h.action||w,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:E,formMethod:h.method||y,formEncType:h.encType||g,flushSync:h.flushSync})}else await c(h.action||w,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:E,formMethod:h.method||y,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,c,t,n])}function ES(e,{relative:t}={}){let{basename:n}=M.useContext(Ki),i=M.useContext(fs);en(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),u={...vu(e||".",{relative:t})},h=hs();if(e==null){u.search=h.search;let w=new URLSearchParams(u.search),y=w.getAll("index");if(y.some(b=>b==="")){w.delete("index"),y.filter(E=>E).forEach(E=>w.append("index",E));let b=w.toString();u.search=b?`?${b}`:""}}return(!e||e===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:qs([n,u.pathname])),eo(u)}function bS(e,{relative:t}={}){let n=M.useContext(jp);en(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=H3("useViewTransitionState"),c=vu(e,{relative:t});if(!n.isTransitioning)return!1;let u=ds(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=ds(n.nextLocation.pathname,i)||n.nextLocation.pathname;return sf(c.pathname,h)!=null||sf(c.pathname,u)!=null}var Eu=u3();const W3=c3(Eu);function SS(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const AS=e=>{switch(e){case"success":return NS;case"info":return _S;case"warning":return RS;case"error":return PS;default:return null}},TS=Array(12).fill(0),IS=({visible:e,className:t})=>Ee.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ee.createElement("div",{className:"sonner-spinner"},TS.map((n,i)=>Ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),NS=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RS=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_S=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PS=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DS=Ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MS=()=>{const[e,t]=Ee.useState(document.hidden);return Ee.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let k0=1;class OS{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:i,...c}=t,u=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:k0++,h=this.toasts.find(y=>y.id===u),w=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),h?this.toasts=this.toasts.map(y=>y.id===u?(this.publish({...y,...t,id:u,title:i}),{...y,...t,id:u,dismissible:w,title:i}):y):this.addToast({title:i,...c,dismissible:w,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const c=Promise.resolve(t instanceof Function?t():t);let u=i!==void 0,h;const w=c.then(async g=>{if(h=["resolve",g],Ee.isValidElement(g))u=!1,this.create({id:i,type:"default",message:g});else if(LS(g)&&!g.ok){u=!1;const E=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,T=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,O=typeof E=="object"&&!Ee.isValidElement(E)?E:{message:E};this.create({id:i,type:"error",description:T,...O})}else if(g instanceof Error){u=!1;const E=typeof n.error=="function"?await n.error(g):n.error,T=typeof n.description=="function"?await n.description(g):n.description,O=typeof E=="object"&&!Ee.isValidElement(E)?E:{message:E};this.create({id:i,type:"error",description:T,...O})}else if(n.success!==void 0){u=!1;const E=typeof n.success=="function"?await n.success(g):n.success,T=typeof n.description=="function"?await n.description(g):n.description,O=typeof E=="object"&&!Ee.isValidElement(E)?E:{message:E};this.create({id:i,type:"success",description:T,...O})}}).catch(async g=>{if(h=["reject",g],n.error!==void 0){u=!1;const b=typeof n.error=="function"?await n.error(g):n.error,E=typeof n.description=="function"?await n.description(g):n.description,R=typeof b=="object"&&!Ee.isValidElement(b)?b:{message:b};this.create({id:i,type:"error",description:E,...R})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),y=()=>new Promise((g,b)=>w.then(()=>h[0]==="reject"?b(h[1]):g(h[1])).catch(b));return typeof i!="string"&&typeof i!="number"?{unwrap:y}:Object.assign(i,{unwrap:y})},this.custom=(t,n)=>{const i=(n==null?void 0:n.id)||k0++;return this.create({jsx:t(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Di=new OS,kS=(e,t)=>{const n=(t==null?void 0:t.id)||k0++;return Di.addToast({title:e,...t,id:n}),n},LS=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jS=kS,BS=()=>Di.toasts,FS=()=>Di.getActiveToasts(),Zd=Object.assign(jS,{success:Di.success,info:Di.info,warning:Di.warning,error:Di.error,custom:Di.custom,message:Di.message,promise:Di.promise,dismiss:Di.dismiss,loading:Di.loading},{getHistory:BS,getToasts:FS});SS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rd(e){return e.label!==void 0}const VS=3,US="24px",HS="16px",ew=4e3,WS=356,zS=14,GS=45,XS=200;function zs(...e){return e.filter(Boolean).join(" ")}function $S(e){const[t,n]=e.split("-"),i=[];return t&&i.push(t),n&&i.push(n),i}const YS=e=>{var t,n,i,c,u,h,w,y,g;const{invert:b,toast:E,unstyled:T,interacting:R,setHeights:O,visibleToasts:k,heights:F,index:G,toasts:z,expanded:U,removeToast:Z,defaultRichColors:re,closeButton:le,style:P,cancelButtonStyle:L,actionButtonStyle:B,className:K="",descriptionClassName:q="",duration:ee,position:X,gap:Pe,expandByDefault:ne,classNames:we,icons:xe,closeButtonAriaLabel:oe="Close toast"}=e,[ce,ue]=Ee.useState(null),[J,de]=Ee.useState(null),[ve,Re]=Ee.useState(!1),[Ge,Ie]=Ee.useState(!1),[Le,Fe]=Ee.useState(!1),[Ue,Se]=Ee.useState(!1),[Ve,Ye]=Ee.useState(!1),[tt,Je]=Ee.useState(0),[tn,nn]=Ee.useState(0),Gt=Ee.useRef(E.duration||ee||ew),Zt=Ee.useRef(null),it=Ee.useRef(null),on=G===0,rt=G+1<=k,Ln=E.type,ir=E.dismissible!==!1,Un=E.className||"",sr=E.descriptionClassName||"",jn=Ee.useMemo(()=>F.findIndex(dt=>dt.toastId===E.id)||0,[F,E.id]),$r=Ee.useMemo(()=>{var dt;return(dt=E.closeButton)!=null?dt:le},[E.closeButton,le]),mn=Ee.useMemo(()=>E.duration||ee||ew,[E.duration,ee]),un=Ee.useRef(0),or=Ee.useRef(0),Ir=Ee.useRef(0),hr=Ee.useRef(null),[dn,Xe]=X.split("-"),En=Ee.useMemo(()=>F.reduce((dt,Tt,an)=>an>=jn?dt:dt+Tt.height,0),[F,jn]),Wt=MS(),fn=E.invert||b,Cr=Ln==="loading";or.current=Ee.useMemo(()=>jn*Pe+En,[jn,En]),Ee.useEffect(()=>{Gt.current=mn},[mn]),Ee.useEffect(()=>{Re(!0)},[]),Ee.useEffect(()=>{const dt=it.current;if(dt){const Tt=dt.getBoundingClientRect().height;return nn(Tt),O(an=>[{toastId:E.id,height:Tt,position:E.position},...an]),()=>O(an=>an.filter(Dt=>Dt.toastId!==E.id))}},[O,E.id]),Ee.useLayoutEffect(()=>{if(!ve)return;const dt=it.current,Tt=dt.style.height;dt.style.height="auto";const an=dt.getBoundingClientRect().height;dt.style.height=Tt,nn(an),O(Dt=>Dt.find(qt=>qt.toastId===E.id)?Dt.map(qt=>qt.toastId===E.id?{...qt,height:an}:qt):[{toastId:E.id,height:an,position:E.position},...Dt])},[ve,E.title,E.description,O,E.id]);const ct=Ee.useCallback(()=>{Ie(!0),Je(or.current),O(dt=>dt.filter(Tt=>Tt.toastId!==E.id)),setTimeout(()=>{Z(E)},XS)},[E,Z,O,or]);Ee.useEffect(()=>{if(E.promise&&Ln==="loading"||E.duration===1/0||E.type==="loading")return;let dt;return U||R||Wt?(()=>{if(Ir.current<un.current){const Dt=new Date().getTime()-un.current;Gt.current=Gt.current-Dt}Ir.current=new Date().getTime()})():(()=>{Gt.current!==1/0&&(un.current=new Date().getTime(),dt=setTimeout(()=>{E.onAutoClose==null||E.onAutoClose.call(E,E),ct()},Gt.current))})(),()=>clearTimeout(dt)},[U,R,E,Ln,Wt,ct]),Ee.useEffect(()=>{E.delete&&ct()},[ct,E.delete]);function Bt(){var dt;if(xe!=null&&xe.loading){var Tt;return Ee.createElement("div",{className:zs(we==null?void 0:we.loader,E==null||(Tt=E.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":Ln==="loading"},xe.loading)}return Ee.createElement(IS,{className:zs(we==null?void 0:we.loader,E==null||(dt=E.classNames)==null?void 0:dt.loader),visible:Ln==="loading"})}const lt=E.icon||(xe==null?void 0:xe[Ln])||AS(Ln);var ut,gn;return Ee.createElement("li",{tabIndex:0,ref:it,className:zs(K,Un,we==null?void 0:we.toast,E==null||(t=E.classNames)==null?void 0:t.toast,we==null?void 0:we.default,we==null?void 0:we[Ln],E==null||(n=E.classNames)==null?void 0:n[Ln]),"data-sonner-toast":"","data-rich-colors":(ut=E.richColors)!=null?ut:re,"data-styled":!(E.jsx||E.unstyled||T),"data-mounted":ve,"data-promise":!!E.promise,"data-swiped":Ve,"data-removed":Ge,"data-visible":rt,"data-y-position":dn,"data-x-position":Xe,"data-index":G,"data-front":on,"data-swiping":Le,"data-dismissible":ir,"data-type":Ln,"data-invert":fn,"data-swipe-out":Ue,"data-swipe-direction":J,"data-expanded":!!(U||ne&&ve),style:{"--index":G,"--toasts-before":G,"--z-index":z.length-G,"--offset":`${Ge?tt:or.current}px`,"--initial-height":ne?"auto":`${tn}px`,...P,...E.style},onDragEnd:()=>{Fe(!1),ue(null),hr.current=null},onPointerDown:dt=>{Cr||!ir||(Zt.current=new Date,Je(or.current),dt.target.setPointerCapture(dt.pointerId),dt.target.tagName!=="BUTTON"&&(Fe(!0),hr.current={x:dt.clientX,y:dt.clientY}))},onPointerUp:()=>{var dt,Tt,an;if(Ue||!ir)return;hr.current=null;const Dt=Number(((dt=it.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xn=Number(((Tt=it.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qt=new Date().getTime()-((an=Zt.current)==null?void 0:an.getTime()),Xt=ce==="x"?Dt:xn,Er=Math.abs(Xt)/qt;if(Math.abs(Xt)>=GS||Er>.11){Je(or.current),E.onDismiss==null||E.onDismiss.call(E,E),de(ce==="x"?Dt>0?"right":"left":xn>0?"down":"up"),ct(),Se(!0);return}else{var se,me;(se=it.current)==null||se.style.setProperty("--swipe-amount-x","0px"),(me=it.current)==null||me.style.setProperty("--swipe-amount-y","0px")}Ye(!1),Fe(!1),ue(null)},onPointerMove:dt=>{var Tt,an,Dt;if(!hr.current||!ir||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;const qt=dt.clientY-hr.current.y,Xt=dt.clientX-hr.current.x;var Er;const se=(Er=e.swipeDirections)!=null?Er:$S(X);!ce&&(Math.abs(Xt)>1||Math.abs(qt)>1)&&ue(Math.abs(Xt)>Math.abs(qt)?"x":"y");let me={x:0,y:0};const Ce=je=>1/(1.5+Math.abs(je)/20);if(ce==="y"){if(se.includes("top")||se.includes("bottom"))if(se.includes("top")&&qt<0||se.includes("bottom")&&qt>0)me.y=qt;else{const je=qt*Ce(qt);me.y=Math.abs(je)<Math.abs(qt)?je:qt}}else if(ce==="x"&&(se.includes("left")||se.includes("right")))if(se.includes("left")&&Xt<0||se.includes("right")&&Xt>0)me.x=Xt;else{const je=Xt*Ce(Xt);me.x=Math.abs(je)<Math.abs(Xt)?je:Xt}(Math.abs(me.x)>0||Math.abs(me.y)>0)&&Ye(!0),(an=it.current)==null||an.style.setProperty("--swipe-amount-x",`${me.x}px`),(Dt=it.current)==null||Dt.style.setProperty("--swipe-amount-y",`${me.y}px`)}},$r&&!E.jsx&&Ln!=="loading"?Ee.createElement("button",{"aria-label":oe,"data-disabled":Cr,"data-close-button":!0,onClick:Cr||!ir?()=>{}:()=>{ct(),E.onDismiss==null||E.onDismiss.call(E,E)},className:zs(we==null?void 0:we.closeButton,E==null||(i=E.classNames)==null?void 0:i.closeButton)},(gn=xe==null?void 0:xe.close)!=null?gn:DS):null,(Ln||E.icon||E.promise)&&E.icon!==null&&((xe==null?void 0:xe[Ln])!==null||E.icon)?Ee.createElement("div",{"data-icon":"",className:zs(we==null?void 0:we.icon,E==null||(c=E.classNames)==null?void 0:c.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||Bt():null,E.type!=="loading"?lt:null):null,Ee.createElement("div",{"data-content":"",className:zs(we==null?void 0:we.content,E==null||(u=E.classNames)==null?void 0:u.content)},Ee.createElement("div",{"data-title":"",className:zs(we==null?void 0:we.title,E==null||(h=E.classNames)==null?void 0:h.title)},E.jsx?E.jsx:typeof E.title=="function"?E.title():E.title),E.description?Ee.createElement("div",{"data-description":"",className:zs(q,sr,we==null?void 0:we.description,E==null||(w=E.classNames)==null?void 0:w.description)},typeof E.description=="function"?E.description():E.description):null),Ee.isValidElement(E.cancel)?E.cancel:E.cancel&&Rd(E.cancel)?Ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||L,onClick:dt=>{Rd(E.cancel)&&ir&&(E.cancel.onClick==null||E.cancel.onClick.call(E.cancel,dt),ct())},className:zs(we==null?void 0:we.cancelButton,E==null||(y=E.classNames)==null?void 0:y.cancelButton)},E.cancel.label):null,Ee.isValidElement(E.action)?E.action:E.action&&Rd(E.action)?Ee.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||B,onClick:dt=>{Rd(E.action)&&(E.action.onClick==null||E.action.onClick.call(E.action,dt),!dt.defaultPrevented&&ct())},className:zs(we==null?void 0:we.actionButton,E==null||(g=E.classNames)==null?void 0:g.actionButton)},E.action.label):null)};function tw(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ZS(e,t){const n={};return[e,t].forEach((i,c)=>{const u=c===1,h=u?"--mobile-offset":"--offset",w=u?HS:US;function y(g){["top","right","bottom","left"].forEach(b=>{n[`${h}-${b}`]=typeof g=="number"?`${g}px`:g})}typeof i=="number"||typeof i=="string"?y(i):typeof i=="object"?["top","right","bottom","left"].forEach(g=>{i[g]===void 0?n[`${h}-${g}`]=w:n[`${h}-${g}`]=typeof i[g]=="number"?`${i[g]}px`:i[g]}):y(w)}),n}const KS=Ee.forwardRef(function(t,n){const{invert:i,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:w,className:y,offset:g,mobileOffset:b,theme:E="light",richColors:T,duration:R,style:O,visibleToasts:k=VS,toastOptions:F,dir:G=tw(),gap:z=zS,icons:U,containerAriaLabel:Z="Notifications"}=t,[re,le]=Ee.useState([]),P=Ee.useMemo(()=>Array.from(new Set([c].concat(re.filter(J=>J.position).map(J=>J.position)))),[re,c]),[L,B]=Ee.useState([]),[K,q]=Ee.useState(!1),[ee,X]=Ee.useState(!1),[Pe,ne]=Ee.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),we=Ee.useRef(null),xe=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),oe=Ee.useRef(null),ce=Ee.useRef(!1),ue=Ee.useCallback(J=>{le(de=>{var ve;return(ve=de.find(Re=>Re.id===J.id))!=null&&ve.delete||Di.dismiss(J.id),de.filter(({id:Re})=>Re!==J.id)})},[]);return Ee.useEffect(()=>Di.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{le(de=>de.map(ve=>ve.id===J.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{W3.flushSync(()=>{le(de=>{const ve=de.findIndex(Re=>Re.id===J.id);return ve!==-1?[...de.slice(0,ve),{...de[ve],...J},...de.slice(ve+1)]:[J,...de]})})})}),[re]),Ee.useEffect(()=>{if(E!=="system"){ne(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:de})=>{ne(de?"dark":"light")})}catch{J.addListener(({matches:ve})=>{try{ne(ve?"dark":"light")}catch(Re){console.error(Re)}})}},[E]),Ee.useEffect(()=>{re.length<=1&&q(!1)},[re]),Ee.useEffect(()=>{const J=de=>{var ve;if(u.every(Ie=>de[Ie]||de.code===Ie)){var Ge;q(!0),(Ge=we.current)==null||Ge.focus()}de.code==="Escape"&&(document.activeElement===we.current||(ve=we.current)!=null&&ve.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[u]),Ee.useEffect(()=>{if(we.current)return()=>{oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null,ce.current=!1)}},[we.current]),Ee.createElement("section",{ref:n,"aria-label":`${Z} ${xe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((J,de)=>{var ve;const[Re,Ge]=J.split("-");return re.length?Ee.createElement("ol",{key:J,dir:G==="auto"?tw():G,tabIndex:-1,ref:we,className:y,"data-sonner-toaster":!0,"data-sonner-theme":Pe,"data-y-position":Re,"data-lifted":K&&re.length>1&&!h,"data-x-position":Ge,style:{"--front-toast-height":`${((ve=L[0])==null?void 0:ve.height)||0}px`,"--width":`${WS}px`,"--gap":`${z}px`,...O,...ZS(g,b)},onBlur:Ie=>{ce.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(ce.current=!1,oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||ce.current||(ce.current=!0,oe.current=Ie.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{ee||q(!1)},onDragEnd:()=>q(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},re.filter(Ie=>!Ie.position&&de===0||Ie.position===J).map((Ie,Le)=>{var Fe,Ue;return Ee.createElement(YS,{key:Ie.id,icons:U,index:Le,toast:Ie,defaultRichColors:T,duration:(Fe=F==null?void 0:F.duration)!=null?Fe:R,className:F==null?void 0:F.className,descriptionClassName:F==null?void 0:F.descriptionClassName,invert:i,visibleToasts:k,closeButton:(Ue=F==null?void 0:F.closeButton)!=null?Ue:w,interacting:ee,position:J,style:F==null?void 0:F.style,unstyled:F==null?void 0:F.unstyled,classNames:F==null?void 0:F.classNames,cancelButtonStyle:F==null?void 0:F.cancelButtonStyle,actionButtonStyle:F==null?void 0:F.actionButtonStyle,closeButtonAriaLabel:F==null?void 0:F.closeButtonAriaLabel,removeToast:ue,toasts:re.filter(Se=>Se.position==Ie.position),heights:L.filter(Se=>Se.position==Ie.position),setHeights:B,expandByDefault:h,gap:z,expanded:K,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let c=e.charCodeAt(i);c<128?t[n++]=c:c<2048?(t[n++]=c>>6|192,t[n++]=c&63|128):(c&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(c=65536+((c&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=c>>18|240,t[n++]=c>>12&63|128,t[n++]=c>>6&63|128,t[n++]=c&63|128):(t[n++]=c>>12|224,t[n++]=c>>6&63|128,t[n++]=c&63|128)}return t},qS=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const c=e[n++];if(c<128)t[i++]=String.fromCharCode(c);else if(c>191&&c<224){const u=e[n++];t[i++]=String.fromCharCode((c&31)<<6|u&63)}else if(c>239&&c<365){const u=e[n++],h=e[n++],w=e[n++],y=((c&7)<<18|(u&63)<<12|(h&63)<<6|w&63)-65536;t[i++]=String.fromCharCode(55296+(y>>10)),t[i++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],h=e[n++];t[i++]=String.fromCharCode((c&15)<<12|(u&63)<<6|h&63)}}return t.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let c=0;c<e.length;c+=3){const u=e[c],h=c+1<e.length,w=h?e[c+1]:0,y=c+2<e.length,g=y?e[c+2]:0,b=u>>2,E=(u&3)<<4|w>>4;let T=(w&15)<<2|g>>6,R=g&63;y||(R=64,h||(T=64)),i.push(n[b],n[E],n[T],n[R])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(z3(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let c=0;c<e.length;){const u=n[e.charAt(c++)],w=c<e.length?n[e.charAt(c)]:0;++c;const g=c<e.length?n[e.charAt(c)]:64;++c;const E=c<e.length?n[e.charAt(c)]:64;if(++c,u==null||w==null||g==null||E==null)throw new JS;const T=u<<2|w>>4;if(i.push(T),g!==64){const R=w<<4&240|g>>2;if(i.push(R),E!==64){const O=g<<6&192|E;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class JS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eA=function(e){const t=z3(e);return QS.encodeByteArray(t,!0)},G3=function(e){return eA(e).replace(/\./g,"")};function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function nA(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(i);c.onsuccess=()=>{c.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},c.onupgradeneeded=()=>{n=!1},c.onerror=()=>{var u;t(((u=c.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="FirebaseError";class nc extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=rA,Object.setPrototypeOf(this,nc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X3.prototype.create)}}class X3{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},c=`${this.service}/${t}`,u=this.errors[t],h=u?iA(u,i):"Error",w=`${this.serviceName}: ${h} (${c}).`;return new nc(c,w,i)}}function iA(e,t){return e.replace(sA,(n,i)=>{const c=t[i];return c!=null?String(c):`<${i}?>`})}const sA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(e){return e&&e._delegate?e._delegate:e}class of{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Vn||(Vn={}));const aA={debug:Vn.DEBUG,verbose:Vn.VERBOSE,info:Vn.INFO,warn:Vn.WARN,error:Vn.ERROR,silent:Vn.SILENT},lA=Vn.INFO,cA={[Vn.DEBUG]:"log",[Vn.VERBOSE]:"log",[Vn.INFO]:"info",[Vn.WARN]:"warn",[Vn.ERROR]:"error"},uA=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),c=cA[t];if(c)console[c](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $3{constructor(t){this.name=t,this._logLevel=lA,this._logHandler=uA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vn.DEBUG,...t),this._logHandler(this,Vn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vn.VERBOSE,...t),this._logHandler(this,Vn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vn.INFO,...t),this._logHandler(this,Vn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vn.WARN,...t),this._logHandler(this,Vn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vn.ERROR,...t),this._logHandler(this,Vn.ERROR,...t)}}const dA=(e,t)=>t.some(n=>e instanceof n);let nw,rw;function fA(){return nw||(nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return rw||(rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y3=new WeakMap,L0=new WeakMap,Z3=new WeakMap,S1=new WeakMap,zp=new WeakMap;function pA(e){const t=new Promise((n,i)=>{const c=()=>{e.removeEventListener("success",u),e.removeEventListener("error",h)},u=()=>{n(oa(e.result)),c()},h=()=>{i(e.error),c()};e.addEventListener("success",u),e.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&Y3.set(n,e)}).catch(()=>{}),zp.set(t,e),t}function mA(e){if(L0.has(e))return;const t=new Promise((n,i)=>{const c=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",h),e.removeEventListener("abort",h)},u=()=>{n(),c()},h=()=>{i(e.error||new DOMException("AbortError","AbortError")),c()};e.addEventListener("complete",u),e.addEventListener("error",h),e.addEventListener("abort",h)});L0.set(e,t)}let j0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return L0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Z3.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function gA(e){j0=e(j0)}function xA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(A1(this),t,...n);return Z3.set(i,t.sort?t.sort():[t]),oa(i)}:hA().includes(e)?function(...t){return e.apply(A1(this),t),oa(Y3.get(this))}:function(...t){return oa(e.apply(A1(this),t))}}function wA(e){return typeof e=="function"?xA(e):(e instanceof IDBTransaction&&mA(e),dA(e,fA())?new Proxy(e,j0):e)}function oa(e){if(e instanceof IDBRequest)return pA(e);if(S1.has(e))return S1.get(e);const t=wA(e);return t!==e&&(S1.set(e,t),zp.set(t,e)),t}const A1=e=>zp.get(e);function yA(e,t,{blocked:n,upgrade:i,blocking:c,terminated:u}={}){const h=indexedDB.open(e,t),w=oa(h);return i&&h.addEventListener("upgradeneeded",y=>{i(oa(h.result),y.oldVersion,y.newVersion,oa(h.transaction),y)}),n&&h.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),w.then(y=>{u&&y.addEventListener("close",()=>u()),c&&y.addEventListener("versionchange",g=>c(g.oldVersion,g.newVersion,g))}).catch(()=>{}),w}const vA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],T1=new Map;function iw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(T1.get(t))return T1.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,c=CA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(c||vA.includes(n)))return;const u=async function(h,...w){const y=this.transaction(h,c?"readwrite":"readonly");let g=y.store;return i&&(g=g.index(w.shift())),(await Promise.all([g[n](...w),c&&y.done]))[0]};return T1.set(t,u),u}gA(e=>({...e,get:(t,n,i)=>iw(t,n)||e.get(t,n,i),has:(t,n)=>!!iw(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const B0="@firebase/app",sw="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new $3("@firebase/app"),SA="@firebase/app-compat",AA="@firebase/analytics-compat",TA="@firebase/analytics",IA="@firebase/app-check-compat",NA="@firebase/app-check",RA="@firebase/auth",_A="@firebase/auth-compat",PA="@firebase/database",DA="@firebase/data-connect",MA="@firebase/database-compat",OA="@firebase/functions",kA="@firebase/functions-compat",LA="@firebase/installations",jA="@firebase/installations-compat",BA="@firebase/messaging",FA="@firebase/messaging-compat",VA="@firebase/performance",UA="@firebase/performance-compat",HA="@firebase/remote-config",WA="@firebase/remote-config-compat",zA="@firebase/storage",GA="@firebase/storage-compat",XA="@firebase/firestore",$A="@firebase/ai",YA="@firebase/firestore-compat",ZA="firebase",KA="12.8.0",qA={[B0]:"fire-core",[SA]:"fire-core-compat",[TA]:"fire-analytics",[AA]:"fire-analytics-compat",[NA]:"fire-app-check",[IA]:"fire-app-check-compat",[RA]:"fire-auth",[_A]:"fire-auth-compat",[PA]:"fire-rtdb",[DA]:"fire-data-connect",[MA]:"fire-rtdb-compat",[OA]:"fire-fn",[kA]:"fire-fn-compat",[LA]:"fire-iid",[jA]:"fire-iid-compat",[BA]:"fire-fcm",[FA]:"fire-fcm-compat",[VA]:"fire-perf",[UA]:"fire-perf-compat",[HA]:"fire-rc",[WA]:"fire-rc-compat",[zA]:"fire-gcs",[GA]:"fire-gcs-compat",[XA]:"fire-fst",[YA]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new Map,JA=new Map,ow=new Map;function aw(e,t){try{e.container.addComponent(t)}catch(n){No.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function af(e){const t=e.name;if(ow.has(t))return No.debug(`There were multiple attempts to register component ${t}.`),!1;ow.set(t,e);for(const n of QA.values())aw(n,e);for(const n of JA.values())aw(n,e);return!0}function e7(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gp=new X3("app","Firebase",t7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=KA;function zl(e,t,n){let i=qA[e]??e;n&&(i+=`-${n}`);const c=i.match(/\s|\//),u=t.match(/\s|\//);if(c||u){const h=[`Unable to register library "${i}" with version "${t}":`];c&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),c&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),No.warn(h.join(" "));return}af(new of(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7="firebase-heartbeat-database",i7=1,uu="firebase-heartbeat-store";let I1=null;function K3(){return I1||(I1=yA(r7,i7,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Gp.create("idb-open",{originalErrorMessage:e.message})})),I1}async function s7(e){try{const n=(await K3()).transaction(uu),i=await n.objectStore(uu).get(q3(e));return await n.done,i}catch(t){if(t instanceof nc)No.warn(t.message);else{const n=Gp.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});No.warn(n.message)}}}async function lw(e,t){try{const i=(await K3()).transaction(uu,"readwrite");await i.objectStore(uu).put(t,q3(e)),await i.done}catch(n){if(n instanceof nc)No.warn(n.message);else{const i=Gp.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});No.warn(i.message)}}}function q3(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=1024,a7=30;class l7{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u7(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=cw();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:c}),this._heartbeatsCache.heartbeats.length>a7){const h=d7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){No.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cw(),{heartbeatsToSend:i,unsentEntries:c}=c7(this._heartbeatsCache.heartbeats),u=G3(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return No.warn(n),""}}}function cw(){return new Date().toISOString().substring(0,10)}function c7(e,t=o7){const n=[];let i=e.slice();for(const c of e){const u=n.find(h=>h.agent===c.agent);if(u){if(u.dates.push(c.date),uw(n)>t){u.dates.pop();break}}else if(n.push({agent:c.agent,dates:[c.date]}),uw(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class u7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?nA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return lw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return lw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function uw(e){return G3(JSON.stringify({version:2,heartbeats:e})).length}function d7(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(e){af(new of("platform-logger",t=>new EA(t),"PRIVATE")),af(new of("heartbeat",t=>new l7(t),"PRIVATE")),zl(B0,sw,e),zl(B0,sw,"esm2020"),zl("fire-js","")}f7("");var h7="firebase",p7="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zl(h7,p7,"app");var dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xp;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,L){function B(){}B.prototype=L.prototype,P.F=L.prototype,P.prototype=new B,P.prototype.constructor=P,P.D=function(K,q,ee){for(var X=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)X[Pe-2]=arguments[Pe];return L.prototype[q].apply(K,X)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(P,L,B){B||(B=0);const K=Array(16);if(typeof L=="string")for(var q=0;q<16;++q)K[q]=L.charCodeAt(B++)|L.charCodeAt(B++)<<8|L.charCodeAt(B++)<<16|L.charCodeAt(B++)<<24;else for(q=0;q<16;++q)K[q]=L[B++]|L[B++]<<8|L[B++]<<16|L[B++]<<24;L=P.g[0],B=P.g[1],q=P.g[2];let ee=P.g[3],X;X=L+(ee^B&(q^ee))+K[0]+3614090360&4294967295,L=B+(X<<7&4294967295|X>>>25),X=ee+(q^L&(B^q))+K[1]+3905402710&4294967295,ee=L+(X<<12&4294967295|X>>>20),X=q+(B^ee&(L^B))+K[2]+606105819&4294967295,q=ee+(X<<17&4294967295|X>>>15),X=B+(L^q&(ee^L))+K[3]+3250441966&4294967295,B=q+(X<<22&4294967295|X>>>10),X=L+(ee^B&(q^ee))+K[4]+4118548399&4294967295,L=B+(X<<7&4294967295|X>>>25),X=ee+(q^L&(B^q))+K[5]+1200080426&4294967295,ee=L+(X<<12&4294967295|X>>>20),X=q+(B^ee&(L^B))+K[6]+2821735955&4294967295,q=ee+(X<<17&4294967295|X>>>15),X=B+(L^q&(ee^L))+K[7]+4249261313&4294967295,B=q+(X<<22&4294967295|X>>>10),X=L+(ee^B&(q^ee))+K[8]+1770035416&4294967295,L=B+(X<<7&4294967295|X>>>25),X=ee+(q^L&(B^q))+K[9]+2336552879&4294967295,ee=L+(X<<12&4294967295|X>>>20),X=q+(B^ee&(L^B))+K[10]+4294925233&4294967295,q=ee+(X<<17&4294967295|X>>>15),X=B+(L^q&(ee^L))+K[11]+2304563134&4294967295,B=q+(X<<22&4294967295|X>>>10),X=L+(ee^B&(q^ee))+K[12]+1804603682&4294967295,L=B+(X<<7&4294967295|X>>>25),X=ee+(q^L&(B^q))+K[13]+4254626195&4294967295,ee=L+(X<<12&4294967295|X>>>20),X=q+(B^ee&(L^B))+K[14]+2792965006&4294967295,q=ee+(X<<17&4294967295|X>>>15),X=B+(L^q&(ee^L))+K[15]+1236535329&4294967295,B=q+(X<<22&4294967295|X>>>10),X=L+(q^ee&(B^q))+K[1]+4129170786&4294967295,L=B+(X<<5&4294967295|X>>>27),X=ee+(B^q&(L^B))+K[6]+3225465664&4294967295,ee=L+(X<<9&4294967295|X>>>23),X=q+(L^B&(ee^L))+K[11]+643717713&4294967295,q=ee+(X<<14&4294967295|X>>>18),X=B+(ee^L&(q^ee))+K[0]+3921069994&4294967295,B=q+(X<<20&4294967295|X>>>12),X=L+(q^ee&(B^q))+K[5]+3593408605&4294967295,L=B+(X<<5&4294967295|X>>>27),X=ee+(B^q&(L^B))+K[10]+38016083&4294967295,ee=L+(X<<9&4294967295|X>>>23),X=q+(L^B&(ee^L))+K[15]+3634488961&4294967295,q=ee+(X<<14&4294967295|X>>>18),X=B+(ee^L&(q^ee))+K[4]+3889429448&4294967295,B=q+(X<<20&4294967295|X>>>12),X=L+(q^ee&(B^q))+K[9]+568446438&4294967295,L=B+(X<<5&4294967295|X>>>27),X=ee+(B^q&(L^B))+K[14]+3275163606&4294967295,ee=L+(X<<9&4294967295|X>>>23),X=q+(L^B&(ee^L))+K[3]+4107603335&4294967295,q=ee+(X<<14&4294967295|X>>>18),X=B+(ee^L&(q^ee))+K[8]+1163531501&4294967295,B=q+(X<<20&4294967295|X>>>12),X=L+(q^ee&(B^q))+K[13]+2850285829&4294967295,L=B+(X<<5&4294967295|X>>>27),X=ee+(B^q&(L^B))+K[2]+4243563512&4294967295,ee=L+(X<<9&4294967295|X>>>23),X=q+(L^B&(ee^L))+K[7]+1735328473&4294967295,q=ee+(X<<14&4294967295|X>>>18),X=B+(ee^L&(q^ee))+K[12]+2368359562&4294967295,B=q+(X<<20&4294967295|X>>>12),X=L+(B^q^ee)+K[5]+4294588738&4294967295,L=B+(X<<4&4294967295|X>>>28),X=ee+(L^B^q)+K[8]+2272392833&4294967295,ee=L+(X<<11&4294967295|X>>>21),X=q+(ee^L^B)+K[11]+1839030562&4294967295,q=ee+(X<<16&4294967295|X>>>16),X=B+(q^ee^L)+K[14]+4259657740&4294967295,B=q+(X<<23&4294967295|X>>>9),X=L+(B^q^ee)+K[1]+2763975236&4294967295,L=B+(X<<4&4294967295|X>>>28),X=ee+(L^B^q)+K[4]+1272893353&4294967295,ee=L+(X<<11&4294967295|X>>>21),X=q+(ee^L^B)+K[7]+4139469664&4294967295,q=ee+(X<<16&4294967295|X>>>16),X=B+(q^ee^L)+K[10]+3200236656&4294967295,B=q+(X<<23&4294967295|X>>>9),X=L+(B^q^ee)+K[13]+681279174&4294967295,L=B+(X<<4&4294967295|X>>>28),X=ee+(L^B^q)+K[0]+3936430074&4294967295,ee=L+(X<<11&4294967295|X>>>21),X=q+(ee^L^B)+K[3]+3572445317&4294967295,q=ee+(X<<16&4294967295|X>>>16),X=B+(q^ee^L)+K[6]+76029189&4294967295,B=q+(X<<23&4294967295|X>>>9),X=L+(B^q^ee)+K[9]+3654602809&4294967295,L=B+(X<<4&4294967295|X>>>28),X=ee+(L^B^q)+K[12]+3873151461&4294967295,ee=L+(X<<11&4294967295|X>>>21),X=q+(ee^L^B)+K[15]+530742520&4294967295,q=ee+(X<<16&4294967295|X>>>16),X=B+(q^ee^L)+K[2]+3299628645&4294967295,B=q+(X<<23&4294967295|X>>>9),X=L+(q^(B|~ee))+K[0]+4096336452&4294967295,L=B+(X<<6&4294967295|X>>>26),X=ee+(B^(L|~q))+K[7]+1126891415&4294967295,ee=L+(X<<10&4294967295|X>>>22),X=q+(L^(ee|~B))+K[14]+2878612391&4294967295,q=ee+(X<<15&4294967295|X>>>17),X=B+(ee^(q|~L))+K[5]+4237533241&4294967295,B=q+(X<<21&4294967295|X>>>11),X=L+(q^(B|~ee))+K[12]+1700485571&4294967295,L=B+(X<<6&4294967295|X>>>26),X=ee+(B^(L|~q))+K[3]+2399980690&4294967295,ee=L+(X<<10&4294967295|X>>>22),X=q+(L^(ee|~B))+K[10]+4293915773&4294967295,q=ee+(X<<15&4294967295|X>>>17),X=B+(ee^(q|~L))+K[1]+2240044497&4294967295,B=q+(X<<21&4294967295|X>>>11),X=L+(q^(B|~ee))+K[8]+1873313359&4294967295,L=B+(X<<6&4294967295|X>>>26),X=ee+(B^(L|~q))+K[15]+4264355552&4294967295,ee=L+(X<<10&4294967295|X>>>22),X=q+(L^(ee|~B))+K[6]+2734768916&4294967295,q=ee+(X<<15&4294967295|X>>>17),X=B+(ee^(q|~L))+K[13]+1309151649&4294967295,B=q+(X<<21&4294967295|X>>>11),X=L+(q^(B|~ee))+K[4]+4149444226&4294967295,L=B+(X<<6&4294967295|X>>>26),X=ee+(B^(L|~q))+K[11]+3174756917&4294967295,ee=L+(X<<10&4294967295|X>>>22),X=q+(L^(ee|~B))+K[2]+718787259&4294967295,q=ee+(X<<15&4294967295|X>>>17),X=B+(ee^(q|~L))+K[9]+3951481745&4294967295,P.g[0]=P.g[0]+L&4294967295,P.g[1]=P.g[1]+(q+(X<<21&4294967295|X>>>11))&4294967295,P.g[2]=P.g[2]+q&4294967295,P.g[3]=P.g[3]+ee&4294967295}i.prototype.v=function(P,L){L===void 0&&(L=P.length);const B=L-this.blockSize,K=this.C;let q=this.h,ee=0;for(;ee<L;){if(q==0)for(;ee<=B;)c(this,P,ee),ee+=this.blockSize;if(typeof P=="string"){for(;ee<L;)if(K[q++]=P.charCodeAt(ee++),q==this.blockSize){c(this,K),q=0;break}}else for(;ee<L;)if(K[q++]=P[ee++],q==this.blockSize){c(this,K),q=0;break}}this.h=q,this.o+=L},i.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var L=1;L<P.length-8;++L)P[L]=0;L=this.o*8;for(var B=P.length-8;B<P.length;++B)P[B]=L&255,L/=256;for(this.v(P),P=Array(16),L=0,B=0;B<4;++B)for(let K=0;K<32;K+=8)P[L++]=this.g[B]>>>K&255;return P};function u(P,L){var B=w;return Object.prototype.hasOwnProperty.call(B,P)?B[P]:B[P]=L(P)}function h(P,L){this.h=L;const B=[];let K=!0;for(let q=P.length-1;q>=0;q--){const ee=P[q]|0;K&&ee==L||(B[q]=ee,K=!1)}this.g=B}var w={};function y(P){return-128<=P&&P<128?u(P,function(L){return new h([L|0],L<0?-1:0)}):new h([P|0],P<0?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return E;if(P<0)return F(g(-P));const L=[];let B=1;for(let K=0;P>=B;K++)L[K]=P/B|0,B*=4294967296;return new h(L,0)}function b(P,L){if(P.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(P.charAt(0)=="-")return F(b(P.substring(1),L));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=g(Math.pow(L,8));let K=E;for(let ee=0;ee<P.length;ee+=8){var q=Math.min(8,P.length-ee);const X=parseInt(P.substring(ee,ee+q),L);q<8?(q=g(Math.pow(L,q)),K=K.j(q).add(g(X))):(K=K.j(B),K=K.add(g(X)))}return K}var E=y(0),T=y(1),R=y(16777216);e=h.prototype,e.m=function(){if(k(this))return-F(this).m();let P=0,L=1;for(let B=0;B<this.g.length;B++){const K=this.i(B);P+=(K>=0?K:4294967296+K)*L,L*=4294967296}return P},e.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(O(this))return"0";if(k(this))return"-"+F(this).toString(P);const L=g(Math.pow(P,6));var B=this;let K="";for(;;){const q=Z(B,L).g;B=G(B,q.j(L));let ee=((B.g.length>0?B.g[0]:B.h)>>>0).toString(P);if(B=q,O(B))return ee+K;for(;ee.length<6;)ee="0"+ee;K=ee+K}},e.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function O(P){if(P.h!=0)return!1;for(let L=0;L<P.g.length;L++)if(P.g[L]!=0)return!1;return!0}function k(P){return P.h==-1}e.l=function(P){return P=G(this,P),k(P)?-1:O(P)?0:1};function F(P){const L=P.g.length,B=[];for(let K=0;K<L;K++)B[K]=~P.g[K];return new h(B,~P.h).add(T)}e.abs=function(){return k(this)?F(this):this},e.add=function(P){const L=Math.max(this.g.length,P.g.length),B=[];let K=0;for(let q=0;q<=L;q++){let ee=K+(this.i(q)&65535)+(P.i(q)&65535),X=(ee>>>16)+(this.i(q)>>>16)+(P.i(q)>>>16);K=X>>>16,ee&=65535,X&=65535,B[q]=X<<16|ee}return new h(B,B[B.length-1]&-2147483648?-1:0)};function G(P,L){return P.add(F(L))}e.j=function(P){if(O(this)||O(P))return E;if(k(this))return k(P)?F(this).j(F(P)):F(F(this).j(P));if(k(P))return F(this.j(F(P)));if(this.l(R)<0&&P.l(R)<0)return g(this.m()*P.m());const L=this.g.length+P.g.length,B=[];for(var K=0;K<2*L;K++)B[K]=0;for(K=0;K<this.g.length;K++)for(let q=0;q<P.g.length;q++){const ee=this.i(K)>>>16,X=this.i(K)&65535,Pe=P.i(q)>>>16,ne=P.i(q)&65535;B[2*K+2*q]+=X*ne,z(B,2*K+2*q),B[2*K+2*q+1]+=ee*ne,z(B,2*K+2*q+1),B[2*K+2*q+1]+=X*Pe,z(B,2*K+2*q+1),B[2*K+2*q+2]+=ee*Pe,z(B,2*K+2*q+2)}for(P=0;P<L;P++)B[P]=B[2*P+1]<<16|B[2*P];for(P=L;P<2*L;P++)B[P]=0;return new h(B,0)};function z(P,L){for(;(P[L]&65535)!=P[L];)P[L+1]+=P[L]>>>16,P[L]&=65535,L++}function U(P,L){this.g=P,this.h=L}function Z(P,L){if(O(L))throw Error("division by zero");if(O(P))return new U(E,E);if(k(P))return L=Z(F(P),L),new U(F(L.g),F(L.h));if(k(L))return L=Z(P,F(L)),new U(F(L.g),L.h);if(P.g.length>30){if(k(P)||k(L))throw Error("slowDivide_ only works with positive integers.");for(var B=T,K=L;K.l(P)<=0;)B=re(B),K=re(K);var q=le(B,1),ee=le(K,1);for(K=le(K,2),B=le(B,2);!O(K);){var X=ee.add(K);X.l(P)<=0&&(q=q.add(B),ee=X),K=le(K,1),B=le(B,1)}return L=G(P,q.j(L)),new U(q,L)}for(q=E;P.l(L)>=0;){for(B=Math.max(1,Math.floor(P.m()/L.m())),K=Math.ceil(Math.log(B)/Math.LN2),K=K<=48?1:Math.pow(2,K-48),ee=g(B),X=ee.j(L);k(X)||X.l(P)>0;)B-=K,ee=g(B),X=ee.j(L);O(ee)&&(ee=T),q=q.add(ee),P=G(P,X)}return new U(q,P)}e.B=function(P){return Z(this,P).h},e.and=function(P){const L=Math.max(this.g.length,P.g.length),B=[];for(let K=0;K<L;K++)B[K]=this.i(K)&P.i(K);return new h(B,this.h&P.h)},e.or=function(P){const L=Math.max(this.g.length,P.g.length),B=[];for(let K=0;K<L;K++)B[K]=this.i(K)|P.i(K);return new h(B,this.h|P.h)},e.xor=function(P){const L=Math.max(this.g.length,P.g.length),B=[];for(let K=0;K<L;K++)B[K]=this.i(K)^P.i(K);return new h(B,this.h^P.h)};function re(P){const L=P.g.length+1,B=[];for(let K=0;K<L;K++)B[K]=P.i(K)<<1|P.i(K-1)>>>31;return new h(B,P.h)}function le(P,L){const B=L>>5;L%=32;const K=P.g.length-B,q=[];for(let ee=0;ee<K;ee++)q[ee]=L>0?P.i(ee+B)>>>L|P.i(ee+B+1)<<32-L:P.i(ee+B);return new h(q,P.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,Xp=h}).apply(typeof dw<"u"?dw:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(C){C=[typeof globalThis=="object"&&globalThis,C,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var _=0;_<C.length;++_){var V=C[_];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=n(this);function c(C,_){if(_)e:{var V=i;C=C.split(".");for(var Q=0;Q<C.length-1;Q++){var be=C[Q];if(!(be in V))break e;V=V[be]}C=C[C.length-1],Q=V[C],_=_(Q),_!=Q&&_!=null&&t(V,C,{configurable:!0,writable:!0,value:_})}}c("Symbol.dispose",function(C){return C||Symbol("Symbol.dispose")}),c("Array.prototype.values",function(C){return C||function(){return this[Symbol.iterator]()}}),c("Object.entries",function(C){return C||function(_){var V=[],Q;for(Q in _)Object.prototype.hasOwnProperty.call(_,Q)&&V.push([Q,_[Q]]);return V}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function w(C){var _=typeof C;return _=="object"&&C!=null||_=="function"}function y(C,_,V){return C.call.apply(C.bind,arguments)}function g(C,_,V){return g=y,g.apply(null,arguments)}function b(C,_){var V=Array.prototype.slice.call(arguments,1);return function(){var Q=V.slice();return Q.push.apply(Q,arguments),C.apply(this,Q)}}function E(C,_){function V(){}V.prototype=_.prototype,C.Z=_.prototype,C.prototype=new V,C.prototype.constructor=C,C.Ob=function(Q,be,De){for(var et=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)et[Pt-2]=arguments[Pt];return _.prototype[be].apply(Q,et)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?C=>C&&AsyncContext.Snapshot.wrap(C):C=>C;function R(C){const _=C.length;if(_>0){const V=Array(_);for(let Q=0;Q<_;Q++)V[Q]=C[Q];return V}return[]}function O(C,_){for(let Q=1;Q<arguments.length;Q++){const be=arguments[Q];var V=typeof be;if(V=V!="object"?V:be?Array.isArray(be)?"array":V:"null",V=="array"||V=="object"&&typeof be.length=="number"){V=C.length||0;const De=be.length||0;C.length=V+De;for(let et=0;et<De;et++)C[V+et]=be[et]}else C.push(be)}}class k{constructor(_,V){this.i=_,this.j=V,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(C){h.setTimeout(()=>{throw C},0)}function G(){var C=P;let _=null;return C.g&&(_=C.g,C.g=C.g.next,C.g||(C.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,V){const Q=U.get();Q.set(_,V),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var U=new k(()=>new Z,C=>C.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,V){this.h=_,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let re,le=!1,P=new z,L=()=>{const C=Promise.resolve(void 0);re=()=>{C.then(B)}};function B(){for(var C;C=G();){try{C.h.call(C.g)}catch(V){F(V)}var _=U;_.j(C),_.h<100&&(_.h++,C.next=_.g,_.g=C)}le=!1}function K(){this.u=this.u,this.C=this.C}K.prototype.u=!1,K.prototype.dispose=function(){this.u||(this.u=!0,this.N())},K.prototype[Symbol.dispose]=function(){this.dispose()},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(C,_){this.type=C,this.g=this.target=_,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var C=!1,_=Object.defineProperty({},"passive",{get:function(){C=!0}});try{const V=()=>{};h.addEventListener("test",V,_),h.removeEventListener("test",V,_)}catch{}return C})();function X(C){return/^[\s\xa0]*$/.test(C)}function Pe(C,_){q.call(this,C?C.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,C&&this.init(C,_)}E(Pe,q),Pe.prototype.init=function(C,_){const V=this.type=C.type,Q=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;this.target=C.target||C.srcElement,this.g=_,_=C.relatedTarget,_||(V=="mouseover"?_=C.fromElement:V=="mouseout"&&(_=C.toElement)),this.relatedTarget=_,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType=C.pointerType,this.state=C.state,this.i=C,C.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const C=this.i;C.preventDefault?C.preventDefault():C.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),we=0;function xe(C,_,V,Q,be){this.listener=C,this.proxy=null,this.src=_,this.type=V,this.capture=!!Q,this.ha=be,this.key=++we,this.da=this.fa=!1}function oe(C){C.da=!0,C.listener=null,C.proxy=null,C.src=null,C.ha=null}function ce(C,_,V){for(const Q in C)_.call(V,C[Q],Q,C)}function ue(C,_){for(const V in C)_.call(void 0,C[V],V,C)}function J(C){const _={};for(const V in C)_[V]=C[V];return _}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(C,_){let V,Q;for(let be=1;be<arguments.length;be++){Q=arguments[be];for(V in Q)C[V]=Q[V];for(let De=0;De<de.length;De++)V=de[De],Object.prototype.hasOwnProperty.call(Q,V)&&(C[V]=Q[V])}}function Re(C){this.src=C,this.g={},this.h=0}Re.prototype.add=function(C,_,V,Q,be){const De=C.toString();C=this.g[De],C||(C=this.g[De]=[],this.h++);const et=Ie(C,_,Q,be);return et>-1?(_=C[et],V||(_.fa=!1)):(_=new xe(_,this.src,De,!!Q,be),_.fa=V,C.push(_)),_};function Ge(C,_){const V=_.type;if(V in C.g){var Q=C.g[V],be=Array.prototype.indexOf.call(Q,_,void 0),De;(De=be>=0)&&Array.prototype.splice.call(Q,be,1),De&&(oe(_),C.g[V].length==0&&(delete C.g[V],C.h--))}}function Ie(C,_,V,Q){for(let be=0;be<C.length;++be){const De=C[be];if(!De.da&&De.listener==_&&De.capture==!!V&&De.ha==Q)return be}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ue(C,_,V,Q,be){if(Array.isArray(_)){for(let De=0;De<_.length;De++)Ue(C,_[De],V,Q,be);return null}return V=Zt(V),C&&C[ne]?C.J(_,V,w(Q)?!!Q.capture:!1,be):Se(C,_,V,!1,Q,be)}function Se(C,_,V,Q,be,De){if(!_)throw Error("Invalid event type");const et=w(be)?!!be.capture:!!be;let Pt=nn(C);if(Pt||(C[Le]=Pt=new Re(C)),V=Pt.add(_,V,Q,et,De),V.proxy)return V;if(Q=Ve(),V.proxy=Q,Q.src=C,Q.listener=V,C.addEventListener)ee||(be=et),be===void 0&&(be=!1),C.addEventListener(_.toString(),Q,be);else if(C.attachEvent)C.attachEvent(Je(_.toString()),Q);else if(C.addListener&&C.removeListener)C.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Ve(){function C(V){return _.call(C.src,C.listener,V)}const _=tn;return C}function Ye(C,_,V,Q,be){if(Array.isArray(_))for(var De=0;De<_.length;De++)Ye(C,_[De],V,Q,be);else Q=w(Q)?!!Q.capture:!!Q,V=Zt(V),C&&C[ne]?(C=C.i,De=String(_).toString(),De in C.g&&(_=C.g[De],V=Ie(_,V,Q,be),V>-1&&(oe(_[V]),Array.prototype.splice.call(_,V,1),_.length==0&&(delete C.g[De],C.h--)))):C&&(C=nn(C))&&(_=C.g[_.toString()],C=-1,_&&(C=Ie(_,V,Q,be)),(V=C>-1?_[C]:null)&&tt(V))}function tt(C){if(typeof C!="number"&&C&&!C.da){var _=C.src;if(_&&_[ne])Ge(_.i,C);else{var V=C.type,Q=C.proxy;_.removeEventListener?_.removeEventListener(V,Q,C.capture):_.detachEvent?_.detachEvent(Je(V),Q):_.addListener&&_.removeListener&&_.removeListener(Q),(V=nn(_))?(Ge(V,C),V.h==0&&(V.src=null,_[Le]=null)):oe(C)}}}function Je(C){return C in Fe?Fe[C]:Fe[C]="on"+C}function tn(C,_){if(C.da)C=!0;else{_=new Pe(_,this);const V=C.listener,Q=C.ha||C.src;C.fa&&tt(C),C=V.call(Q,_)}return C}function nn(C){return C=C[Le],C instanceof Re?C:null}var Gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zt(C){return typeof C=="function"?C:(C[Gt]||(C[Gt]=function(_){return C.handleEvent(_)}),C[Gt])}function it(){K.call(this),this.i=new Re(this),this.M=this,this.G=null}E(it,K),it.prototype[ne]=!0,it.prototype.removeEventListener=function(C,_,V,Q){Ye(this,C,_,V,Q)};function on(C,_){var V,Q=C.G;if(Q)for(V=[];Q;Q=Q.G)V.push(Q);if(C=C.M,Q=_.type||_,typeof _=="string")_=new q(_,C);else if(_ instanceof q)_.target=_.target||C;else{var be=_;_=new q(Q,C),ve(_,be)}be=!0;let De,et;if(V)for(et=V.length-1;et>=0;et--)De=_.g=V[et],be=rt(De,Q,!0,_)&&be;if(De=_.g=C,be=rt(De,Q,!0,_)&&be,be=rt(De,Q,!1,_)&&be,V)for(et=0;et<V.length;et++)De=_.g=V[et],be=rt(De,Q,!1,_)&&be}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var C=this.i;for(const _ in C.g){const V=C.g[_];for(let Q=0;Q<V.length;Q++)oe(V[Q]);delete C.g[_],C.h--}}this.G=null},it.prototype.J=function(C,_,V,Q){return this.i.add(String(C),_,!1,V,Q)},it.prototype.K=function(C,_,V,Q){return this.i.add(String(C),_,!0,V,Q)};function rt(C,_,V,Q){if(_=C.i.g[String(_)],!_)return!0;_=_.concat();let be=!0;for(let De=0;De<_.length;++De){const et=_[De];if(et&&!et.da&&et.capture==V){const Pt=et.listener,Fn=et.ha||et.src;et.fa&&Ge(C.i,et),be=Pt.call(Fn,Q)!==!1&&be}}return be&&!Q.defaultPrevented}function Ln(C,_){if(typeof C!="function")if(C&&typeof C.handleEvent=="function")C=g(C.handleEvent,C);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(C,_||0)}function ir(C){C.g=Ln(()=>{C.g=null,C.i&&(C.i=!1,ir(C))},C.l);const _=C.h;C.h=null,C.m.apply(null,_)}class Un extends K{constructor(_,V){super(),this.m=_,this.l=V,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(C){K.call(this),this.h=C,this.g={}}E(sr,K);var jn=[];function $r(C){ce(C.g,function(_,V){this.g.hasOwnProperty(V)&&tt(_)},C),C.g={}}sr.prototype.N=function(){sr.Z.N.call(this),$r(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=h.JSON.stringify,un=h.JSON.parse,or=class{stringify(C){return h.JSON.stringify(C,void 0)}parse(C){return h.JSON.parse(C,void 0)}};function Ir(){}function hr(){}var dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){q.call(this,"d")}E(Xe,q);function En(){q.call(this,"c")}E(En,q);var Wt={},fn=null;function Cr(){return fn=fn||new it}Wt.Ia="serverreachability";function ct(C){q.call(this,Wt.Ia,C)}E(ct,q);function Bt(C){const _=Cr();on(_,new ct(_))}Wt.STAT_EVENT="statevent";function lt(C,_){q.call(this,Wt.STAT_EVENT,C),this.stat=_}E(lt,q);function ut(C){const _=Cr();on(_,new lt(_,C))}Wt.Ja="timingevent";function gn(C,_){q.call(this,Wt.Ja,C),this.size=_}E(gn,q);function dt(C,_){if(typeof C!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){C()},_)}function Tt(){this.g=!0}Tt.prototype.ua=function(){this.g=!1};function an(C,_,V,Q,be,De){C.info(function(){if(C.g)if(De){var et="",Pt=De.split("&");for(let In=0;In<Pt.length;In++){var Fn=Pt[In].split("=");if(Fn.length>1){const nr=Fn[0];Fn=Fn[1];const wi=nr.split("_");et=wi.length>=2&&wi[1]=="type"?et+(nr+"="+Fn+"&"):et+(nr+"=redacted&")}}}else et=null;else et=De;return"XMLHTTP REQ ("+Q+") [attempt "+be+"]: "+_+`
`+V+`
`+et})}function Dt(C,_,V,Q,be,De,et){C.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+be+"]: "+_+`
`+V+`
`+De+" "+et})}function xn(C,_,V,Q){C.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xt(C,V)+(Q?" "+Q:"")})}function qt(C,_){C.info(function(){return"TIMEOUT: "+_})}Tt.prototype.info=function(){};function Xt(C,_){if(!C.g)return _;if(!_)return null;try{const De=JSON.parse(_);if(De){for(C=0;C<De.length;C++)if(Array.isArray(De[C])){var V=De[C];if(!(V.length<2)){var Q=V[1];if(Array.isArray(Q)&&!(Q.length<1)){var be=Q[0];if(be!="noop"&&be!="stop"&&be!="close")for(let et=1;et<Q.length;et++)Q[et]=""}}}}return mn(De)}catch{return _}}var Er={NO_ERROR:0,TIMEOUT:8},se={},me;function Ce(){}E(Ce,Ir),Ce.prototype.g=function(){return new XMLHttpRequest},me=new Ce;function je(C){return encodeURIComponent(String(C))}function He(C){var _=1;C=C.split(":");const V=[];for(;_>0&&C.length;)V.push(C.shift()),_--;return C.length&&V.push(C.join(":")),V}function ke(C,_,V,Q){this.j=C,this.i=_,this.l=V,this.S=Q||1,this.V=new sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var st={},nt={};function ot(C,_,V){C.M=1,C.A=Ur(qn(_)),C.u=V,C.R=!0,_t(C,null)}function _t(C,_){C.F=Date.now(),Bn(C),C.B=qn(C.A);var V=C.B,Q=C.S;Array.isArray(Q)||(Q=[String(Q)]),Mn(V.i,"t",Q),C.C=0,V=C.j.L,C.h=new gt,C.g=Lo(C.j,V?_:null,!C.u),C.P>0&&(C.O=new Un(g(C.Y,C,C.g),C.P)),_=C.V,V=C.g,Q=C.ba;var be="readystatechange";Array.isArray(be)||(be&&(jn[0]=be.toString()),be=jn);for(let De=0;De<be.length;De++){const et=Ue(V,be[De],Q||_.handleEvent,!1,_.h||_);if(!et)break;_.g[et.key]=et}_=C.J?J(C.J):{},C.u?(C.v||(C.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",C.g.ea(C.B,C.v,C.u,_)):(C.v="GET",C.g.ea(C.B,C.v,null,_)),Bt(),an(C.i,C.v,C.B,C.l,C.S,C.u)}ke.prototype.ba=function(C){C=C.target;const _=this.O;_&&ki(C)==3?_.j():this.Y(C)},ke.prototype.Y=function(C){try{if(C==this.g)e:{const Pt=ki(this.g),Fn=this.g.ya(),In=this.g.ca();if(!(Pt<3)&&(Pt!=3||this.g&&(this.h.h||this.g.la()||Ls(this.g)))){this.K||Pt!=4||Fn==7||(Fn==8||In<=0?Bt(3):Bt(2)),rn(this);var _=this.g.ca();this.X=_;var V=pt(this);if(this.o=_==200,Dt(this.i,this.v,this.B,this.l,this.S,Pt,_),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,be=this.g;if((Q=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Q)){var De=Q;break t}}De=null}if(C=De)xn(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yt(this,C);else{this.o=!1,this.m=3,ut(12),Xn(this),Et(this);break e}}if(this.R){C=!0;let nr;for(;!this.K&&this.C<V.length;)if(nr=Kt(this,V),nr==nt){Pt==4&&(this.m=4,ut(14),C=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==st){this.m=4,ut(15),xn(this.i,this.l,V,"[Invalid Chunk]"),C=!1;break}else xn(this.i,this.l,nr,null),Yt(this,nr);if(It(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||V.length!=0||this.h.h||(this.m=1,ut(16),C=!1),this.o=this.o&&C,!C)xn(this.i,this.l,V,"[Invalid Chunked Response]"),Xn(this),Et(this);else if(V.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),_e(et),et.P=!0,ut(11))}}else xn(this.i,this.l,V,null),Yt(this,V);Pt==4&&Xn(this),this.o&&!this.K&&(Pt==4?ws(this.j,this):(this.o=!1,Bn(this)))}else gs(this.g),_==400&&V.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),Xn(this),Et(this)}}}catch{}finally{}};function pt(C){if(!It(C))return C.g.la();const _=Ls(C.g);if(_==="")return"";let V="";const Q=_.length,be=ki(C.g)==4;if(!C.h.i){if(typeof TextDecoder>"u")return Xn(C),Et(C),"";C.h.i=new h.TextDecoder}for(let De=0;De<Q;De++)C.h.h=!0,V+=C.h.i.decode(_[De],{stream:!(be&&De==Q-1)});return _.length=0,C.h.g+=V,C.C=0,C.h.g}function It(C){return C.g?C.v=="GET"&&C.M!=2&&C.j.Aa:!1}function Kt(C,_){var V=C.C,Q=_.indexOf(`
`,V);return Q==-1?nt:(V=Number(_.substring(V,Q)),isNaN(V)?st:(Q+=1,Q+V>_.length?nt:(_=_.slice(Q,Q+V),C.C=Q+V,_)))}ke.prototype.cancel=function(){this.K=!0,Xn(this)};function Bn(C){C.T=Date.now()+C.H,wn(C,C.H)}function wn(C,_){if(C.D!=null)throw Error("WatchDog timer not null");C.D=dt(g(C.aa,C),_)}function rn(C){C.D&&(h.clearTimeout(C.D),C.D=null)}ke.prototype.aa=function(){this.D=null;const C=Date.now();C-this.T>=0?(qt(this.i,this.B),this.M!=2&&(Bt(),ut(17)),Xn(this),this.m=2,Et(this)):wn(this,this.T-C)};function Et(C){C.j.I==0||C.K||ws(C.j,C)}function Xn(C){rn(C);var _=C.O;_&&typeof _.dispose=="function"&&_.dispose(),C.O=null,$r(C.V),C.g&&(_=C.g,C.g=null,_.abort(),_.dispose())}function Yt(C,_){try{var V=C.j;if(V.I!=0&&(V.g==C||Vr(V.h,C))){if(!C.L&&Vr(V.h,C)&&V.I==3){try{var Q=V.Ba.g.parse(_)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var be=Q;if(be[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<C.F)er(V),ti(V);else break e;Ji(V),ut(18)}}else V.xa=be[1],0<V.xa-V.K&&be[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=dt(g(V.Va,V),6e3));yn(V.h)<=1&&V.ta&&(V.ta=void 0)}else xi(V,11)}else if((C.L||V.g==C)&&er(V),!X(_))for(be=V.Ba.g.parse(_),_=0;_<be.length;_++){let In=be[_];const nr=In[0];if(!(nr<=V.K))if(V.K=nr,In=In[1],V.I==2)if(In[0]=="c"){V.M=In[1],V.ba=In[2];const wi=In[3];wi!=null&&(V.ka=wi,V.j.info("VER="+V.ka));const ji=In[4];ji!=null&&(V.za=ji,V.j.info("SVER="+V.za));const es=In[5];es!=null&&typeof es=="number"&&es>0&&(Q=1.5*es,V.O=Q,V.j.info("backChannelRequestTimeoutMs_="+Q)),Q=V;const Yr=C.g;if(Yr){const Bs=Yr.g?Yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var De=Q.h;De.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(ei(De,De.h),De.h=null))}if(Q.G){const Sa=Yr.g?Yr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(Q.wa=Sa,Nt(Q.J,Q.G,Sa))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-C.F,V.j.info("Handshake RTT: "+V.T+"ms")),Q=V;var et=C;if(Q.na=ba(Q,Q.L?Q.ba:null,Q.W),et.L){$t(Q.h,et);var Pt=et,Fn=Q.O;Fn&&(Pt.H=Fn),Pt.D&&(rn(Pt),Bn(Pt)),Q.g=et}else Yn(Q);V.i.length>0&&xs(V)}else In[0]!="stop"&&In[0]!="close"||xi(V,7);else V.I==3&&(In[0]=="stop"||In[0]=="close"?In[0]=="stop"?xi(V,7):co(V):In[0]!="noop"&&V.l&&V.l.qa(In),V.A=0)}}Bt(4)}catch{}}var Mi=class{constructor(C,_){this.g=C,this.map=_}};function Be(C){this.l=C||10,h.PerformanceNavigationTiming?(C=h.performance.getEntriesByType("navigation"),C=C.length>0&&(C[0].nextHopProtocol=="hq"||C[0].nextHopProtocol=="h2")):C=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=C?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fr(C){return C.h?!0:C.g?C.g.size>=C.j:!1}function yn(C){return C.h?1:C.g?C.g.size:0}function Vr(C,_){return C.h?C.h==_:C.g?C.g.has(_):!1}function ei(C,_){C.g?C.g.add(_):C.h=_}function $t(C,_){C.h&&C.h==_?C.h=null:C.g&&C.g.has(_)&&C.g.delete(_)}Be.prototype.cancel=function(){if(this.i=Lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const C of this.g.values())C.cancel();this.g.clear()}};function Lt(C){if(C.h!=null)return C.i.concat(C.h.G);if(C.g!=null&&C.g.size!==0){let _=C.i;for(const V of C.g.values())_=_.concat(V.G);return _}return R(C.i)}var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vn(C,_){if(C){C=C.split("&");for(let V=0;V<C.length;V++){const Q=C[V].indexOf("=");let be,De=null;Q>=0?(be=C[V].substring(0,Q),De=C[V].substring(Q+1)):be=C[V],_(be,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function br(C){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;C instanceof br?(this.l=C.l,jt(this,C.j),this.o=C.o,this.g=C.g,Qn(this,C.u),this.h=C.h,Oi(this,Mo(C.i)),this.m=C.m):C&&(_=String(C).match(at))?(this.l=!1,jt(this,_[1]||"",!0),this.o=oo(_[2]||""),this.g=oo(_[3]||"",!0),Qn(this,_[4]),this.h=oo(_[5]||"",!0),Oi(this,_[6]||"",!0),this.m=oo(_[7]||"")):(this.l=!1,this.i=new Ft(null,this.l))}br.prototype.toString=function(){const C=[];var _=this.j;_&&C.push(bi(_,pr,!0),":");var V=this.g;return(V||_=="file")&&(C.push("//"),(_=this.o)&&C.push(bi(_,pr,!0),"@"),C.push(je(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&C.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&C.push("/"),C.push(bi(V,V.charAt(0)=="/"?te:Ae,!0))),(V=this.i.toString())&&C.push("?",V),(V=this.m)&&C.push("#",bi(V,Jn)),C.join("")},br.prototype.resolve=function(C){const _=qn(this);let V=!!C.j;V?jt(_,C.j):V=!!C.o,V?_.o=C.o:V=!!C.g,V?_.g=C.g:V=C.u!=null;var Q=C.h;if(V)Qn(_,C.u);else if(V=!!C.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var be=_.h.lastIndexOf("/");be!=-1&&(Q=_.h.slice(0,be+1)+Q)}if(be=Q,be==".."||be==".")Q="";else if(be.indexOf("./")!=-1||be.indexOf("/.")!=-1){Q=be.lastIndexOf("/",0)==0,be=be.split("/");const De=[];for(let et=0;et<be.length;){const Pt=be[et++];Pt=="."?Q&&et==be.length&&De.push(""):Pt==".."?((De.length>1||De.length==1&&De[0]!="")&&De.pop(),Q&&et==be.length&&De.push("")):(De.push(Pt),Q=!0)}Q=De.join("/")}else Q=be}return V?_.h=Q:V=C.i.toString()!=="",V?Oi(_,Mo(C.i)):V=!!C.m,V&&(_.m=C.m),_};function qn(C){return new br(C)}function jt(C,_,V){C.j=V?oo(_,!0):_,C.j&&(C.j=C.j.replace(/:$/,""))}function Qn(C,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);C.u=_}else C.u=null}function Oi(C,_,V){_ instanceof Ft?(C.i=_,Ms(C.i,C.l)):(V||(_=bi(_,bt)),C.i=new Ft(_,C.l))}function Nt(C,_,V){C.i.set(_,V)}function Ur(C){return Nt(C,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),C}function oo(C,_){return C?_?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function bi(C,_,V){return typeof C=="string"?(C=encodeURI(C).replace(_,Tn),V&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function Tn(C){return C=C.charCodeAt(0),"%"+(C>>4&15).toString(16)+(C&15).toString(16)}var pr=/[#\/\?@]/g,Ae=/[#\?:]/g,te=/[#\?]/g,bt=/[#\?@]/g,Jn=/#/g;function Ft(C,_){this.h=this.g=null,this.i=C||null,this.j=!!_}function qi(C){C.g||(C.g=new Map,C.h=0,C.i&&vn(C.i,function(_,V){C.add(decodeURIComponent(_.replace(/\+/g," ")),V)}))}e=Ft.prototype,e.add=function(C,_){qi(this),this.i=null,C=Qi(this,C);let V=this.g.get(C);return V||this.g.set(C,V=[]),V.push(_),this.h+=1,this};function ao(C,_){qi(C),_=Qi(C,_),C.g.has(_)&&(C.i=null,C.h-=C.g.get(_).length,C.g.delete(_))}function Dr(C,_){return qi(C),_=Qi(C,_),C.g.has(_)}e.forEach=function(C,_){qi(this),this.g.forEach(function(V,Q){V.forEach(function(be){C.call(_,be,Q,this)},this)},this)};function At(C,_){qi(C);let V=[];if(typeof _=="string")Dr(C,_)&&(V=V.concat(C.g.get(Qi(C,_))));else for(C=Array.from(C.g.values()),_=0;_<C.length;_++)V=V.concat(C[_]);return V}e.set=function(C,_){return qi(this),this.i=null,C=Qi(this,C),Dr(this,C)&&(this.h-=this.g.get(C).length),this.g.set(C,[_]),this.h+=1,this},e.get=function(C,_){return C?(C=At(this,C),C.length>0?String(C[0]):_):_};function Mn(C,_,V){ao(C,_),V.length>0&&(C.i=null,C.g.set(Qi(C,_),R(V)),C.h+=V.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const C=[],_=Array.from(this.g.keys());for(let Q=0;Q<_.length;Q++){var V=_[Q];const be=je(V);V=At(this,V);for(let De=0;De<V.length;De++){let et=be;V[De]!==""&&(et+="="+je(V[De])),C.push(et)}}return this.i=C.join("&")};function Mo(C){const _=new Ft;return _.i=C.i,C.g&&(_.g=new Map(C.g),_.h=C.h),_}function Qi(C,_){return _=String(_),C.j&&(_=_.toLowerCase()),_}function Ms(C,_){_&&!C.j&&(qi(C),C.i=null,C.g.forEach(function(V,Q){const be=Q.toLowerCase();Q!=be&&(ao(this,Q),Mn(this,be,V))},C)),C.j=_}function hi(C,_){const V=new Tt;if(h.Image){const Q=new Image;Q.onload=b(Mr,V,"TestLoadImage: loaded",!0,_,Q),Q.onerror=b(Mr,V,"TestLoadImage: error",!1,_,Q),Q.onabort=b(Mr,V,"TestLoadImage: abort",!1,_,Q),Q.ontimeout=b(Mr,V,"TestLoadImage: timeout",!1,_,Q),h.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=C}else _(!1)}function Si(C,_){const V=new Tt,Q=new AbortController,be=setTimeout(()=>{Q.abort(),Mr(V,"TestPingServer: timeout",!1,_)},1e4);fetch(C,{signal:Q.signal}).then(De=>{clearTimeout(be),De.ok?Mr(V,"TestPingServer: ok",!0,_):Mr(V,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(be),Mr(V,"TestPingServer: error",!1,_)})}function Mr(C,_,V,Q,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Q(V)}catch{}}function Hn(){this.g=new or}function pi(C){this.i=C.Sb||null,this.h=C.ab||!1}E(pi,Ir),pi.prototype.g=function(){return new mr(this.i,this.h)};function mr(C,_){it.call(this),this.H=C,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(mr,it),e=mr.prototype,e.open=function(C,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=C,this.D=_,this.readyState=1,Mt(this)},e.send=function(C){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};C&&(_.body=C),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},e.Pa=function(C){if(this.g&&(this.l=C,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=C.headers,this.readyState=2,Mt(this)),this.g&&(this.readyState=3,Mt(this),this.g)))if(this.responseType==="arraybuffer")C.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in C){if(this.j=C.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rt(this)}else C.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rt(C){C.j.read().then(C.Ma.bind(C)).catch(C.ga.bind(C))}e.Ma=function(C){if(this.g){if(this.o&&C.value)this.response.push(C.value);else if(!this.o){var _=C.value?C.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!C.done}))&&(this.response=this.responseText+=_)}C.done?Os(this):Mt(this),this.readyState==3&&Rt(this)}},e.Oa=function(C){this.g&&(this.response=this.responseText=C,Os(this))},e.Na=function(C){this.g&&(this.response=C,Os(this))},e.ga=function(){this.g&&Os(this)};function Os(C){C.readyState=4,C.l=null,C.j=null,C.B=null,Mt(C)}e.setRequestHeader=function(C,_){this.A.append(C,_)},e.getResponseHeader=function(C){return this.h&&this.h.get(C.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const C=[],_=this.h.entries();for(var V=_.next();!V.done;)V=V.value,C.push(V[0]+": "+V[1]),V=_.next();return C.join(`\r
`)};function Mt(C){C.onreadystatechange&&C.onreadystatechange.call(C)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(C){this.m=C?"include":"same-origin"}});function gr(C){let _="";return ce(C,function(V,Q){_+=Q,_+=":",_+=V,_+=`\r
`}),_}function Oo(C,_,V){e:{for(Q in V){var Q=!1;break e}Q=!0}Q||(V=gr(V),typeof C=="string"?V!=null&&je(V):Nt(C,_,V))}function Dn(C){it.call(this),this.headers=new Map,this.L=C||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Dn,it);var Ea=/^https?$/i,ms=["POST","PUT"];e=Dn.prototype,e.Fa=function(C){this.H=C},e.ea=function(C,_,V,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+C);_=_?_.toUpperCase():"GET",this.D=C,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():me.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(C),!0),this.B=!1}catch(De){ks(this,De);return}if(C=V||"",V=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var be in Q)V.set(be,Q[be]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const De of Q.keys())V.set(De,Q.get(De));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(V.keys()).find(De=>De.toLowerCase()=="content-type"),be=h.FormData&&C instanceof h.FormData,!(Array.prototype.indexOf.call(ms,_,void 0)>=0)||Q||be||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,et]of V)this.g.setRequestHeader(De,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(C),this.v=!1}catch(De){ks(this,De)}};function ks(C,_){C.h=!1,C.g&&(C.j=!0,C.g.abort(),C.j=!1),C.l=_,C.o=5,Ai(C),gi(C)}function Ai(C){C.A||(C.A=!0,on(C,"complete"),on(C,"error"))}e.abort=function(C){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=C||7,on(this,"complete"),on(this,"abort"),gi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Dn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?mi(this):this.Xa())},e.Xa=function(){mi(this)};function mi(C){if(C.h&&typeof u<"u"){if(C.v&&ki(C)==4)setTimeout(C.Ca.bind(C),0);else if(on(C,"readystatechange"),ki(C)==4){C.h=!1;try{const De=C.ca();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var V;if(!(V=_)){var Q;if(Q=De===0){let et=String(C.D).match(at)[1]||null;!et&&h.self&&h.self.location&&(et=h.self.location.protocol.slice(0,-1)),Q=!Ea.test(et?et.toLowerCase():"")}V=Q}if(V)on(C,"complete"),on(C,"success");else{C.o=6;try{var be=ki(C)>2?C.g.statusText:""}catch{be=""}C.l=be+" ["+C.ca()+"]",Ai(C)}}finally{gi(C)}}}}function gi(C,_){if(C.g){C.m&&(clearTimeout(C.m),C.m=null);const V=C.g;C.g=null,_||on(C,"ready");try{V.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ki(C){return C.g?C.g.readyState:0}e.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(C){if(this.g){var _=this.g.responseText;return C&&_.indexOf(C)==0&&(_=_.substring(C.length)),un(_)}};function Ls(C){try{if(!C.g)return null;if("response"in C.g)return C.g.response;switch(C.F){case"":case"text":return C.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in C.g)return C.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(C){const _={};C=(C.g&&ki(C)>=2&&C.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<C.length;Q++){if(X(C[Q]))continue;var V=He(C[Q]);const be=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const De=_[be]||[];_[be]=De,De.push(V)}ue(_,function(Q){return Q.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $n(C,_,V){return V&&V.internalChannelParams&&V.internalChannelParams[C]||_}function lo(C){this.za=0,this.i=[],this.j=new Tt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$n("failFast",!1,C),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$n("baseRetryDelayMs",5e3,C),this.Za=$n("retryDelaySeedMs",1e4,C),this.Ta=$n("forwardChannelMaxRetries",2,C),this.va=$n("forwardChannelRequestTimeoutMs",2e4,C),this.ma=C&&C.xmlHttpFactory||void 0,this.Ua=C&&C.Rb||void 0,this.Aa=C&&C.useFetchStreams||!1,this.O=void 0,this.L=C&&C.supportsCrossDomainXhr||!1,this.M="",this.h=new Be(C&&C.concurrentRequestLimit),this.Ba=new Hn,this.S=C&&C.fastHandshake||!1,this.R=C&&C.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=C&&C.Pb||!1,C&&C.ua&&this.j.ua(),C&&C.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&C&&C.detectBufferingProxy||!1,this.ia=void 0,C&&C.longPollingTimeout&&C.longPollingTimeout>0&&(this.ia=C.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=lo.prototype,e.ka=8,e.I=1,e.connect=function(C,_,V,Q){ut(0),this.W=C,this.H=_||{},V&&Q!==void 0&&(this.H.OSID=V,this.H.OAID=Q),this.F=this.X,this.J=ba(this,null,this.W),xs(this)};function co(C){if(ko(C),C.I==3){var _=C.V++,V=qn(C.J);if(Nt(V,"SID",C.M),Nt(V,"RID",_),Nt(V,"TYPE","terminate"),Li(C,V),_=new ke(C,C.j,_),_.M=2,_.A=Ur(qn(V)),V=!1,h.navigator&&h.navigator.sendBeacon)try{V=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!V&&h.Image&&(new Image().src=_.A,V=!0),V||(_.g=Lo(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Bn(_)}fo(C)}function ti(C){C.g&&(_e(C),C.g.cancel(),C.g=null)}function ko(C){ti(C),C.v&&(h.clearTimeout(C.v),C.v=null),er(C),C.h.cancel(),C.m&&(typeof C.m=="number"&&h.clearTimeout(C.m),C.m=null)}function xs(C){if(!Fr(C.h)&&!C.m){C.m=!0;var _=C.Ea;re||L(),le||(re(),le=!0),P.add(_,C),C.D=0}}function fl(C,_){return yn(C.h)>=C.h.j-(C.m?1:0)?!1:C.m?(C.i=_.G.concat(C.i),!0):C.I==1||C.I==2||C.D>=(C.Sa?0:C.Ta)?!1:(C.m=dt(g(C.Ea,C,_),uo(C,C.D)),C.D++,!0)}e.Ea=function(C){if(this.m)if(this.m=null,this.I==1){if(!C){this.V=Math.floor(Math.random()*1e5),C=this.V++;const be=new ke(this,this.j,C);let De=this.o;if(this.U&&(De?(De=J(De),ve(De,this.U)):De=this.U),this.u!==null||this.R||(be.J=De,De=null),this.S)e:{for(var _=0,V=0;V<this.i.length;V++){t:{var Q=this.i[V];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(_+=Q,_>4096){_=V;break e}if(_===4096||V===this.i.length-1){_=V+1;break e}}_=1e3}else _=1e3;_=js(this,be,_),V=qn(this.J),Nt(V,"RID",C),Nt(V,"CVER",22),this.G&&Nt(V,"X-HTTP-Session-Id",this.G),Li(this,V),De&&(this.R?_="headers="+je(gr(De))+"&"+_:this.u&&Oo(V,this.u,De)),ei(this.h,be),this.Ra&&Nt(V,"TYPE","init"),this.S?(Nt(V,"$req",_),Nt(V,"SID","null"),be.U=!0,ot(be,V,null)):ot(be,V,_),this.I=2}}else this.I==3&&(C?hn(this,C):this.i.length==0||Fr(this.h)||hn(this))};function hn(C,_){var V;_?V=_.l:V=C.V++;const Q=qn(C.J);Nt(Q,"SID",C.M),Nt(Q,"RID",V),Nt(Q,"AID",C.K),Li(C,Q),C.u&&C.o&&Oo(Q,C.u,C.o),V=new ke(C,C.j,V,C.D+1),C.u===null&&(V.J=C.o),_&&(C.i=_.G.concat(C.i)),_=js(C,V,1e3),V.H=Math.round(C.va*.5)+Math.round(C.va*.5*Math.random()),ei(C.h,V),ot(V,Q,_)}function Li(C,_){C.H&&ce(C.H,function(V,Q){Nt(_,Q,V)}),C.l&&ce({},function(V,Q){Nt(_,Q,V)})}function js(C,_,V){V=Math.min(C.i.length,V);const Q=C.l?g(C.l.Ka,C.l,C):null;e:{var be=C.i;let Pt=-1;for(;;){const Fn=["count="+V];Pt==-1?V>0?(Pt=be[0].g,Fn.push("ofs="+Pt)):Pt=0:Fn.push("ofs="+Pt);let In=!0;for(let nr=0;nr<V;nr++){var De=be[nr].g;const wi=be[nr].map;if(De-=Pt,De<0)Pt=Math.max(0,be[nr].g-100),In=!1;else try{De="req"+De+"_"||"";try{var et=wi instanceof Map?wi:Object.entries(wi);for(const[ji,es]of et){let Yr=es;w(es)&&(Yr=mn(es)),Fn.push(De+ji+"="+encodeURIComponent(Yr))}}catch(ji){throw Fn.push(De+"type="+encodeURIComponent("_badmap")),ji}}catch{Q&&Q(wi)}}if(In){et=Fn.join("&");break e}}et=void 0}return C=C.i.splice(0,V),_.G=C,et}function Yn(C){if(!C.g&&!C.v){C.Y=1;var _=C.Da;re||L(),le||(re(),le=!0),P.add(_,C),C.A=0}}function Ji(C){return C.g||C.v||C.A>=3?!1:(C.Y++,C.v=dt(g(C.Da,C),uo(C,C.A)),C.A++,!0)}e.Da=function(){if(this.v=null,Vt(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var C=4*this.T;this.j.info("BP detection timer enabled: "+C),this.B=dt(g(this.Wa,this),C)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),ti(this),Vt(this))};function _e(C){C.B!=null&&(h.clearTimeout(C.B),C.B=null)}function Vt(C){C.g=new ke(C,C.j,"rpc",C.Y),C.u===null&&(C.g.J=C.o),C.g.P=0;var _=qn(C.na);Nt(_,"RID","rpc"),Nt(_,"SID",C.M),Nt(_,"AID",C.K),Nt(_,"CI",C.F?"0":"1"),!C.F&&C.ia&&Nt(_,"TO",C.ia),Nt(_,"TYPE","xmlhttp"),Li(C,_),C.u&&C.o&&Oo(_,C.u,C.o),C.O&&(C.g.H=C.O);var V=C.g;C=C.ba,V.M=1,V.A=Ur(qn(_)),V.u=null,V.R=!0,_t(V,C)}e.Va=function(){this.C!=null&&(this.C=null,ti(this),Ji(this),ut(19))};function er(C){C.C!=null&&(h.clearTimeout(C.C),C.C=null)}function ws(C,_){var V=null;if(C.g==_){er(C),_e(C),C.g=null;var Q=2}else if(Vr(C.h,_))V=_.G,$t(C.h,_),Q=1;else return;if(C.I!=0){if(_.o)if(Q==1){V=_.u?_.u.length:0,_=Date.now()-_.F;var be=C.D;Q=Cr(),on(Q,new gn(Q,V)),xs(C)}else Yn(C);else if(be=_.m,be==3||be==0&&_.X>0||!(Q==1&&fl(C,_)||Q==2&&Ji(C)))switch(V&&V.length>0&&(_=C.h,_.i=_.i.concat(V)),be){case 1:xi(C,5);break;case 4:xi(C,10);break;case 3:xi(C,6);break;default:xi(C,2)}}}function uo(C,_){let V=C.Qa+Math.floor(Math.random()*C.Za);return C.isActive()||(V*=2),V*_}function xi(C,_){if(C.j.info("Error code "+_),_==2){var V=g(C.bb,C),Q=C.Ua;const be=!Q;Q=new br(Q||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(Q,"https"),Ur(Q),be?hi(Q.toString(),V):Si(Q.toString(),V)}else ut(2);C.I=0,C.l&&C.l.pa(_),fo(C),ko(C)}e.bb=function(C){C?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function fo(C){if(C.I=0,C.ja=[],C.l){const _=Lt(C.h);(_.length!=0||C.i.length!=0)&&(O(C.ja,_),O(C.ja,C.i),C.h.i.length=0,R(C.i),C.i.length=0),C.l.oa()}}function ba(C,_,V){var Q=V instanceof br?qn(V):new br(V);if(Q.g!="")_&&(Q.g=_+"."+Q.g),Qn(Q,Q.u);else{var be=h.location;Q=be.protocol,_=_?_+"."+be.hostname:be.hostname,be=+be.port;const De=new br(null);Q&&jt(De,Q),_&&(De.g=_),be&&Qn(De,be),V&&(De.h=V),Q=De}return V=C.G,_=C.wa,V&&_&&Nt(Q,V,_),Nt(Q,"VER",C.ka),Li(C,Q),Q}function Lo(C,_,V){if(_&&!C.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=C.Aa&&!C.ma?new Dn(new pi({ab:V})):new Dn(C.ma),_.Fa(C.L),_}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function tr(){}e=tr.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Hr(C,_){it.call(this),this.g=new lo(_),this.l=C,this.h=_&&_.messageUrlParams||null,C=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.g.o=C,C=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(C?C["X-WebChannel-Content-Type"]=_.messageContentType:C={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(C?C["X-WebChannel-Client-Profile"]=_.sa:C={"X-WebChannel-Client-Profile":_.sa}),this.g.U=C,(C=_&&_.Qb)&&!X(C)&&(this.g.u=C),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!X(_)&&(this.g.G=_,C=this.h,C!==null&&_ in C&&(C=this.h,_ in C&&delete C[_])),this.j=new ni(this)}E(Hr,it),Hr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hr.prototype.close=function(){co(this.g)},Hr.prototype.o=function(C){var _=this.g;if(typeof C=="string"){var V={};V.__data__=C,C=V}else this.v&&(V={},V.__data__=mn(C),C=V);_.i.push(new Mi(_.Ya++,C)),_.I==3&&xs(_)},Hr.prototype.N=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,Hr.Z.N.call(this)};function On(C){Xe.call(this),C.__headers__&&(this.headers=C.__headers__,this.statusCode=C.__status__,delete C.__headers__,delete C.__status__);var _=C.__sm__;if(_){e:{for(const V in _){C=V;break e}C=void 0}(this.i=C)&&(C=this.i,_=_!==null&&C in _?_[C]:void 0),this.data=_}else this.data=C}E(On,Xe);function ho(){En.call(this),this.status=1}E(ho,En);function ni(C){this.g=C}E(ni,tr),ni.prototype.ra=function(){on(this.g,"a")},ni.prototype.qa=function(C){on(this.g,new On(C))},ni.prototype.pa=function(C){on(this.g,new ho)},ni.prototype.oa=function(){on(this.g,"b")},Hr.prototype.send=Hr.prototype.o,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,se.COMPLETE="complete",hr.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",it.prototype.listen=it.prototype.J,Dn.prototype.listenOnce=Dn.prototype.K,Dn.prototype.getLastError=Dn.prototype.Ha,Dn.prototype.getLastErrorCode=Dn.prototype.ya,Dn.prototype.getStatus=Dn.prototype.ca,Dn.prototype.getResponseJson=Dn.prototype.La,Dn.prototype.getResponseText=Dn.prototype.la,Dn.prototype.send=Dn.prototype.ea,Dn.prototype.setWithCredentials=Dn.prototype.Fa}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf="12.8.0";function m7(e){jf=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new $3("@firebase/firestore");function Rs(e,...t){if(lf.logLevel<=Vn.DEBUG){const n=t.map(J3);lf.debug(`Firestore (${jf}): ${e}`,...n)}}function Q3(e,...t){if(lf.logLevel<=Vn.ERROR){const n=t.map(J3);lf.error(`Firestore (${jf}): ${e}`,...n)}}function J3(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,e9(e,i,n)}function e9(e,t,n){let i=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Q3(i),new Error(i)}function Kc(e,t,n,i){let c="Unexpected state";typeof n=="string"?c=n:i=n,e||e9(t,c,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Pn extends nc{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class x7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(zi.UNAUTHENTICATED)))}shutdown(){}}class w7{constructor(t){this.t=t,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kc(this.o===void 0,42304);let i=this.i;const c=y=>this.i!==i?(i=this.i,n(y)):Promise.resolve();let u=new qc;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qc,t.enqueueRetryable((()=>c(this.currentUser)))};const h=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await c(this.currentUser)}))},w=y=>{Rs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>w(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?w(y):(Rs("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qc)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(Rs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kc(typeof i.accessToken=="string",31837,{l:i}),new g7(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kc(t===null||typeof t=="string",2055,{h:t}),new zi(t)}}class y7{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class v7{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new y7(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(zi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C7{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,e7(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kc(this.o===void 0,3512);const i=u=>{u.error!=null&&Rs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Rs("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>i(u)))};const c=u=>{Rs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>c(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?c(u):Rs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kc(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const c=E7(40);for(let u=0;u<c.length;++u)i.length<20&&c[u]<n&&(i+=t.charAt(c[u]%62))}return i}}function aa(e,t){return e<t?-1:e>t?1:0}function S7(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const c=e.charAt(i),u=t.charAt(i);if(c!==u)return N1(c)===N1(u)?aa(c,u):N1(c)?1:-1}return aa(e.length,t.length)}const A7=55296,T7=57343;function N1(e){const t=e.charCodeAt(0);return t>=A7&&t<=T7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__name__";class Gs{constructor(t,n,i){n===void 0?n=0:n>t.length&&cf(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&cf(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Gs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Gs?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let c=0;c<i;c++){const u=Gs.compareSegments(t.get(c),n.get(c));if(u!==0)return u}return aa(t.length,n.length)}static compareSegments(t,n){const i=Gs.isNumericId(t),c=Gs.isNumericId(n);return i&&!c?-1:!i&&c?1:i&&c?Gs.extractNumericId(t).compare(Gs.extractNumericId(n)):S7(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xp.fromString(t.substring(4,t.length-2))}}class Ns extends Gs{construct(t,n,i){return new Ns(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Pn(_n.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((c=>c.length>0)))}return new Ns(n)}static emptyPath(){return new Ns([])}}const I7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class za extends Gs{construct(t,n,i){return new za(t,n,i)}static isValidIdentifier(t){return I7.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),za.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hw}static keyField(){return new za([hw])}static fromServerFormat(t){const n=[];let i="",c=0;const u=()=>{if(i.length===0)throw new Pn(_n.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;c<t.length;){const w=t[c];if(w==="\\"){if(c+1===t.length)throw new Pn(_n.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[c+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Pn(_n.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=y,c+=2}else w==="`"?(h=!h,c++):w!=="."||h?(i+=w,c++):(u(),c++)}if(u(),h)throw new Pn(_n.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new za(n)}static emptyPath(){return new za([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.path=t}static fromPath(t){return new Xa(Ns.fromString(t))}static fromName(t){return new Xa(Ns.fromString(t).popFirst(5))}static empty(){return new Xa(Ns.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ns.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ns.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xa(new Ns(t.slice()))}}function N7(e,t,n,i){if(t===!0&&i===!0)throw new Pn(_n.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function R7(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(e,t){const n={typeString:e};return t&&(n.value=t),n}function bu(e,t){if(!R7(e))throw new Pn(_n.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const c=t[i].typeString,u="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const h=e[i];if(c&&typeof h!==c){n=`JSON field '${i}' must be a ${c}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new Pn(_n.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=-62135596800,mw=1e6;class Xs{static now(){return Xs.fromMillis(Date.now())}static fromDate(t){return Xs.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*mw);return new Xs(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Pn(_n.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pn(_n.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<pw)throw new Pn(_n.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pn(_n.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mw}_compareTo(t){return this.seconds===t.seconds?aa(this.nanoseconds,t.nanoseconds):aa(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bu(t,Xs._jsonSchema))return new Xs(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xs._jsonSchemaVersion="firestore/timestamp/1.0",Xs._jsonSchema={type:Pr("string",Xs._jsonSchemaVersion),seconds:Pr("number"),nanoseconds:Pr("number")};function _7(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(c){try{return atob(c)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new P7("Invalid base64 string: "+u):u}})(t);return new Ja(n)}static fromUint8Array(t){const n=(function(c){let u="";for(let h=0;h<c.length;++h)u+=String.fromCharCode(c[h]);return u})(t);return new Ja(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let c=0;c<n.length;c++)i[c]=n.charCodeAt(c);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return aa(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ja.EMPTY_BYTE_STRING=new Ja("");const gw="(default)";class uf{constructor(t,n){this.projectId=t,this.database=n||gw}static empty(){return new uf("","")}get isDefaultDatabase(){return this.database===gw}isEqual(t){return t instanceof uf&&t.projectId===this.projectId&&t.database===this.database}}function D7(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pn(_n.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uf(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(t,n=null,i=[],c=[],u=null,h="F",w=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=c,this.limit=u,this.limitType=h,this.startAt=w,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function O7(e){return new M7(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xw,Cn;(Cn=xw||(xw={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Xp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=1048576;function R1(){return typeof document<"u"?document:null}class j7{constructor(t,n,i=1e3,c=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=c,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),c=Math.max(0,n-i);c>0&&Rs("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t,n,i,c,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=c,this.removalCallback=u,this.deferred=new qc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,c,u){const h=Date.now()+i,w=new $p(t,n,h,c,u);return w.start(i),w}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pn(_n.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var ww,yw;(yw=ww||(ww={})).Ma="default",yw.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7="ComponentProvider",vw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7="firestore.googleapis.com",Cw=!0;class Ew{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Pn(_n.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V7,this.ssl=Cw}else this.host=t.host,this.ssl=t.ssl??Cw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=k7;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<L7)throw new Pn(_n.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N7("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B7(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Pn(_n.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Pn(_n.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Pn(_n.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,c){return i.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class U7{constructor(t,n,i,c){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ew({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pn(_n.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Pn(_n.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ew(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new x7;switch(i.type){case"firstParty":return new v7(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Pn(_n.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=vw.get(n);i&&(Rs(F7,"Removing Datastore"),vw.delete(n),i.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Yp(this.firestore,t,this._query)}}class Zs{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zs(this.firestore,t,this._key)}toJSON(){return{type:Zs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(bu(n,Zs._jsonSchema))return new Zs(t,i||null,new Xa(Ns.fromString(n.referencePath)))}}Zs._jsonSchemaVersion="firestore/documentReference/1.0",Zs._jsonSchema={type:Pr("string",Zs._jsonSchemaVersion),referencePath:Pr("string")};class Zp extends Yp{constructor(t,n,i){super(t,n,O7(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zs(this.firestore,null,new Xa(t))}withConverter(t){return new Zp(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="AsyncQueue";class Sw{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j7(this,"async_queue_retry"),this._c=()=>{const i=R1();i&&Rs(bw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=R1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=R1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!_7(t))throw t;Rs(bw,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Q3("INTERNAL UNHANDLED ERROR: ",Aw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const c=$p.createAndSchedule(this,t,n,i,(u=>this.hc(u)));return this.tc.push(c),c}uc(){this.nc&&cf(47125,{Pc:Aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Aw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class H7 extends U7{constructor(t,n,i,c){super(t,n,i,c),this.type="firestore",this._queue=new Sw,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Sw(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this._byteString=t}static fromBase64String(t){try{return new To(Ja.fromBase64String(t))}catch(n){throw new Pn(_n.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new To(Ja.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:To._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bu(t,To._jsonSchema))return To.fromBase64String(t.bytes)}}To._jsonSchemaVersion="firestore/bytes/1.0",To._jsonSchema={type:Pr("string",To._jsonSchemaVersion),bytes:Pr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Pn(_n.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new za(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Pn(_n.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Pn(_n.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return aa(this._lat,t._lat)||aa(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Za._jsonSchemaVersion}}static fromJSON(t){if(bu(t,Za._jsonSchema))return new Za(t.latitude,t.longitude)}}Za._jsonSchemaVersion="firestore/geoPoint/1.0",Za._jsonSchema={type:Pr("string",Za._jsonSchemaVersion),latitude:Pr("number"),longitude:Pr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,c){if(i.length!==c.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==c[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ka._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bu(t,Ka._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ka(t.vectorValues);throw new Pn(_n.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ka._jsonSchemaVersion="firestore/vectorValue/1.0",Ka._jsonSchema={type:Pr("string",Ka._jsonSchemaVersion),vectorValues:Pr("object")};function n9(e,t,n){if((t=oA(t))instanceof t9)return t._internalPath;if(typeof t=="string")return z7(e,t);throw F0("Field path arguments must be of type string or ",e)}const W7=new RegExp("[~\\*/\\[\\]]");function z7(e,t,n){if(t.search(W7)>=0)throw F0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new t9(...t.split("."))._internalPath}catch{throw F0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function F0(e,t,n,i,c){let u=`Function ${t}() called with invalid data`;u+=". ";let h="";return new Pn(_n.INVALID_ARGUMENT,u+e+h)}const Tw="@firebase/firestore",Iw="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(t,n,i,c,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=c,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new G7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(n9("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G7 extends r9{data(){return super.data()}}class Pd{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gl extends r9{constructor(t,n,i,c,u,h){super(t,n,i,c,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(n9("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pn(_n.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gl._jsonSchema={type:Pr("string",Gl._jsonSchemaVersion),bundleSource:Pr("string","DocumentSnapshot"),bundleName:Pr("string"),bundle:Pr("string")};class Kd extends Gl{data(t={}){return super.data(t)}}class Qc{constructor(t,n,i,c){this._firestore=t,this._userDataWriter=n,this._snapshot=c,this.metadata=new Pd(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new Kd(this._firestore,this._userDataWriter,i.key,i,new Pd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pn(_n.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(c,u){if(c._snapshot.oldDocs.isEmpty()){let h=0;return c._snapshot.docChanges.map((w=>{const y=new Kd(c._firestore,c._userDataWriter,w.doc.key,w.doc,new Pd(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter);return w.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((w=>u||w.type!==3)).map((w=>{const y=new Kd(c._firestore,c._userDataWriter,w.doc.key,w.doc,new Pd(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter);let g=-1,b=-1;return w.type!==0&&(g=h.indexOf(w.doc.key),h=h.delete(w.doc.key)),w.type!==1&&(h=h.add(w.doc),b=h.indexOf(w.doc.key)),{type:X7(w.type),doc:y,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pn(_n.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=b7.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],c=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),c.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function X7(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cf(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qc._jsonSchemaVersion="firestore/querySnapshot/1.0",Qc._jsonSchema={type:Pr("string",Qc._jsonSchemaVersion),bundleSource:Pr("string","QuerySnapshot"),bundleName:Pr("string"),bundle:Pr("string")};(function(t,n=!0){m7(n7),af(new of("firestore",((i,{instanceIdentifier:c,options:u})=>{const h=i.getProvider("app").getImmediate(),w=new H7(new w7(i.getProvider("auth-internal")),new C7(h,i.getProvider("app-check-internal")),D7(h,c),h);return u={useFetchStreams:n,...u},w._setSettings(u),w}),"PUBLIC").setMultipleInstances(!0)),zl(Tw,Iw,t),zl(Tw,Iw,"esm2020")})();function $7(){return!1}const i9=M.createContext(void 0),Y7=[{id:"1",name:"Premium Black PLA",material:"PLA",color:"Black",colorHex:"#000000",totalWeight:1e3,remainingWeight:750,manufacturer:"Hatchbox",diameter:1.75,price:19.99},{id:"2",name:"Transparent PETG",material:"PETG",color:"Clear",colorHex:"#E0F2FE",totalWeight:1e3,remainingWeight:200,manufacturer:"eSUN",diameter:1.75,price:24.99},{id:"3",name:"Sky Blue PLA+",material:"PLA",color:"Blue",colorHex:"#3B82F6",totalWeight:1e3,remainingWeight:950,manufacturer:"Polymaker",diameter:1.75,price:22.99}],Z7=[{id:"1",name:"Phone Stand",filamentId:"1",weightUsed:45,printTime:180,printDate:"2026-02-01",notes:"Printed at 0.2mm layer height"},{id:"2",name:"Cable Organizer",filamentId:"3",weightUsed:28,printTime:120,printDate:"2026-02-02"}];function K7({children:e}){const t=$7(),[n,i]=M.useState(Y7),[c,u]=M.useState([]),[h,w]=M.useState(Z7),[y,g]=M.useState(t);M.useEffect(()=>{},[t]);const b=U=>{const Z={...U,id:Date.now().toString(),favorite:U.favorite??!1},re=[...n,Z];return i(re),Z},E=U=>{const Z=n.map(re=>re.id===U.id?U:re);i(Z)},T=U=>{const Z=n.filter(re=>re.id!==U);i(Z)},R=U=>{const Z={...U,id:Date.now().toString()},re=[...c,Z];return u(re),Z},O=U=>{const Z=c.map(re=>re.id===U.id?U:re);u(Z)},k=U=>{const Z=c.filter(le=>le.id!==U),re=h.map(le=>le.projectId===U?{...le,projectId:void 0}:le);u(Z),w(re)},F=U=>{const Z={...U,id:Date.now().toString()},re=[...h,Z];w(re);const le=n.find(P=>P.id===U.filamentId);if(le){const P={...le,remainingWeight:Math.max(0,le.remainingWeight-U.weightUsed)},L=n.map(B=>B.id===P.id?P:B);i(L)}},G=U=>{const Z=h.find(P=>P.id===U.id),re=h.map(P=>P.id===U.id?U:P);let le=n;if(Z)if(Z.filamentId===U.filamentId){const P=U.weightUsed-Z.weightUsed,L=n.find(B=>B.id===U.filamentId);if(L){const B={...L,remainingWeight:Math.max(0,L.remainingWeight-P)};le=n.map(K=>K.id===B.id?B:K)}}else{const P=n.find(B=>B.id===Z.filamentId),L=n.find(B=>B.id===U.filamentId);le=n.map(B=>B.id===Z.filamentId&&P?{...B,remainingWeight:B.remainingWeight+Z.weightUsed}:B.id===U.filamentId&&L?{...B,remainingWeight:Math.max(0,B.remainingWeight-U.weightUsed)}:B)}w(re),i(le)},z=U=>{const Z=h.find(P=>P.id===U),re=h.filter(P=>P.id!==U);let le=n;if(Z){const P=n.find(L=>L.id===Z.filamentId);P&&(le=n.map(L=>L.id===P.id?{...L,remainingWeight:L.remainingWeight+Z.weightUsed}:L))}w(re),i(le)};return x.jsx(i9.Provider,{value:{filaments:n,addFilament:b,updateFilament:E,deleteFilament:T,projects:c,addProject:R,updateProject:O,deleteProject:k,printedParts:h,addPrintedPart:F,updatePrintedPart:G,deletePrintedPart:z,isCloudSync:t,isCloudLoading:y},children:e})}function ga(){const e=M.useContext(i9);if(!e)throw new Error("useApp must be used within AppProvider");return e}const s9=M.createContext(void 0);function q7({children:e}){const t=M.useRef(null),n=ro(),i=M.useCallback(h=>{t.current=h},[]),c=M.useCallback(()=>{t.current=null},[]),u=M.useCallback(()=>{t.current?t.current():n("/parts")},[n]);return x.jsx(s9.Provider,{value:{registerAddHandler:i,unregisterAddHandler:c,triggerAdd:u},children:e})}function o9(){const e=M.useContext(s9);if(!e)throw new Error("useAddAction must be used within AddActionProvider");return e}const a9=M.createContext({});function Q7(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const l9=typeof window<"u",J7=l9?M.useLayoutEffect:M.useEffect,Kp=M.createContext(null);function qp(e,t){e.indexOf(t)===-1&&e.push(t)}function Qp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const to=(e,t,n)=>n>t?t:n<e?e:n;let Jp=()=>{};const Ro={},c9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function u9(e){return typeof e=="object"&&e!==null}const d9=e=>/^0[^.\s]+$/u.test(e);function em(e){let t;return()=>(t===void 0&&(t=e()),t)}const us=e=>e,eT=(e,t)=>n=>t(e(n)),Su=(...e)=>e.reduce(eT),du=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class tm{constructor(){this.subscriptions=[]}add(t){return qp(this.subscriptions,t),()=>Qp(this.subscriptions,t)}notify(t,n,i){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](t,n,i);else for(let u=0;u<c;u++){const h=this.subscriptions[u];h&&h(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Io=e=>e*1e3,cs=e=>e/1e3;function f9(e,t){return t?e*(1e3/t):0}const h9=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,tT=1e-7,nT=12;function rT(e,t,n,i,c){let u,h,w=0;do h=t+(n-t)/2,u=h9(h,i,c)-e,u>0?n=h:t=h;while(Math.abs(u)>tT&&++w<nT);return h}function Au(e,t,n,i){if(e===t&&n===i)return us;const c=u=>rT(u,0,1,e,n);return u=>u===0||u===1?u:h9(c(u),t,i)}const p9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,m9=e=>t=>1-e(1-t),g9=Au(.33,1.53,.69,.99),nm=m9(g9),x9=p9(nm),w9=e=>(e*=2)<1?.5*nm(e):.5*(2-Math.pow(2,-10*(e-1))),rm=e=>1-Math.sin(Math.acos(e)),y9=m9(rm),v9=p9(rm),iT=Au(.42,0,1,1),sT=Au(0,0,.58,1),C9=Au(.42,0,.58,1),oT=e=>Array.isArray(e)&&typeof e[0]!="number",E9=e=>Array.isArray(e)&&typeof e[0]=="number",aT={linear:us,easeIn:iT,easeInOut:C9,easeOut:sT,circIn:rm,circInOut:v9,circOut:y9,backIn:nm,backInOut:x9,backOut:g9,anticipate:w9},lT=e=>typeof e=="string",Nw=e=>{if(E9(e)){Jp(e.length===4);const[t,n,i,c]=e;return Au(t,n,i,c)}else if(lT(e))return aT[e];return e},Dd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cT(e,t){let n=new Set,i=new Set,c=!1,u=!1;const h=new WeakSet;let w={delta:0,timestamp:0,isProcessing:!1};function y(b){h.has(b)&&(g.schedule(b),e()),b(w)}const g={schedule:(b,E=!1,T=!1)=>{const O=T&&c?n:i;return E&&h.add(b),O.has(b)||O.add(b),b},cancel:b=>{i.delete(b),h.delete(b)},process:b=>{if(w=b,c){u=!0;return}c=!0,[n,i]=[i,n],n.forEach(y),n.clear(),c=!1,u&&(u=!1,g.process(b))}};return g}const uT=40;function b9(e,t){let n=!1,i=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,h=Dd.reduce((U,Z)=>(U[Z]=cT(u),U),{}),{setup:w,read:y,resolveKeyframes:g,preUpdate:b,update:E,preRender:T,render:R,postRender:O}=h,k=()=>{const U=Ro.useManualTiming?c.timestamp:performance.now();n=!1,Ro.useManualTiming||(c.delta=i?1e3/60:Math.max(Math.min(U-c.timestamp,uT),1)),c.timestamp=U,c.isProcessing=!0,w.process(c),y.process(c),g.process(c),b.process(c),E.process(c),T.process(c),R.process(c),O.process(c),c.isProcessing=!1,n&&t&&(i=!1,e(k))},F=()=>{n=!0,i=!0,c.isProcessing||e(k)};return{schedule:Dd.reduce((U,Z)=>{const re=h[Z];return U[Z]=(le,P=!1,L=!1)=>(n||F(),re.schedule(le,P,L)),U},{}),cancel:U=>{for(let Z=0;Z<Dd.length;Z++)h[Dd[Z]].cancel(U)},state:c,steps:h}}const{schedule:Gn,cancel:la,state:Jr,steps:_1}=b9(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0);let qd;function dT(){qd=void 0}const Ci={now:()=>(qd===void 0&&Ci.set(Jr.isProcessing||Ro.useManualTiming?Jr.timestamp:performance.now()),qd),set:e=>{qd=e,queueMicrotask(dT)}},S9=e=>t=>typeof t=="string"&&t.startsWith(e),A9=S9("--"),fT=S9("var(--"),im=e=>fT(e)?hT.test(e.split("/*")[0].trim()):!1,hT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Rw(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const rc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fu={...rc,transform:e=>to(0,1,e)},Md={...rc,default:1},Jc=e=>Math.round(e*1e5)/1e5,sm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pT(e){return e==null}const mT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,om=(e,t)=>n=>!!(typeof n=="string"&&mT.test(n)&&n.startsWith(e)||t&&!pT(n)&&Object.prototype.hasOwnProperty.call(n,t)),T9=(e,t,n)=>i=>{if(typeof i!="string")return i;const[c,u,h,w]=i.match(sm);return{[e]:parseFloat(c),[t]:parseFloat(u),[n]:parseFloat(h),alpha:w!==void 0?parseFloat(w):1}},gT=e=>to(0,255,e),P1={...rc,transform:e=>Math.round(gT(e))},$a={test:om("rgb","red"),parse:T9("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+P1.transform(e)+", "+P1.transform(t)+", "+P1.transform(n)+", "+Jc(fu.transform(i))+")"};function xT(e){let t="",n="",i="",c="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),c=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),c=e.substring(4,5),t+=t,n+=n,i+=i,c+=c),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:c?parseInt(c,16)/255:1}}const V0={test:om("#"),parse:xT,transform:$a.transform},Tu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ea=Tu("deg"),Qs=Tu("%"),vt=Tu("px"),wT=Tu("vh"),yT=Tu("vw"),_w={...Qs,parse:e=>Qs.parse(e)/100,transform:e=>Qs.transform(e*100)},jl={test:om("hsl","hue"),parse:T9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Qs.transform(Jc(t))+", "+Qs.transform(Jc(n))+", "+Jc(fu.transform(i))+")"},_r={test:e=>$a.test(e)||V0.test(e)||jl.test(e),parse:e=>$a.test(e)?$a.parse(e):jl.test(e)?jl.parse(e):V0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$a.transform(e):jl.transform(e),getAnimatableNone:e=>{const t=_r.parse(e);return t.alpha=0,_r.transform(t)}},vT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CT(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(sm))==null?void 0:t.length)||0)+(((n=e.match(vT))==null?void 0:n.length)||0)>0}const I9="number",N9="color",ET="var",bT="var(",Pw="${}",ST=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hu(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},c=[];let u=0;const w=t.replace(ST,y=>(_r.test(y)?(i.color.push(u),c.push(N9),n.push(_r.parse(y))):y.startsWith(bT)?(i.var.push(u),c.push(ET),n.push(y)):(i.number.push(u),c.push(I9),n.push(parseFloat(y))),++u,Pw)).split(Pw);return{values:n,split:w,indexes:i,types:c}}function R9(e){return hu(e).values}function _9(e){const{split:t,types:n}=hu(e),i=t.length;return c=>{let u="";for(let h=0;h<i;h++)if(u+=t[h],c[h]!==void 0){const w=n[h];w===I9?u+=Jc(c[h]):w===N9?u+=_r.transform(c[h]):u+=c[h]}return u}}const AT=e=>typeof e=="number"?0:_r.test(e)?_r.getAnimatableNone(e):e;function TT(e){const t=R9(e);return _9(e)(t.map(AT))}const ca={test:CT,parse:R9,createTransformer:_9,getAnimatableNone:TT};function D1(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function IT({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let c=0,u=0,h=0;if(!t)c=u=h=n;else{const w=n<.5?n*(1+t):n+t-n*t,y=2*n-w;c=D1(y,w,e+1/3),u=D1(y,w,e),h=D1(y,w,e-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:i}}function df(e,t){return n=>n>0?t:e}const fr=(e,t,n)=>e+(t-e)*n,M1=(e,t,n)=>{const i=e*e,c=n*(t*t-i)+i;return c<0?0:Math.sqrt(c)},NT=[V0,$a,jl],RT=e=>NT.find(t=>t.test(e));function Dw(e){const t=RT(e);if(!t)return!1;let n=t.parse(e);return t===jl&&(n=IT(n)),n}const Mw=(e,t)=>{const n=Dw(e),i=Dw(t);if(!n||!i)return df(e,t);const c={...n};return u=>(c.red=M1(n.red,i.red,u),c.green=M1(n.green,i.green,u),c.blue=M1(n.blue,i.blue,u),c.alpha=fr(n.alpha,i.alpha,u),$a.transform(c))},U0=new Set(["none","hidden"]);function _T(e,t){return U0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function PT(e,t){return n=>fr(e,t,n)}function am(e){return typeof e=="number"?PT:typeof e=="string"?im(e)?df:_r.test(e)?Mw:OT:Array.isArray(e)?P9:typeof e=="object"?_r.test(e)?Mw:DT:df}function P9(e,t){const n=[...e],i=n.length,c=e.map((u,h)=>am(u)(u,t[h]));return u=>{for(let h=0;h<i;h++)n[h]=c[h](u);return n}}function DT(e,t){const n={...e,...t},i={};for(const c in n)e[c]!==void 0&&t[c]!==void 0&&(i[c]=am(e[c])(e[c],t[c]));return c=>{for(const u in i)n[u]=i[u](c);return n}}function MT(e,t){const n=[],i={color:0,var:0,number:0};for(let c=0;c<t.values.length;c++){const u=t.types[c],h=e.indexes[u][i[u]],w=e.values[h]??0;n[c]=w,i[u]++}return n}const OT=(e,t)=>{const n=ca.createTransformer(t),i=hu(e),c=hu(t);return i.indexes.var.length===c.indexes.var.length&&i.indexes.color.length===c.indexes.color.length&&i.indexes.number.length>=c.indexes.number.length?U0.has(e)&&!c.values.length||U0.has(t)&&!i.values.length?_T(e,t):Su(P9(MT(i,c),c.values),n):df(e,t)};function D9(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fr(e,t,n):am(e)(e,t)}const kT=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Gn.update(t,n),stop:()=>la(t),now:()=>Jr.isProcessing?Jr.timestamp:Ci.now()}},M9=(e,t,n=10)=>{let i="";const c=Math.max(Math.round(t/n),2);for(let u=0;u<c;u++)i+=Math.round(e(u/(c-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ff=2e4;function lm(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<ff;)t+=n,i=e.next(t);return t>=ff?1/0:t}function LT(e,t=100,n){const i=n({...e,keyframes:[0,t]}),c=Math.min(lm(i),ff);return{type:"keyframes",ease:u=>i.next(c*u).value/t,duration:cs(c)}}const jT=5;function O9(e,t,n){const i=Math.max(t-jT,0);return f9(n-e(i),t-i)}const vr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},O1=.001;function BT({duration:e=vr.duration,bounce:t=vr.bounce,velocity:n=vr.velocity,mass:i=vr.mass}){let c,u,h=1-t;h=to(vr.minDamping,vr.maxDamping,h),e=to(vr.minDuration,vr.maxDuration,cs(e)),h<1?(c=g=>{const b=g*h,E=b*e,T=b-n,R=H0(g,h),O=Math.exp(-E);return O1-T/R*O},u=g=>{const E=g*h*e,T=E*n+n,R=Math.pow(h,2)*Math.pow(g,2)*e,O=Math.exp(-E),k=H0(Math.pow(g,2),h);return(-c(g)+O1>0?-1:1)*((T-R)*O)/k}):(c=g=>{const b=Math.exp(-g*e),E=(g-n)*e+1;return-O1+b*E},u=g=>{const b=Math.exp(-g*e),E=(n-g)*(e*e);return b*E});const w=5/e,y=VT(c,u,w);if(e=Io(e),isNaN(y))return{stiffness:vr.stiffness,damping:vr.damping,duration:e};{const g=Math.pow(y,2)*i;return{stiffness:g,damping:h*2*Math.sqrt(i*g),duration:e}}}const FT=12;function VT(e,t,n){let i=n;for(let c=1;c<FT;c++)i=i-e(i)/t(i);return i}function H0(e,t){return e*Math.sqrt(1-t*t)}const UT=["duration","bounce"],HT=["stiffness","damping","mass"];function Ow(e,t){return t.some(n=>e[n]!==void 0)}function WT(e){let t={velocity:vr.velocity,stiffness:vr.stiffness,damping:vr.damping,mass:vr.mass,isResolvedFromDuration:!1,...e};if(!Ow(e,HT)&&Ow(e,UT))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),c=i*i,u=2*to(.05,1,1-(e.bounce||0))*Math.sqrt(c);t={...t,mass:vr.mass,stiffness:c,damping:u}}else{const n=BT(e);t={...t,...n,mass:vr.mass},t.isResolvedFromDuration=!0}return t}function hf(e=vr.visualDuration,t=vr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:c}=n;const u=n.keyframes[0],h=n.keyframes[n.keyframes.length-1],w={done:!1,value:u},{stiffness:y,damping:g,mass:b,duration:E,velocity:T,isResolvedFromDuration:R}=WT({...n,velocity:-cs(n.velocity||0)}),O=T||0,k=g/(2*Math.sqrt(y*b)),F=h-u,G=cs(Math.sqrt(y/b)),z=Math.abs(F)<5;i||(i=z?vr.restSpeed.granular:vr.restSpeed.default),c||(c=z?vr.restDelta.granular:vr.restDelta.default);let U;if(k<1){const re=H0(G,k);U=le=>{const P=Math.exp(-k*G*le);return h-P*((O+k*G*F)/re*Math.sin(re*le)+F*Math.cos(re*le))}}else if(k===1)U=re=>h-Math.exp(-G*re)*(F+(O+G*F)*re);else{const re=G*Math.sqrt(k*k-1);U=le=>{const P=Math.exp(-k*G*le),L=Math.min(re*le,300);return h-P*((O+k*G*F)*Math.sinh(L)+re*F*Math.cosh(L))/re}}const Z={calculatedDuration:R&&E||null,next:re=>{const le=U(re);if(R)w.done=re>=E;else{let P=re===0?O:0;k<1&&(P=re===0?Io(O):O9(U,re,le));const L=Math.abs(P)<=i,B=Math.abs(h-le)<=c;w.done=L&&B}return w.value=w.done?h:le,w},toString:()=>{const re=Math.min(lm(Z),ff),le=M9(P=>Z.next(re*P).value,re,30);return re+"ms "+le},toTransition:()=>{}};return Z}hf.applyToOptions=e=>{const t=LT(e,100,hf);return e.ease=t.ease,e.duration=Io(t.duration),e.type="keyframes",e};function W0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:h,min:w,max:y,restDelta:g=.5,restSpeed:b}){const E=e[0],T={done:!1,value:E},R=L=>w!==void 0&&L<w||y!==void 0&&L>y,O=L=>w===void 0?y:y===void 0||Math.abs(w-L)<Math.abs(y-L)?w:y;let k=n*t;const F=E+k,G=h===void 0?F:h(F);G!==F&&(k=G-E);const z=L=>-k*Math.exp(-L/i),U=L=>G+z(L),Z=L=>{const B=z(L),K=U(L);T.done=Math.abs(B)<=g,T.value=T.done?G:K};let re,le;const P=L=>{R(T.value)&&(re=L,le=hf({keyframes:[T.value,O(T.value)],velocity:O9(U,L,T.value),damping:c,stiffness:u,restDelta:g,restSpeed:b}))};return P(0),{calculatedDuration:null,next:L=>{let B=!1;return!le&&re===void 0&&(B=!0,Z(L),P(L)),re!==void 0&&L>=re?le.next(L-re):(!B&&Z(L),T)}}}function zT(e,t,n){const i=[],c=n||Ro.mix||D9,u=e.length-1;for(let h=0;h<u;h++){let w=c(e[h],e[h+1]);if(t){const y=Array.isArray(t)?t[h]||us:t;w=Su(y,w)}i.push(w)}return i}function GT(e,t,{clamp:n=!0,ease:i,mixer:c}={}){const u=e.length;if(Jp(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const w=zT(t,i,c),y=w.length,g=b=>{if(h&&b<e[0])return t[0];let E=0;if(y>1)for(;E<e.length-2&&!(b<e[E+1]);E++);const T=du(e[E],e[E+1],b);return w[E](T)};return n?b=>g(to(e[0],e[u-1],b)):g}function XT(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const c=du(0,t,i);e.push(fr(n,1,c))}}function $T(e){const t=[0];return XT(t,e.length-1),t}function YT(e,t){return e.map(n=>n*t)}function ZT(e,t){return e.map(()=>t||C9).splice(0,e.length-1)}function eu({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const c=oT(i)?i.map(Nw):Nw(i),u={done:!1,value:t[0]},h=YT(n&&n.length===t.length?n:$T(t),e),w=GT(h,t,{ease:Array.isArray(c)?c:ZT(t,c)});return{calculatedDuration:e,next:y=>(u.value=w(y),u.done=y>=e,u)}}const KT=e=>e!==null;function cm(e,{repeat:t,repeatType:n="loop"},i,c=1){const u=e.filter(KT),w=c<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!w||i===void 0?u[w]:i}const qT={decay:W0,inertia:W0,tween:eu,keyframes:eu,spring:hf};function k9(e){typeof e.type=="string"&&(e.type=qT[e.type])}class um{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const QT=e=>e/100;class dm extends um{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,c;const{motionValue:n}=this.options;n&&n.updatedAt!==Ci.now()&&this.tick(Ci.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(c=(i=this.options).onStop)==null||c.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;k9(t);const{type:n=eu,repeat:i=0,repeatDelay:c=0,repeatType:u,velocity:h=0}=t;let{keyframes:w}=t;const y=n||eu;y!==eu&&typeof w[0]!="number"&&(this.mixKeyframes=Su(QT,D9(w[0],w[1])),w=[0,100]);const g=y({...t,keyframes:w});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...w].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=lm(g));const{calculatedDuration:b}=g;this.calculatedDuration=b,this.resolvedDuration=b+c,this.totalDuration=this.resolvedDuration*(i+1)-c,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:c,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:w,calculatedDuration:y}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:b,repeat:E,repeatType:T,repeatDelay:R,type:O,onUpdate:k,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const G=this.currentTime-g*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?G<0:G>c;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let U=this.currentTime,Z=i;if(E){const L=Math.min(this.currentTime,c)/w;let B=Math.floor(L),K=L%1;!K&&L>=1&&(K=1),K===1&&B--,B=Math.min(B,E+1),!!(B%2)&&(T==="reverse"?(K=1-K,R&&(K-=R/w)):T==="mirror"&&(Z=h)),U=to(0,1,K)*w}const re=z?{done:!1,value:b[0]}:Z.next(U);u&&(re.value=u(re.value));let{done:le}=re;!z&&y!==null&&(le=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return P&&O!==W0&&(re.value=cm(b,this.options,F,this.speed)),k&&k(re.value),P&&this.finish(),re}then(t,n){return this.finished.then(t,n)}get duration(){return cs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+cs(t)}get time(){return cs(this.currentTime)}set time(t){var n;t=Io(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ci.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=cs(this.currentTime))}play(){var c,u;if(this.isStopped)return;const{driver:t=kT,startTime:n}=this.options;this.driver||(this.driver=t(h=>this.tick(h))),(u=(c=this.options).onPlay)==null||u.call(c);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ci.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function JT(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ya=e=>e*180/Math.PI,z0=e=>{const t=Ya(Math.atan2(e[1],e[0]));return G0(t)},eI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:z0,rotateZ:z0,skewX:e=>Ya(Math.atan(e[1])),skewY:e=>Ya(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},G0=e=>(e=e%360,e<0&&(e+=360),e),kw=z0,Lw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),tI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lw,scaleY:jw,scale:e=>(Lw(e)+jw(e))/2,rotateX:e=>G0(Ya(Math.atan2(e[6],e[5]))),rotateY:e=>G0(Ya(Math.atan2(-e[2],e[0]))),rotateZ:kw,rotate:kw,skewX:e=>Ya(Math.atan(e[4])),skewY:e=>Ya(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function X0(e){return e.includes("scale")?1:0}function $0(e,t){if(!e||e==="none")return X0(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,c;if(n)i=tI,c=n;else{const w=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=eI,c=w}if(!c)return X0(t);const u=i[t],h=c[1].split(",").map(rI);return typeof u=="function"?u(h):h[u]}const nI=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return $0(n,t)};function rI(e){return parseFloat(e.trim())}const ic=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sc=new Set(ic),Bw=e=>e===rc||e===vt,iI=new Set(["x","y","z"]),sI=ic.filter(e=>!iI.has(e));function oI(e){const t=[];return sI.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const sa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$0(t,"x"),y:(e,{transform:t})=>$0(t,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const qa=new Set;let Y0=!1,Z0=!1,K0=!1;function L9(){if(Z0){const e=Array.from(qa).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const c=oI(i);c.length&&(n.set(i,c),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const c=n.get(i);c&&c.forEach(([u,h])=>{var w;(w=i.getValue(u))==null||w.set(h)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Z0=!1,Y0=!1,qa.forEach(e=>e.complete(K0)),qa.clear()}function j9(){qa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Z0=!0)})}function aI(){K0=!0,j9(),L9(),K0=!1}class fm{constructor(t,n,i,c,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=c,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(qa.add(this),Y0||(Y0=!0,Gn.read(j9),Gn.resolveKeyframes(L9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:c}=this;if(t[0]===null){const u=c==null?void 0:c.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&n){const w=i.readValue(n,h);w!=null&&(t[0]=w)}t[0]===void 0&&(t[0]=h),c&&u===void 0&&c.set(t[0])}JT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qa.delete(this)}cancel(){this.state==="scheduled"&&(qa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lI=e=>e.startsWith("--");function cI(e,t,n){lI(t)?e.style.setProperty(t,n):e.style[t]=n}const uI=em(()=>window.ScrollTimeline!==void 0),dI={};function fI(e,t){const n=em(e);return()=>dI[t]??n()}const B9=fI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gc=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Fw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gc([0,.65,.55,1]),circOut:Gc([.55,0,1,.45]),backIn:Gc([.31,.01,.66,-.59]),backOut:Gc([.33,1.53,.69,.99])};function F9(e,t){if(e)return typeof e=="function"?B9()?M9(e,t):"ease-out":E9(e)?Gc(e):Array.isArray(e)?e.map(n=>F9(n,t)||Fw.easeOut):Fw[e]}function hI(e,t,n,{delay:i=0,duration:c=300,repeat:u=0,repeatType:h="loop",ease:w="easeOut",times:y}={},g=void 0){const b={[t]:n};y&&(b.offset=y);const E=F9(w,c);Array.isArray(E)&&(b.easing=E);const T={delay:i,duration:c,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),e.animate(b,T)}function V9(e){return typeof e=="function"&&"applyToOptions"in e}function pI({type:e,...t}){return V9(e)&&B9()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class mI extends um{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:c,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:w,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=t,Jp(typeof t.type!="string");const g=pI(t);this.animation=hI(n,i,c,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const b=cm(c,this.options,w,this.speed);this.updateMotionValue?this.updateMotionValue(b):cI(n,i,b),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,i,c;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((c=(i=this.animation).commitStyles)==null||c.call(i))}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return cs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+cs(t)}get time(){return cs(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Io(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&uI()?(this.animation.timeline=t,us):n(this)}}const U9={anticipate:w9,backInOut:x9,circInOut:v9};function gI(e){return e in U9}function xI(e){typeof e.ease=="string"&&gI(e.ease)&&(e.ease=U9[e.ease])}const k1=10;class wI extends mI{constructor(t){xI(t),k9(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:c,element:u,...h}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const w=new dm({...h,autoplay:!1}),y=Math.max(k1,Ci.now()-this.startTime),g=to(0,k1,y-k1);n.setWithVelocity(w.sample(Math.max(0,y-g)).value,w.sample(y).value,g),w.stop()}}const Vw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ca.test(e)||e==="0")&&!e.startsWith("url("));function yI(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function vI(e,t,n,i){const c=e[0];if(c===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],h=Vw(c,t),w=Vw(u,t);return!h||!w?!1:yI(e)||(n==="spring"||V9(n))&&i}function q0(e){e.duration=0,e.type="keyframes"}const CI=new Set(["opacity","clipPath","filter","transform"]),EI=em(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bI(e){var b;const{motionValue:t,name:n,repeatDelay:i,repeatType:c,damping:u,type:h}=e;if(!(((b=t==null?void 0:t.owner)==null?void 0:b.current)instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:g}=t.owner.getProps();return EI()&&n&&CI.has(n)&&(n!=="transform"||!g)&&!y&&!i&&c!=="mirror"&&u!==0&&h!=="inertia"}const SI=40;class AI extends um{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:h="loop",keyframes:w,name:y,motionValue:g,element:b,...E}){var O;super(),this.stop=()=>{var k,F;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(F=this.keyframeResolver)==null||F.cancel()},this.createdAt=Ci.now();const T={autoplay:t,delay:n,type:i,repeat:c,repeatDelay:u,repeatType:h,name:y,motionValue:g,element:b,...E},R=(b==null?void 0:b.KeyframeResolver)||fm;this.keyframeResolver=new R(w,(k,F,G)=>this.onKeyframesResolved(k,F,T,!G),y,g,b),(O=this.keyframeResolver)==null||O.scheduleResolve()}onKeyframesResolved(t,n,i,c){var F,G;this.keyframeResolver=void 0;const{name:u,type:h,velocity:w,delay:y,isHandoff:g,onUpdate:b}=i;this.resolvedAt=Ci.now(),vI(t,u,h,w)||((Ro.instantAnimations||!y)&&(b==null||b(cm(t,i,n))),t[0]=t[t.length-1],q0(i),i.repeat=0);const T={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>SI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},R=!g&&bI(T),O=(G=(F=T.motionValue)==null?void 0:F.owner)==null?void 0:G.current,k=R?new wI({...T,element:O}):new dm(T);k.finished.then(()=>{this.notifyFinished()}).catch(us),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),aI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function H9(e,t,n,i=0,c=1){const u=Array.from(e).sort((g,b)=>g.sortNodePosition(b)).indexOf(t),h=e.size,w=(h-1)*i;return typeof n=="function"?n(u,h):c===1?u*i:w-u*i}const TI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function II(e){const t=TI.exec(e);if(!t)return[,];const[,n,i,c]=t;return[`--${n??i}`,c]}function W9(e,t,n=1){const[i,c]=II(e);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const h=u.trim();return c9(h)?parseFloat(h):h}return im(c)?W9(c,t,n+1):c}const NI={type:"spring",stiffness:500,damping:25,restSpeed:10},RI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_I={type:"keyframes",duration:.8},PI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DI=(e,{keyframes:t})=>t.length>2?_I:sc.has(e)?e.startsWith("scale")?RI(t[1]):NI:PI,MI=e=>e!==null;function OI(e,{repeat:t,repeatType:n="loop"},i){const c=e.filter(MI),u=t&&n!=="loop"&&t%2===1?0:c.length-1;return c[u]}function hm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function kI({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:c,repeat:u,repeatType:h,repeatDelay:w,from:y,elapsed:g,...b}){return!!Object.keys(b).length}const pm=(e,t,n,i={},c,u)=>h=>{const w=hm(i,e)||{},y=w.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Io(y);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...w,delay:-g,onUpdate:T=>{t.set(T),w.onUpdate&&w.onUpdate(T)},onComplete:()=>{h(),w.onComplete&&w.onComplete()},name:e,motionValue:t,element:u?void 0:c};kI(w)||Object.assign(b,DI(e,b)),b.duration&&(b.duration=Io(b.duration)),b.repeatDelay&&(b.repeatDelay=Io(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let E=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(q0(b),b.delay===0&&(E=!0)),(Ro.instantAnimations||Ro.skipAnimations||c!=null&&c.shouldSkipAnimations)&&(E=!0,q0(b),b.delay=0),b.allowFlatten=!w.type&&!w.ease,E&&!u&&t.get()!==void 0){const T=OI(b.keyframes,w);if(T!==void 0){Gn.update(()=>{b.onUpdate(T),b.onComplete()});return}}return w.isSync?new dm(b):new AI(b)};function Uw(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function mm(e,t,n,i){if(typeof t=="function"){const[c,u]=Uw(i);t=t(n!==void 0?n:e.custom,c,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[c,u]=Uw(i);t=t(n!==void 0?n:e.custom,c,u)}return t}function Xl(e,t,n){const i=e.getProps();return mm(i,t,n!==void 0?n:i.custom,e)}const z9=new Set(["width","height","top","left","right","bottom",...ic]),Hw=30,LI=e=>!isNaN(parseFloat(e));class jI{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var u;const c=Ci.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ci.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=LI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new tm);const i=this.events[t].add(n);return t==="change"?()=>{i(),Gn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hw);return f9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ql(e,t){return new jI(e,t)}const Q0=e=>Array.isArray(e);function BI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ql(n))}function FI(e){return Q0(e)?e[e.length-1]||0:e}function VI(e,t){const n=Xl(e,t);let{transitionEnd:i={},transition:c={},...u}=n||{};u={...u,...i};for(const h in u){const w=FI(u[h]);BI(e,h,w)}}const di=e=>!!(e&&e.getVelocity);function UI(e){return!!(di(e)&&e.add)}function J0(e,t){const n=e.getValue("willChange");if(UI(n))return n.add(t);if(!n&&Ro.WillChange){const i=new Ro.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function gm(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const HI="framerAppearId",G9="data-"+gm(HI);function X9(e){return e.props[G9]}function WI({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function $9(e,t,{delay:n=0,transitionOverride:i,type:c}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:h,...w}=t;const y=u==null?void 0:u.reduceMotion;i&&(u=i);const g=[],b=c&&e.animationState&&e.animationState.getState()[c];for(const E in w){const T=e.getValue(E,e.latestValues[E]??null),R=w[E];if(R===void 0||b&&WI(b,E))continue;const O={delay:n,...hm(u||{},E)},k=T.get();if(k!==void 0&&!T.isAnimating&&!Array.isArray(R)&&R===k&&!O.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const U=X9(e);if(U){const Z=window.MotionHandoffAnimation(U,E,Gn);Z!==null&&(O.startTime=Z,F=!0)}}J0(e,E);const G=y??e.shouldReduceMotion;T.start(pm(E,T,R,G&&z9.has(E)?{type:!1}:O,e,F));const z=T.animation;z&&g.push(z)}return h&&Promise.all(g).then(()=>{Gn.update(()=>{h&&VI(e,h)})}),g}function ep(e,t,n={}){var y;const i=Xl(e,t,n.type==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(c=n.transitionOverride);const u=i?()=>Promise.all($9(e,i,n)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:b=0,staggerChildren:E,staggerDirection:T}=c;return zI(e,t,g,b,E,T,n)}:()=>Promise.resolve(),{when:w}=c;if(w){const[g,b]=w==="beforeChildren"?[u,h]:[h,u];return g().then(()=>b())}else return Promise.all([u(),h(n.delay)])}function zI(e,t,n=0,i=0,c=0,u=1,h){const w=[];for(const y of e.variantChildren)y.notify("AnimationStart",t),w.push(ep(y,t,{...h,delay:n+(typeof i=="function"?0:i)+H9(e.variantChildren,y,i,c,u)}).then(()=>y.notify("AnimationComplete",t)));return Promise.all(w)}function GI(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const c=t.map(u=>ep(e,u,n));i=Promise.all(c)}else if(typeof t=="string")i=ep(e,t,n);else{const c=typeof t=="function"?Xl(e,t,n.custom):t;i=Promise.all($9(e,c,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const XI={test:e=>e==="auto",parse:e=>e},Y9=e=>t=>t.test(e),Z9=[rc,vt,Qs,ea,yT,wT,XI],Ww=e=>Z9.find(Y9(e));function $I(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||d9(e):!0}const YI=new Set(["brightness","contrast","saturate","opacity"]);function ZI(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(sm)||[];if(!i)return e;const c=n.replace(i,"");let u=YI.has(t)?1:0;return i!==n&&(u*=100),t+"("+u+c+")"}const KI=/\b([a-z-]*)\(.*?\)/gu,tp={...ca,getAnimatableNone:e=>{const t=e.match(KI);return t?t.map(ZI).join(" "):e}},zw={...rc,transform:Math.round},qI={rotate:ea,rotateX:ea,rotateY:ea,rotateZ:ea,scale:Md,scaleX:Md,scaleY:Md,scaleZ:Md,skew:ea,skewX:ea,skewY:ea,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:fu,originX:_w,originY:_w,originZ:vt},xm={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,inset:vt,insetBlock:vt,insetBlockStart:vt,insetBlockEnd:vt,insetInline:vt,insetInlineStart:vt,insetInlineEnd:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,paddingBlock:vt,paddingBlockStart:vt,paddingBlockEnd:vt,paddingInline:vt,paddingInlineStart:vt,paddingInlineEnd:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,marginBlock:vt,marginBlockStart:vt,marginBlockEnd:vt,marginInline:vt,marginInlineStart:vt,marginInlineEnd:vt,fontSize:vt,backgroundPositionX:vt,backgroundPositionY:vt,...qI,zIndex:zw,fillOpacity:fu,strokeOpacity:fu,numOctaves:zw},QI={...xm,color:_r,backgroundColor:_r,outlineColor:_r,fill:_r,stroke:_r,borderColor:_r,borderTopColor:_r,borderRightColor:_r,borderBottomColor:_r,borderLeftColor:_r,filter:tp,WebkitFilter:tp},K9=e=>QI[e];function q9(e,t){let n=K9(e);return n!==tp&&(n=ca),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const JI=new Set(["auto","none","0"]);function eN(e,t,n){let i=0,c;for(;i<e.length&&!c;){const u=e[i];typeof u=="string"&&!JI.has(u)&&hu(u).values.length&&(c=e[i]),i++}if(c&&n)for(const u of t)e[u]=q9(n,c)}class tN extends fm{constructor(t,n,i,c,u){super(t,n,i,c,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let b=0;b<t.length;b++){let E=t[b];if(typeof E=="string"&&(E=E.trim(),im(E))){const T=W9(E,n.current);T!==void 0&&(t[b]=T),b===t.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!z9.has(i)||t.length!==2)return;const[c,u]=t,h=Ww(c),w=Ww(u),y=Rw(c),g=Rw(u);if(y!==g&&sa[i]){this.needsMeasurement=!0;return}if(h!==w)if(Bw(h)&&Bw(w))for(let b=0;b<t.length;b++){const E=t[b];typeof E=="string"&&(t[b]=parseFloat(E))}else sa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let c=0;c<t.length;c++)(t[c]===null||$I(t[c]))&&i.push(c);i.length&&eN(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const c=n[n.length-1];c!==void 0&&t.getValue(i,c).jump(c,!1)}measureEndState(){var w;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const c=t.getValue(n);c&&c.jump(this.measuredOrigin,!1);const u=i.length-1,h=i[u];i[u]=sa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),(w=this.removedTransforms)!=null&&w.length&&this.removedTransforms.forEach(([y,g])=>{t.getValue(y).set(g)}),this.resolveNoneKeyframes()}}function nN(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const c=(n==null?void 0:n[e])??i.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e).filter(i=>i!=null)}const Q9=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function rN(e){return u9(e)&&"offsetHeight"in e}const{schedule:wm}=b9(queueMicrotask,!1),Ts={x:!1,y:!1};function J9(){return Ts.x||Ts.y}function iN(e){return e==="x"||e==="y"?Ts[e]?null:(Ts[e]=!0,()=>{Ts[e]=!1}):Ts.x||Ts.y?null:(Ts.x=Ts.y=!0,()=>{Ts.x=Ts.y=!1})}function e4(e,t){const n=nN(e),i=new AbortController,c={passive:!0,...t,signal:i.signal};return[n,c,()=>i.abort()]}function Gw(e){return!(e.pointerType==="touch"||J9())}function sN(e,t,n={}){const[i,c,u]=e4(e,n),h=w=>{if(!Gw(w))return;const{target:y}=w,g=t(y,w);if(typeof g!="function"||!y)return;const b=E=>{Gw(E)&&(g(E),y.removeEventListener("pointerleave",b))};y.addEventListener("pointerleave",b,c)};return i.forEach(w=>{w.addEventListener("pointerenter",h,c)}),u}const t4=(e,t)=>t?e===t?!0:t4(e,t.parentElement):!1,ym=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,oN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aN(e){return oN.has(e.tagName)||e.isContentEditable===!0}const lN=new Set(["INPUT","SELECT","TEXTAREA"]);function cN(e){return lN.has(e.tagName)||e.isContentEditable===!0}const Qd=new WeakSet;function Xw(e){return t=>{t.key==="Enter"&&e(t)}}function L1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const uN=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Xw(()=>{if(Qd.has(n))return;L1(n,"down");const c=Xw(()=>{L1(n,"up")}),u=()=>L1(n,"cancel");n.addEventListener("keyup",c,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function $w(e){return ym(e)&&!J9()}function dN(e,t,n={}){const[i,c,u]=e4(e,n),h=w=>{const y=w.currentTarget;if(!$w(w))return;Qd.add(y);const g=t(y,w),b=(R,O)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",T),Qd.has(y)&&Qd.delete(y),$w(R)&&typeof g=="function"&&g(R,{success:O})},E=R=>{b(R,y===window||y===document||n.useGlobalTarget||t4(y,R.target))},T=R=>{b(R,!1)};window.addEventListener("pointerup",E,c),window.addEventListener("pointercancel",T,c)};return i.forEach(w=>{(n.useGlobalTarget?window:w).addEventListener("pointerdown",h,c),rN(w)&&(w.addEventListener("focus",g=>uN(g,c)),!aN(w)&&!w.hasAttribute("tabindex")&&(w.tabIndex=0))}),u}function n4(e){return u9(e)&&"ownerSVGElement"in e}function fN(e){return n4(e)&&e.tagName==="svg"}const hN=[...Z9,_r,ca],pN=e=>hN.find(Y9(e)),Yw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bl=()=>({x:Yw(),y:Yw()}),Zw=()=>({min:0,max:0}),jr=()=>({x:Zw(),y:Zw()}),np={current:null},r4={current:!1},mN=typeof window<"u";function gN(){if(r4.current=!0,!!mN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>np.current=e.matches;e.addEventListener("change",t),t()}else np.current=!1}const xN=new WeakMap;function Bf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function pu(e){return typeof e=="string"||Array.isArray(e)}const vm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cm=["initial",...vm];function Ff(e){return Bf(e.animate)||Cm.some(t=>pu(e[t]))}function i4(e){return!!(Ff(e)||e.variants)}function wN(e,t,n){for(const i in t){const c=t[i],u=n[i];if(di(c))e.addValue(i,c);else if(di(u))e.addValue(i,Ql(c,{owner:e}));else if(u!==c)if(e.hasValue(i)){const h=e.getValue(i);h.liveStyle===!0?h.jump(c):h.hasAnimated||h.set(c)}else{const h=e.getStaticValue(i);e.addValue(i,Ql(h!==void 0?h:c,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let pf={};function s4(e){pf=e}function yN(){return pf}class vN{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:c,skipAnimations:u,blockInitialAnimation:h,visualState:w},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=fm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=Ci.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,Gn.render(this.render,!1,!0))};const{latestValues:g,renderState:b}=w;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=b,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=c,this.skipAnimationsConfig=u,this.options=y,this.blockInitialAnimation=!!h,this.isControllingVariants=Ff(n),this.isVariantNode=i4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const R in T){const O=T[R];g[R]!==void 0&&di(O)&&O.set(g[R])}}mount(t){var n;this.current=t,xN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,c)=>this.bindToMotionValue(c,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(r4.current||gN(),this.shouldReduceMotion=np.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),la(this.notifyUpdate),la(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=sc.has(t);i&&this.onBindTransform&&this.onBindTransform();const c=n.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&Gn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{c(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pf){const n=pf[t];if(!n)continue;const{isEnabled:i,Feature:c}=n;if(!this.features[t]&&c&&i(this.props)&&(this.features[t]=new c(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Kw.length;i++){const c=Kw[i];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u="on"+c,h=t[u];h&&(this.propEventSubscriptions[c]=this.on(c,h))}this.prevMotionValues=wN(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Ql(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(c9(i)||d9(i))?i=parseFloat(i):!pN(i)&&ca.test(n)&&(i=q9(t,n)),this.setBaseTarget(t,di(i)?i.get():i)),di(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var u;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const h=mm(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);h&&(i=h[t])}if(n&&i!==void 0)return i;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!di(c)?c:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new tm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){wm.render(this.render)}}class o4 extends vN{constructor(){super(...arguments),this.KeyframeResolver=tN}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;di(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class xa{constructor(t){this.isMounted=!1,this.node=t}update(){}}function a4({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function CN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function EN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function j1(e){return e===void 0||e===1}function rp({scale:e,scaleX:t,scaleY:n}){return!j1(e)||!j1(t)||!j1(n)}function Wa(e){return rp(e)||l4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function l4(e){return qw(e.x)||qw(e.y)}function qw(e){return e&&e!=="0%"}function mf(e,t,n){const i=e-n,c=t*i;return n+c}function Qw(e,t,n,i,c){return c!==void 0&&(e=mf(e,c,i)),mf(e,n,i)+t}function ip(e,t=0,n=1,i,c){e.min=Qw(e.min,t,n,i,c),e.max=Qw(e.max,t,n,i,c)}function c4(e,{x:t,y:n}){ip(e.x,t.translate,t.scale,t.originPoint),ip(e.y,n.translate,n.scale,n.originPoint)}const Jw=.999999999999,ey=1.0000000000001;function bN(e,t,n,i=!1){const c=n.length;if(!c)return;t.x=t.y=1;let u,h;for(let w=0;w<c;w++){u=n[w],h=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Vl(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,c4(e,h)),i&&Wa(u.latestValues)&&Vl(e,u.latestValues))}t.x<ey&&t.x>Jw&&(t.x=1),t.y<ey&&t.y>Jw&&(t.y=1)}function Fl(e,t){e.min=e.min+t,e.max=e.max+t}function ty(e,t,n,i,c=.5){const u=fr(e.min,e.max,c);ip(e,t,n,u,i)}function Vl(e,t){ty(e.x,t.x,t.scaleX,t.scale,t.originX),ty(e.y,t.y,t.scaleY,t.scale,t.originY)}function u4(e,t){return a4(EN(e.getBoundingClientRect(),t))}function SN(e,t,n){const i=u4(e,n),{scroll:c}=t;return c&&(Fl(i.x,c.offset.x),Fl(i.y,c.offset.y)),i}const AN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TN=ic.length;function IN(e,t,n){let i="",c=!0;for(let u=0;u<TN;u++){const h=ic[u],w=e[h];if(w===void 0)continue;let y=!0;if(typeof w=="number")y=w===(h.startsWith("scale")?1:0);else{const g=parseFloat(w);y=h.startsWith("scale")?g===1:g===0}if(!y||n){const g=Q9(w,xm[h]);if(!y){c=!1;const b=AN[h]||h;i+=`${b}(${g}) `}n&&(t[h]=g)}}return i=i.trim(),n?i=n(t,c?"":i):c&&(i="none"),i}function Em(e,t,n){const{style:i,vars:c,transformOrigin:u}=e;let h=!1,w=!1;for(const y in t){const g=t[y];if(sc.has(y)){h=!0;continue}else if(A9(y)){c[y]=g;continue}else{const b=Q9(g,xm[y]);y.startsWith("origin")?(w=!0,u[y]=b):i[y]=b}}if(t.transform||(h||n?i.transform=IN(t,e.transform,n):i.transform&&(i.transform="none")),w){const{originX:y="50%",originY:g="50%",originZ:b=0}=u;i.transformOrigin=`${y} ${g} ${b}`}}function d4(e,{style:t,vars:n},i,c){const u=e.style;let h;for(h in t)u[h]=t[h];c==null||c.applyProjectionStyles(u,i);for(h in n)u.setProperty(h,n[h])}function ny(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(vt.test(e))e=parseFloat(e);else return e;const n=ny(e,t.target.x),i=ny(e,t.target.y);return`${n}% ${i}%`}},NN={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,c=ca.parse(e);if(c.length>5)return i;const u=ca.createTransformer(e),h=typeof c[0]!="number"?1:0,w=n.x.scale*t.x,y=n.y.scale*t.y;c[0+h]/=w,c[1+h]/=y;const g=fr(w,y,.5);return typeof c[2+h]=="number"&&(c[2+h]/=g),typeof c[3+h]=="number"&&(c[3+h]/=g),u(c)}},sp={borderRadius:{...Bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bc,borderTopRightRadius:Bc,borderBottomLeftRadius:Bc,borderBottomRightRadius:Bc,boxShadow:NN};function f4(e,{layout:t,layoutId:n}){return sc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!sp[e]||e==="opacity")}function bm(e,t,n){var h;const i=e.style,c=t==null?void 0:t.style,u={};if(!i)return u;for(const w in i)(di(i[w])||c&&di(c[w])||f4(w,e)||((h=n==null?void 0:n.getValue(w))==null?void 0:h.liveStyle)!==void 0)&&(u[w]=i[w]);return u}function RN(e){return window.getComputedStyle(e)}class _N extends o4{constructor(){super(...arguments),this.type="html",this.renderInstance=d4}readValueFromInstance(t,n){var i;if(sc.has(n))return(i=this.projection)!=null&&i.isProjecting?X0(n):nI(t,n);{const c=RN(t),u=(A9(n)?c.getPropertyValue(n):c[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:n}){return u4(t,n)}build(t,n,i){Em(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return bm(t,n,i)}}const PN={offset:"stroke-dashoffset",array:"stroke-dasharray"},DN={offset:"strokeDashoffset",array:"strokeDasharray"};function MN(e,t,n=1,i=0,c=!0){e.pathLength=1;const u=c?PN:DN;e[u.offset]=`${-i}`,e[u.array]=`${t} ${n}`}const ON=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function h4(e,{attrX:t,attrY:n,attrScale:i,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...w},y,g,b){if(Em(e,w,g),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:T}=e;E.transform&&(T.transform=E.transform,delete E.transform),(T.transform||E.transformOrigin)&&(T.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),T.transform&&(T.transformBox=(b==null?void 0:b.transformBox)??"fill-box",delete E.transformBox);for(const R of ON)E[R]!==void 0&&(T[R]=E[R],delete E[R]);t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),c!==void 0&&MN(E,c,u,h,!1)}const p4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),m4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kN(e,t,n,i){d4(e,t,void 0,i);for(const c in t.attrs)e.setAttribute(p4.has(c)?c:gm(c),t.attrs[c])}function g4(e,t,n){const i=bm(e,t,n);for(const c in e)if(di(e[c])||di(t[c])){const u=ic.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;i[u]=e[c]}return i}class LN extends o4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(sc.has(n)){const i=K9(n);return i&&i.default||0}return n=p4.has(n)?n:gm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return g4(t,n,i)}build(t,n,i){h4(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,c){kN(t,n,i,c)}mount(t){this.isSVGTag=m4(t.tagName),super.mount(t)}}const jN=Cm.length;function x4(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?x4(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<jN;n++){const i=Cm[n],c=e.props[i];(pu(c)||c===!1)&&(t[i]=c)}return t}function w4(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const BN=[...vm].reverse(),FN=vm.length;function VN(e){return t=>Promise.all(t.map(({animation:n,options:i})=>GI(e,n,i)))}function UN(e){let t=VN(e),n=ry(),i=!0;const c=y=>(g,b)=>{var T;const E=Xl(e,b,y==="exit"?(T=e.presenceContext)==null?void 0:T.custom:void 0);if(E){const{transition:R,transitionEnd:O,...k}=E;g={...g,...k,...O}}return g};function u(y){t=y(e)}function h(y){const{props:g}=e,b=x4(e.parent)||{},E=[],T=new Set;let R={},O=1/0;for(let F=0;F<FN;F++){const G=BN[F],z=n[G],U=g[G]!==void 0?g[G]:b[G],Z=pu(U),re=G===y?z.isActive:null;re===!1&&(O=F);let le=U===b[G]&&U!==g[G]&&Z;if(le&&i&&e.manuallyAnimateOnMount&&(le=!1),z.protectedKeys={...R},!z.isActive&&re===null||!U&&!z.prevProp||Bf(U)||typeof U=="boolean")continue;const P=HN(z.prevProp,U);let L=P||G===y&&z.isActive&&!le&&Z||F>O&&Z,B=!1;const K=Array.isArray(U)?U:[U];let q=K.reduce(c(G),{});re===!1&&(q={});const{prevResolvedValues:ee={}}=z,X={...ee,...q},Pe=xe=>{L=!0,T.has(xe)&&(B=!0,T.delete(xe)),z.needsAnimating[xe]=!0;const oe=e.getValue(xe);oe&&(oe.liveStyle=!1)};for(const xe in X){const oe=q[xe],ce=ee[xe];if(R.hasOwnProperty(xe))continue;let ue=!1;Q0(oe)&&Q0(ce)?ue=!w4(oe,ce):ue=oe!==ce,ue?oe!=null?Pe(xe):T.add(xe):oe!==void 0&&T.has(xe)?Pe(xe):z.protectedKeys[xe]=!0}z.prevProp=U,z.prevResolvedValues=q,z.isActive&&(R={...R,...q}),i&&e.blockInitialAnimation&&(L=!1);const ne=le&&P;L&&(!ne||B)&&E.push(...K.map(xe=>{const oe={type:G};if(typeof xe=="string"&&i&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:ce}=e,ue=Xl(ce,xe);if(ce.enteringChildren&&ue){const{delayChildren:J}=ue.transition||{};oe.delay=H9(ce.enteringChildren,e,J)}}return{animation:xe,options:oe}}))}if(T.size){const F={};if(typeof g.initial!="boolean"){const G=Xl(e,Array.isArray(g.initial)?g.initial[0]:g.initial);G&&G.transition&&(F.transition=G.transition)}T.forEach(G=>{const z=e.getBaseTarget(G),U=e.getValue(G);U&&(U.liveStyle=!0),F[G]=z??null}),E.push({animation:F})}let k=!!E.length;return i&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(k=!1),i=!1,k?t(E):Promise.resolve()}function w(y,g){var E;if(n[y].isActive===g)return Promise.resolve();(E=e.variantChildren)==null||E.forEach(T=>{var R;return(R=T.animationState)==null?void 0:R.setActive(y,g)}),n[y].isActive=g;const b=h(y);for(const T in n)n[T].protectedKeys={};return b}return{animateChanges:h,setActive:w,setAnimateFunction:u,getState:()=>n,reset:()=>{n=ry()}}}function HN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!w4(t,e):!1}function Va(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ry(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}function iy(e,t){e.min=t.min,e.max=t.max}function As(e,t){iy(e.x,t.x),iy(e.y,t.y)}function sy(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const y4=1e-4,WN=1-y4,zN=1+y4,v4=.01,GN=0-v4,XN=0+v4;function Ei(e){return e.max-e.min}function $N(e,t,n){return Math.abs(e-t)<=n}function oy(e,t,n,i=.5){e.origin=i,e.originPoint=fr(t.min,t.max,e.origin),e.scale=Ei(n)/Ei(t),e.translate=fr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=WN&&e.scale<=zN||isNaN(e.scale))&&(e.scale=1),(e.translate>=GN&&e.translate<=XN||isNaN(e.translate))&&(e.translate=0)}function tu(e,t,n,i){oy(e.x,t.x,n.x,i?i.originX:void 0),oy(e.y,t.y,n.y,i?i.originY:void 0)}function ay(e,t,n){e.min=n.min+t.min,e.max=e.min+Ei(t)}function YN(e,t,n){ay(e.x,t.x,n.x),ay(e.y,t.y,n.y)}function ly(e,t,n){e.min=t.min-n.min,e.max=e.min+Ei(t)}function gf(e,t,n){ly(e.x,t.x,n.x),ly(e.y,t.y,n.y)}function cy(e,t,n,i,c){return e-=t,e=mf(e,1/n,i),c!==void 0&&(e=mf(e,1/c,i)),e}function ZN(e,t=0,n=1,i=.5,c,u=e,h=e){if(Qs.test(t)&&(t=parseFloat(t),t=fr(h.min,h.max,t/100)-h.min),typeof t!="number")return;let w=fr(u.min,u.max,i);e===u&&(w-=t),e.min=cy(e.min,t,n,w,c),e.max=cy(e.max,t,n,w,c)}function uy(e,t,[n,i,c],u,h){ZN(e,t[n],t[i],t[c],t.scale,u,h)}const KN=["x","scaleX","originX"],qN=["y","scaleY","originY"];function dy(e,t,n,i){uy(e.x,t,KN,n?n.x:void 0,i?i.x:void 0),uy(e.y,t,qN,n?n.y:void 0,i?i.y:void 0)}function fy(e){return e.translate===0&&e.scale===1}function C4(e){return fy(e.x)&&fy(e.y)}function hy(e,t){return e.min===t.min&&e.max===t.max}function QN(e,t){return hy(e.x,t.x)&&hy(e.y,t.y)}function py(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function E4(e,t){return py(e.x,t.x)&&py(e.y,t.y)}function my(e){return Ei(e.x)/Ei(e.y)}function gy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function as(e){return[e("x"),e("y")]}function JN(e,t,n){let i="";const c=e.x.translate/t.x,u=e.y.translate/t.y,h=(n==null?void 0:n.z)||0;if((c||u||h)&&(i=`translate3d(${c}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:b,rotateX:E,rotateY:T,skewX:R,skewY:O}=n;g&&(i=`perspective(${g}px) ${i}`),b&&(i+=`rotate(${b}deg) `),E&&(i+=`rotateX(${E}deg) `),T&&(i+=`rotateY(${T}deg) `),R&&(i+=`skewX(${R}deg) `),O&&(i+=`skewY(${O}deg) `)}const w=e.x.scale*t.x,y=e.y.scale*t.y;return(w!==1||y!==1)&&(i+=`scale(${w}, ${y})`),i||"none"}const b4=["TopLeft","TopRight","BottomLeft","BottomRight"],eR=b4.length,xy=e=>typeof e=="string"?parseFloat(e):e,wy=e=>typeof e=="number"||vt.test(e);function tR(e,t,n,i,c,u){c?(e.opacity=fr(0,n.opacity??1,nR(i)),e.opacityExit=fr(t.opacity??1,0,rR(i))):u&&(e.opacity=fr(t.opacity??1,n.opacity??1,i));for(let h=0;h<eR;h++){const w=`border${b4[h]}Radius`;let y=yy(t,w),g=yy(n,w);if(y===void 0&&g===void 0)continue;y||(y=0),g||(g=0),y===0||g===0||wy(y)===wy(g)?(e[w]=Math.max(fr(xy(y),xy(g),i),0),(Qs.test(g)||Qs.test(y))&&(e[w]+="%")):e[w]=g}(t.rotate||n.rotate)&&(e.rotate=fr(t.rotate||0,n.rotate||0,i))}function yy(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nR=S4(0,.5,y9),rR=S4(.5,.95,us);function S4(e,t,n){return i=>i<e?0:i>t?1:n(du(e,t,i))}function iR(e,t,n){const i=di(e)?e:Ql(e);return i.start(pm("",i,t,n)),i.animation}function mu(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const sR=(e,t)=>e.depth-t.depth;class oR{constructor(){this.children=[],this.isDirty=!1}add(t){qp(this.children,t),this.isDirty=!0}remove(t){Qp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sR),this.isDirty=!1,this.children.forEach(t)}}function aR(e,t){const n=Ci.now(),i=({timestamp:c})=>{const u=c-n;u>=t&&(la(i),e(u-t))};return Gn.setup(i,!0),()=>la(i)}function Jd(e){return di(e)?e.get():e}class lR{constructor(){this.members=[]}add(t){qp(this.members,t),t.scheduleRender()}remove(t){if(Qp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(c=>t===c);if(n===0)return!1;let i;for(let c=n;c>=0;c--){const u=this.members[c];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const c=i.options.layoutDependency,u=t.options.layoutDependency;c!==void 0&&u!==void 0&&c===u||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:w}=t.options;w===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1},B1=["","X","Y","Z"],cR=1e3;let uR=0;function F1(e,t,n,i){const{latestValues:c}=t;c[e]&&(n[e]=c[e],t.setStaticValue(e,0),i&&(i[e]=0))}function A4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=X9(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:c,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Gn,!(c||u))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&A4(i)}function T4({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:c}){return class{constructor(h={},w=t==null?void 0:t()){this.id=uR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hR),this.nodes.forEach(xR),this.nodes.forEach(wR),this.nodes.forEach(pR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=w?w.root||w:this,this.path=w?[...w.path,w]:[],this.parent=w,this.depth=w?w.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new oR)}addEventListener(h,w){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new tm),this.eventHandlers.get(h).add(w)}notifyListeners(h,...w){const y=this.eventHandlers.get(h);y&&y.notify(...w)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=n4(h)&&!fN(h),this.instance=h;const{layoutId:w,layout:y,visualElement:g}=this.options;if(g&&!g.current&&g.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||w)&&(this.isLayoutDirty=!0),e){let b,E=0;const T=()=>this.root.updateBlockedByResize=!1;Gn.read(()=>{E=window.innerWidth}),e(h,()=>{const R=window.innerWidth;R!==E&&(E=R,this.root.updateBlockedByResize=!0,b&&b(),b=aR(T,250),ef.hasAnimatedSinceResize&&(ef.hasAnimatedSinceResize=!1,this.nodes.forEach(Ey)))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&g&&(w||y)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:E,hasRelativeLayoutChanged:T,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||g.getDefaultTransition()||bR,{onLayoutAnimationStart:k,onLayoutAnimationComplete:F}=g.getProps(),G=!this.targetLayout||!E4(this.targetLayout,R),z=!E&&T;if(this.options.layoutRoot||this.resumeFrom||z||E&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...hm(O,"layout"),onPlay:k,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(b,z)}else E||Ey(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),la(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yR),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const E=this.path[b];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:w,layout:y}=this.options;if(w===void 0&&!y)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gR),this.nodes.forEach(dR),this.nodes.forEach(fR)):this.nodes.forEach(Cy),this.clearAllSnapshots();const w=Ci.now();Jr.delta=to(0,1e3/60,w-Jr.timestamp),Jr.timestamp=w,Jr.isProcessing=!0,_1.update.process(Jr),_1.preRender.process(Jr),_1.render.process(Jr),Jr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mR),this.sharedNodes.forEach(vR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ei(this.snapshot.measuredBox.x)&&!Ei(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:w}=this.options;w&&w.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let w=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(w=!1),w&&this.instance){const y=i(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:y,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!c)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,w=this.projectionDelta&&!C4(this.projectionDelta),y=this.getTransformTemplate(),g=y?y(this.latestValues,""):void 0,b=g!==this.prevTransformTemplateValue;h&&this.instance&&(w||Wa(this.latestValues)||b)&&(c(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const w=this.measurePageBox();let y=this.removeElementScroll(w);return h&&(y=this.removeTransform(y)),SR(y),{animationId:this.root.animationId,measuredBox:w,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:h}=this.options;if(!h)return jr();const w=h.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(AR))){const{scroll:b}=this.root;b&&(Fl(w.x,b.offset.x),Fl(w.y,b.offset.y))}return w}removeElementScroll(h){var y;const w=jr();if(As(w,h),(y=this.scroll)!=null&&y.wasRoot)return w;for(let g=0;g<this.path.length;g++){const b=this.path[g],{scroll:E,options:T}=b;b!==this.root&&E&&T.layoutScroll&&(E.wasRoot&&As(w,h),Fl(w.x,E.offset.x),Fl(w.y,E.offset.y))}return w}applyTransform(h,w=!1){const y=jr();As(y,h);for(let g=0;g<this.path.length;g++){const b=this.path[g];!w&&b.options.layoutScroll&&b.scroll&&b!==b.root&&Vl(y,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Wa(b.latestValues)&&Vl(y,b.latestValues)}return Wa(this.latestValues)&&Vl(y,this.latestValues),y}removeTransform(h){const w=jr();As(w,h);for(let y=0;y<this.path.length;y++){const g=this.path[y];if(!g.instance||!Wa(g.latestValues))continue;rp(g.latestValues)&&g.updateSnapshot();const b=jr(),E=g.measurePageBox();As(b,E),dy(w,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,b)}return Wa(this.latestValues)&&dy(w,this.latestValues),w}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var R;const w=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=w.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=w.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=w.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==w;if(!(h||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:E}=this.options;if(!this.layout||!(b||E))return;this.resolvedRelativeTargetAt=Jr.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jr(),this.targetWithTransforms=jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),c4(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||rp(this.parent.latestValues)||l4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(h,w,y){this.relativeParent=h,this.linkedParentVersion=h.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),gf(this.relativeTargetOrigin,w,y),As(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var O;const h=this.getLead(),w=!!this.resumingFrom||this!==h;let y=!0;if((this.isProjectionDirty||(O=this.parent)!=null&&O.isProjectionDirty)&&(y=!1),w&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Jr.timestamp&&(y=!1),y)return;const{layout:g,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||b))return;As(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,T=this.treeScale.y;bN(this.layoutCorrected,this.treeScale,this.path,w),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=jr());const{target:R}=h;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sy(this.prevProjectionDelta.x,this.projectionDelta.x),sy(this.prevProjectionDelta.y,this.projectionDelta.y)),tu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==T||!gy(this.projectionDelta.x,this.prevProjectionDelta.x)||!gy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var w;if((w=this.options.visualElement)==null||w.scheduleRender(),h){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bl(),this.projectionDelta=Bl(),this.projectionDeltaWithTransform=Bl()}setAnimationOrigin(h,w=!1){const y=this.snapshot,g=y?y.latestValues:{},b={...this.latestValues},E=Bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!w;const T=jr(),R=y?y.source:void 0,O=this.layout?this.layout.source:void 0,k=R!==O,F=this.getStack(),G=!F||F.members.length<=1,z=!!(k&&!G&&this.options.crossfade===!0&&!this.path.some(ER));this.animationProgress=0;let U;this.mixTargetDelta=Z=>{const re=Z/1e3;by(E.x,h.x,re),by(E.y,h.y,re),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gf(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CR(this.relativeTarget,this.relativeTargetOrigin,T,re),U&&QN(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=jr()),As(U,this.relativeTarget)),k&&(this.animationValues=b,tR(b,g,this.latestValues,re,z,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){var w,y,g;this.notifyListeners("animationStart"),(w=this.currentAnimation)==null||w.stop(),(g=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||g.stop(),this.pendingAnimation&&(la(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gn.update(()=>{ef.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ql(0)),this.currentAnimation=iR(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),h.onUpdate&&h.onUpdate(b)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:w,target:y,layout:g,latestValues:b}=h;if(!(!w||!y||!g)){if(this!==h&&this.layout&&g&&I4(this.options.animationType,this.layout.layoutBox,g.layoutBox)){y=this.target||jr();const E=Ei(this.layout.layoutBox.x);y.x.min=h.target.x.min,y.x.max=y.x.min+E;const T=Ei(this.layout.layoutBox.y);y.y.min=h.target.y.min,y.y.max=y.y.min+T}As(w,y),Vl(w,b),tu(this.projectionDeltaWithTransform,this.layoutCorrected,w,b)}}registerSharedNode(h,w){this.sharedNodes.has(h)||this.sharedNodes.set(h,new lR),this.sharedNodes.get(h).add(w);const g=w.options.initialPromotionConfig;w.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(w):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var w;const{layoutId:h}=this.options;return h?((w=this.getStack())==null?void 0:w.lead)||this:this}getPrevLead(){var w;const{layoutId:h}=this.options;return h?(w=this.getStack())==null?void 0:w.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:w,preserveFollowOpacity:y}={}){const g=this.getStack();g&&g.promote(this,y),h&&(this.projectionDelta=void 0,this.needsReset=!0),w&&this.setOptions({transition:w})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let w=!1;const{latestValues:y}=h;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(w=!0),!w)return;const g={};y.z&&F1("z",h,g,this.animationValues);for(let b=0;b<B1.length;b++)F1(`rotate${B1[b]}`,h,g,this.animationValues),F1(`skew${B1[b]}`,h,g,this.animationValues);h.render();for(const b in g)h.setStaticValue(b,g[b]),this.animationValues&&(this.animationValues[b]=g[b]);h.scheduleRender()}applyProjectionStyles(h,w){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=Jd(w==null?void 0:w.pointerEvents)||"",h.transform=y?y(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Jd(w==null?void 0:w.pointerEvents)||""),this.hasProjected&&!Wa(this.latestValues)&&(h.transform=y?y({},""):"none",this.hasProjected=!1);return}h.visibility="";const b=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=JN(this.projectionDeltaWithTransform,this.treeScale,b);y&&(E=y(b,E)),h.transform=E;const{x:T,y:R}=this.projectionDelta;h.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,g.animationValues?h.opacity=g===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:h.opacity=g===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const O in sp){if(b[O]===void 0)continue;const{correct:k,applyTo:F,isCSSVariable:G}=sp[O],z=E==="none"?b[O]:k(b[O],g);if(F){const U=F.length;for(let Z=0;Z<U;Z++)h[F[Z]]=z}else G?this.options.visualElement.renderState.vars[O]=z:h[O]=z}this.options.layoutId&&(h.pointerEvents=g===this?Jd(w==null?void 0:w.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var w;return(w=h.currentAnimation)==null?void 0:w.stop()}),this.root.nodes.forEach(vy),this.root.sharedNodes.clear()}}}function dR(e){e.updateLayout()}function fR(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:c}=e.layout,{animationType:u}=e.options,h=t.source!==e.layout.source;u==="size"?as(E=>{const T=h?t.measuredBox[E]:t.layoutBox[E],R=Ei(T);T.min=i[E].min,T.max=T.min+R}):I4(u,t.layoutBox,i)&&as(E=>{const T=h?t.measuredBox[E]:t.layoutBox[E],R=Ei(i[E]);T.max=T.min+R,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+R)});const w=Bl();tu(w,i,t.layoutBox);const y=Bl();h?tu(y,e.applyTransform(c,!0),t.measuredBox):tu(y,i,t.layoutBox);const g=!C4(w);let b=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:T,layout:R}=E;if(T&&R){const O=jr();gf(O,t.layoutBox,T.layoutBox);const k=jr();gf(k,i,R.layoutBox),E4(O,k)||(b=!0),E.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=O,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:y,layoutDelta:w,hasLayoutChanged:g,hasRelativeLayoutChanged:b})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function hR(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mR(e){e.clearSnapshot()}function vy(e){e.clearMeasurements()}function Cy(e){e.isLayoutDirty=!1}function gR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ey(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xR(e){e.resolveTargetDelta()}function wR(e){e.calcProjection()}function yR(e){e.resetSkewAndRotation()}function vR(e){e.removeLeadSnapshot()}function by(e,t,n){e.translate=fr(t.translate,0,n),e.scale=fr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sy(e,t,n,i){e.min=fr(t.min,n.min,i),e.max=fr(t.max,n.max,i)}function CR(e,t,n,i){Sy(e.x,t.x,n.x,i),Sy(e.y,t.y,n.y,i)}function ER(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bR={duration:.45,ease:[.4,0,.1,1]},Ay=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ty=Ay("applewebkit/")&&!Ay("chrome/")?Math.round:us;function Iy(e){e.min=Ty(e.min),e.max=Ty(e.max)}function SR(e){Iy(e.x),Iy(e.y)}function I4(e,t,n){return e==="position"||e==="preserve-aspect"&&!$N(my(t),my(n),.2)}function AR(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const TR=T4({attachResizeListener:(e,t)=>mu(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),V1={current:void 0},N4=T4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!V1.current){const e=new TR({});e.mount(window),e.setOptions({layoutScroll:!0}),V1.current=e}return V1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),R4=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function IR(e=!0){const t=M.useContext(Kp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:c}=t,u=M.useId();M.useEffect(()=>{if(e)return c(u)},[e]);const h=M.useCallback(()=>e&&i&&i(u),[u,i,e]);return!n&&i?[!1,h]:[!0]}const _4=M.createContext({strict:!1}),Ny={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ry=!1;function NR(){if(Ry)return;const e={};for(const t in Ny)e[t]={isEnabled:n=>Ny[t].some(i=>!!n[i])};s4(e),Ry=!0}function P4(){return NR(),yN()}function RR(e){const t=P4();for(const n in e)t[n]={...t[n],...e[n]};s4(t)}const _R=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_R.has(e)}let D4=e=>!xf(e);function PR(e){typeof e=="function"&&(D4=t=>t.startsWith("on")?!xf(t):e(t))}try{PR(require("@emotion/is-prop-valid").default)}catch{}function DR(e,t,n){const i={};for(const c in e)c==="values"&&typeof e.values=="object"||(D4(c)||n===!0&&xf(c)||!t&&!xf(c)||e.draggable&&c.startsWith("onDrag"))&&(i[c]=e[c]);return i}const Vf=M.createContext({});function MR(e,t){if(Ff(e)){const{initial:n,animate:i}=e;return{initial:n===!1||pu(n)?n:void 0,animate:pu(i)?i:void 0}}return e.inherit!==!1?t:{}}function OR(e){const{initial:t,animate:n}=MR(e,M.useContext(Vf));return M.useMemo(()=>({initial:t,animate:n}),[_y(t),_y(n)])}function _y(e){return Array.isArray(e)?e.join(" "):e}const Sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function M4(e,t,n){for(const i in t)!di(t[i])&&!f4(i,n)&&(e[i]=t[i])}function kR({transformTemplate:e},t){return M.useMemo(()=>{const n=Sm();return Em(n,t,e),Object.assign({},n.vars,n.style)},[t])}function LR(e,t){const n=e.style||{},i={};return M4(i,n,e),Object.assign(i,kR(e,t)),i}function jR(e,t){const n={},i=LR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const O4=()=>({...Sm(),attrs:{}});function BR(e,t,n,i){const c=M.useMemo(()=>{const u=O4();return h4(u,t,m4(i),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};M4(u,e.style,e),c.style={...u,...c.style}}return c}const FR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Am(e){return typeof e!="string"||e.includes("-")?!1:!!(FR.indexOf(e)>-1||/[A-Z]/u.test(e))}function VR(e,t,n,{latestValues:i},c,u=!1,h){const y=(h??Am(e)?BR:jR)(t,i,c,e),g=DR(t,typeof e=="string",u),b=e!==M.Fragment?{...g,...y,ref:n}:{},{children:E}=t,T=M.useMemo(()=>di(E)?E.get():E,[E]);return M.createElement(e,{...b,children:T})}function UR({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,c){return{latestValues:HR(n,i,c,e),renderState:t()}}function HR(e,t,n,i){const c={},u=i(e,{});for(const T in u)c[T]=Jd(u[T]);let{initial:h,animate:w}=e;const y=Ff(e),g=i4(e);t&&g&&!y&&e.inherit!==!1&&(h===void 0&&(h=t.initial),w===void 0&&(w=t.animate));let b=n?n.initial===!1:!1;b=b||h===!1;const E=b?w:h;if(E&&typeof E!="boolean"&&!Bf(E)){const T=Array.isArray(E)?E:[E];for(let R=0;R<T.length;R++){const O=mm(e,T[R]);if(O){const{transitionEnd:k,transition:F,...G}=O;for(const z in G){let U=G[z];if(Array.isArray(U)){const Z=b?U.length-1:0;U=U[Z]}U!==null&&(c[z]=U)}for(const z in k)c[z]=k[z]}}}return c}const k4=e=>(t,n)=>{const i=M.useContext(Vf),c=M.useContext(Kp),u=()=>UR(e,t,i,c);return n?u():Q7(u)},WR=k4({scrapeMotionValuesFromProps:bm,createRenderState:Sm}),zR=k4({scrapeMotionValuesFromProps:g4,createRenderState:O4}),GR=Symbol.for("motionComponentSymbol");function XR(e,t,n){const i=M.useRef(n);M.useInsertionEffect(()=>{i.current=n});const c=M.useRef(null);return M.useCallback(u=>{var w;u&&((w=e.onMount)==null||w.call(e,u)),t&&(u?t.mount(u):t.unmount());const h=i.current;if(typeof h=="function")if(u){const y=h(u);typeof y=="function"&&(c.current=y)}else c.current?(c.current(),c.current=null):h(u);else h&&(h.current=u)},[t])}const L4=M.createContext({});function Xc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $R(e,t,n,i,c,u){var U,Z;const{visualElement:h}=M.useContext(Vf),w=M.useContext(_4),y=M.useContext(Kp),g=M.useContext(R4),b=g.reducedMotion,E=g.skipAnimations,T=M.useRef(null),R=M.useRef(!1);i=i||w.renderer,!T.current&&i&&(T.current=i(e,{visualState:t,parent:h,props:n,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:b,skipAnimations:E,isSVG:u}),R.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const O=T.current,k=M.useContext(L4);O&&!O.projection&&c&&(O.type==="html"||O.type==="svg")&&YR(T.current,n,c,k);const F=M.useRef(!1);M.useInsertionEffect(()=>{O&&F.current&&O.update(n,y)});const G=n[G9],z=M.useRef(!!G&&!((U=window.MotionHandoffIsComplete)!=null&&U.call(window,G))&&((Z=window.MotionHasOptimisedAnimation)==null?void 0:Z.call(window,G)));return J7(()=>{R.current=!0,O&&(F.current=!0,window.MotionIsMounted=!0,O.updateFeatures(),O.scheduleRenderMicrotask(),z.current&&O.animationState&&O.animationState.animateChanges())}),M.useEffect(()=>{O&&(!z.current&&O.animationState&&O.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{var re;(re=window.MotionHandoffMarkAsComplete)==null||re.call(window,G)}),z.current=!1),O.enteringChildren=void 0)}),O}function YR(e,t,n,i){const{layoutId:c,layout:u,drag:h,dragConstraints:w,layoutScroll:y,layoutRoot:g,layoutCrossfade:b}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:j4(e.parent)),e.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!h||w&&Xc(w),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:b,layoutScroll:y,layoutRoot:g})}function j4(e){if(e)return e.options.allowProjection!==!1?e.projection:j4(e.parent)}function U1(e,{forwardMotionProps:t=!1,type:n}={},i,c){i&&RR(i);const u=n?n==="svg":Am(e),h=u?zR:WR;function w(g,b){let E;const T={...M.useContext(R4),...g,layoutId:ZR(g)},{isStatic:R}=T,O=OR(g),k=h(g,R);if(!R&&l9){KR();const F=qR(T);E=F.MeasureLayout,O.visualElement=$R(e,k,T,c,F.ProjectionNode,u)}return x.jsxs(Vf.Provider,{value:O,children:[E&&O.visualElement?x.jsx(E,{visualElement:O.visualElement,...T}):null,VR(e,g,XR(k,O.visualElement,b),k,R,t,u)]})}w.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const y=M.forwardRef(w);return y[GR]=e,y}function ZR({layoutId:e}){const t=M.useContext(a9).id;return t&&e!==void 0?t+"-"+e:e}function KR(e,t){M.useContext(_4).strict}function qR(e){const t=P4(),{drag:n,layout:i}=t;if(!n&&!i)return{};const c={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(e)||i!=null&&i.isEnabled(e)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}function QR(e,t){if(typeof Proxy>"u")return U1;const n=new Map,i=(u,h)=>U1(u,h,e,t),c=(u,h)=>i(u,h);return new Proxy(c,{get:(u,h)=>h==="create"?i:(n.has(h)||n.set(h,U1(h,void 0,e,t)),n.get(h))})}const JR=(e,t)=>t.isSVG??Am(e)?new LN(t):new _N(t,{allowProjection:e!==M.Fragment});class e_ extends xa{constructor(t){super(t),t.animationState||(t.animationState=UN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let t_=0;class n_ extends xa{constructor(){super(...arguments),this.id=t_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const c=this.node.animationState.setActive("exit",!t);n&&!t&&c.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const r_={animation:{Feature:e_},exit:{Feature:n_}};function Iu(e){return{point:{x:e.pageX,y:e.pageY}}}const i_=e=>t=>ym(t)&&e(t,Iu(t));function nu(e,t,n,i){return mu(e,t,i_(n),i)}const B4=({current:e})=>e?e.ownerDocument.defaultView:null,Py=(e,t)=>Math.abs(e-t);function s_(e,t){const n=Py(e.x,t.x),i=Py(e.y,t.y);return Math.sqrt(n**2+i**2)}const Dy=new Set(["auto","scroll"]);class F4{constructor(t,n,{transformPagePoint:i,contextWindow:c=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3,element:w}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=W1(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,k=s_(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!O&&!k)return;const{point:F}=R,{timestamp:G}=Jr;this.history.push({...F,timestamp:G});const{onStart:z,onMove:U}=this.handlers;O||(z&&z(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,R)},this.handlePointerMove=(R,O)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=H1(O,this.transformPagePoint),Gn.update(this.updatePoint,!0)},this.handlePointerUp=(R,O)=>{this.end();const{onEnd:k,onSessionEnd:F,resumeAnimation:G}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=W1(R.type==="pointercancel"?this.lastMoveEventInfo:H1(O,this.transformPagePoint),this.history);this.startEvent&&k&&k(R,z),F&&F(R,z)},!ym(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=h,this.contextWindow=c||window;const y=Iu(t),g=H1(y,this.transformPagePoint),{point:b}=g,{timestamp:E}=Jr;this.history=[{...b,timestamp:E}];const{onSessionStart:T}=n;T&&T(t,W1(g,this.history)),this.removeListeners=Su(nu(this.contextWindow,"pointermove",this.handlePointerMove),nu(this.contextWindow,"pointerup",this.handlePointerUp),nu(this.contextWindow,"pointercancel",this.handlePointerUp)),w&&this.startScrollTracking(w)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(Dy.has(i.overflowX)||Dy.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,c=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:c.x-n.x,y:c.y-n.y};u.x===0&&u.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,c),Gn.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),la(this.updatePoint)}}function H1(e,t){return t?{point:t(e.point)}:e}function My(e,t){return{x:e.x-t.x,y:e.y-t.y}}function W1({point:e},t){return{point:e,delta:My(e,V4(t)),offset:My(e,o_(t)),velocity:a_(t,.1)}}function o_(e){return e[0]}function V4(e){return e[e.length-1]}function a_(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const c=V4(e);for(;n>=0&&(i=e[n],!(c.timestamp-i.timestamp>Io(t)));)n--;if(!i)return{x:0,y:0};const u=cs(c.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const h={x:(c.x-i.x)/u,y:(c.y-i.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function l_(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?fr(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?fr(n,e,i.max):Math.min(e,n)),e}function Oy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function c_(e,{top:t,left:n,bottom:i,right:c}){return{x:Oy(e.x,n,c),y:Oy(e.y,t,i)}}function ky(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function u_(e,t){return{x:ky(e.x,t.x),y:ky(e.y,t.y)}}function d_(e,t){let n=.5;const i=Ei(e),c=Ei(t);return c>i?n=du(t.min,t.max-i,e.min):i>c&&(n=du(e.min,e.max-c,t.min)),to(0,1,n)}function f_(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const op=.35;function h_(e=op){return e===!1?e=0:e===!0&&(e=op),{x:Ly(e,"left","right"),y:Ly(e,"top","bottom")}}function Ly(e,t,n){return{min:jy(e,t),max:jy(e,n)}}function jy(e,t){return typeof e=="number"?e:e[t]||0}const p_=new WeakMap;class m_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const u=E=>{n?(this.stopAnimation(),this.snapToCursor(Iu(E).point)):this.pauseAnimation()},h=(E,T)=>{this.stopAnimation();const{drag:R,dragPropagation:O,onDragStart:k}=this.getProps();if(R&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iN(R),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),as(G=>{let z=this.getAxisMotionValue(G).get()||0;if(Qs.test(z)){const{projection:U}=this.visualElement;if(U&&U.layout){const Z=U.layout.layoutBox[G];Z&&(z=Ei(Z)*(parseFloat(z)/100))}}this.originPoint[G]=z}),k&&Gn.update(()=>k(E,T),!1,!0),J0(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},w=(E,T)=>{this.latestPointerEvent=E,this.latestPanInfo=T;const{dragPropagation:R,dragDirectionLock:O,onDirectionLock:k,onDrag:F}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:G}=T;if(O&&this.currentDirection===null){this.currentDirection=g_(G),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",T.point,G),this.updateAxis("y",T.point,G),this.visualElement.render(),F&&Gn.update(()=>F(E,T),!1,!0)},y=(E,T)=>{this.latestPointerEvent=E,this.latestPanInfo=T,this.stop(E,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>as(E=>{var T;return this.getAnimationState(E)==="paused"&&((T=this.getAxisMotionValue(E).animation)==null?void 0:T.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new F4(t,{onSessionStart:u,onStart:h,onMove:w,onSessionEnd:y,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:i,contextWindow:B4(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,c=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!c||!i)return;const{velocity:h}=c;this.startAnimation(h);const{onDragEnd:w}=this.getProps();w&&Gn.postRender(()=>w(i,c))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:c}=this.getProps();if(!i||!Od(t,c,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(h=l_(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,c=this.constraints;t&&Xc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=c_(i.layoutBox,t):this.constraints=!1,this.elastic=h_(n),c!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&as(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=f_(i.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xc(t))return!1;const i=t.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=SN(i,c.root,this.visualElement.getTransformPagePoint());let h=u_(c.layout.layoutBox,u);if(n){const w=n(CN(h));this.hasMutatedConstraints=!!w,w&&(h=a4(w))}return h}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:c,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:w}=this.getProps(),y=this.constraints||{},g=as(b=>{if(!Od(b,n,this.currentDirection))return;let E=y&&y[b]||{};h&&(E={min:0,max:0});const T=c?200:1e6,R=c?40:1e7,O={type:"inertia",velocity:i?t[b]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(b,O)});return Promise.all(g).then(w)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return J0(this.visualElement,t),i.start(pm(t,i,0,n,this.visualElement,!1))}stopAnimation(){as(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){as(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),c=i[n];return c||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){as(n=>{const{drag:i}=this.getProps();if(!Od(n,i,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(n);if(c&&c.layout){const{min:h,max:w}=c.layout.layoutBox[n],y=u.get()||0;u.set(t[n]-fr(h,w,.5)+y)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xc(n)||!i||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};as(h=>{const w=this.getAxisMotionValue(h);if(w&&this.constraints!==!1){const y=w.get();c[h]=d_({min:y,max:y},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),as(h=>{if(!Od(h,t,null))return;const w=this.getAxisMotionValue(h),{min:y,max:g}=this.constraints[h];w.set(fr(y,g,c[h]))})}addListeners(){if(!this.visualElement.current)return;p_.set(this.visualElement,this);const t=this.visualElement.current,n=nu(t,"pointerdown",y=>{const{drag:g,dragListener:b=!0}=this.getProps(),E=y.target,T=E!==t&&cN(E);g&&b&&!T&&this.start(y)}),i=()=>{const{dragConstraints:y}=this.getProps();Xc(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,u=c.addEventListener("measure",i);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Gn.read(i);const h=mu(window,"resize",()=>this.scalePositionWithinConstraints()),w=c.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:g})=>{this.isDragging&&g&&(as(b=>{const E=this.getAxisMotionValue(b);E&&(this.originPoint[b]+=y[b].translate,E.set(E.get()+y[b].translate))}),this.visualElement.render())}));return()=>{h(),n(),u(),w&&w()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:h=op,dragMomentum:w=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:c,dragConstraints:u,dragElastic:h,dragMomentum:w}}}function Od(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function g_(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class x_ extends xa{constructor(t){super(t),this.removeGroupControls=us,this.removeListeners=us,this.controls=new m_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const z1=e=>(t,n)=>{e&&Gn.update(()=>e(t,n),!1,!0)};class w_ extends xa{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(t){this.session=new F4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:c}=this.node.getProps();return{onSessionStart:z1(t),onStart:z1(n),onMove:z1(i),onEnd:(u,h)=>{delete this.session,c&&Gn.postRender(()=>c(u,h))}}}mount(){this.removePointerDownListener=nu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let G1=!1;class y_ extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:c}=this.props,{projection:u}=t;u&&(n.group&&n.group.add(u),i&&i.register&&c&&i.register(u),G1&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:c,isPresent:u}=this.props,{projection:h}=i;return h&&(h.isPresent=u,t.layoutDependency!==n&&h.setOptions({...h.options,layoutDependency:n}),G1=!0,c||t.layoutDependency!==n||n===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||Gn.postRender(()=>{const w=h.getStack();(!w||!w.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:c}=t;G1=!0,c&&(c.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(c),i&&i.deregister&&i.deregister(c))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function U4(e){const[t,n]=IR(),i=M.useContext(a9);return x.jsx(y_,{...e,layoutGroup:i,switchLayoutGroup:M.useContext(L4),isPresent:t,safeToRemove:n})}const v_={pan:{Feature:w_},drag:{Feature:x_,ProjectionNode:N4,MeasureLayout:U4}};function By(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const c="onHover"+n,u=i[c];u&&Gn.postRender(()=>u(t,Iu(t)))}class C_ extends xa{mount(){const{current:t}=this.node;t&&(this.unmount=sN(t,(n,i)=>(By(this.node,i,"Start"),c=>By(this.node,c,"End"))))}unmount(){}}class E_ extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fy(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const c="onTap"+(n==="End"?"":n),u=i[c];u&&Gn.postRender(()=>u(t,Iu(t)))}class b_ extends xa{mount(){const{current:t}=this.node;t&&(this.unmount=dN(t,(n,i)=>(Fy(this.node,i,"Start"),(c,{success:u})=>Fy(this.node,c,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ap=new WeakMap,X1=new WeakMap,S_=e=>{const t=ap.get(e.target);t&&t(e)},A_=e=>{e.forEach(S_)};function T_({root:e,...t}){const n=e||document;X1.has(n)||X1.set(n,{});const i=X1.get(n),c=JSON.stringify(t);return i[c]||(i[c]=new IntersectionObserver(A_,{root:e,...t})),i[c]}function I_(e,t,n){const i=T_(t);return ap.set(e,n),i.observe(e),()=>{ap.delete(e),i.unobserve(e)}}const N_={some:0,all:1};class R_ extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:c="some",once:u}=t,h={root:n?n.current:void 0,rootMargin:i,threshold:typeof c=="number"?c:N_[c]},w=y=>{const{isIntersecting:g}=y;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:b,onViewportLeave:E}=this.node.getProps(),T=g?b:E;T&&T(y)};return I_(this.node.current,h,w)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(__(t,n))&&this.startObserver()}unmount(){}}function __({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const P_={inView:{Feature:R_},tap:{Feature:b_},focus:{Feature:E_},hover:{Feature:C_}},D_={layout:{ProjectionNode:N4,MeasureLayout:U4}},M_={...r_,...P_,...v_,...D_},O_=QR(M_,JR);function k_({className:e="",active:t=!1}){return t?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:"url(#clip0-dash-active)",children:[x.jsx("mask",{id:"mask0-dash-active",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:"url(#mask0-dash-active)",children:[x.jsx("path",{d:"M21.5 10.9V4.1C21.5 2.6 20.86 2 19.27 2H15.23C13.64 2 13 2.6 13 4.1V10.9C13 12.4 13.64 13 15.23 13H19.27C20.86 13 21.5 12.4 21.5 10.9Z",fill:"currentColor"}),x.jsx("path",{d:"M11 13.1V19.9C11 21.4 10.36 22 8.77 22H4.73C3.14 22 2.5 21.4 2.5 19.9V13.1C2.5 11.6 3.14 11 4.73 11H8.77C10.36 11 11 11.6 11 13.1Z",fill:"currentColor"}),x.jsx("path",{opacity:"0.4",d:"M21.5 19.9V17.1C21.5 15.6 20.86 15 19.27 15H15.23C13.64 15 13 15.6 13 17.1V19.9C13 21.4 13.64 22 15.23 22H19.27C20.86 22 21.5 21.4 21.5 19.9Z",fill:"currentColor"}),x.jsx("path",{opacity:"0.4",d:"M11 6.9V4.1C11 2.6 10.36 2 8.77 2H4.73C3.14 2 2.5 2.6 2.5 4.1V6.9C2.5 8.4 3.14 9 4.73 9H8.77C10.36 9 11 8.4 11 6.9Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:"clip0-dash-active",children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:"url(#clip0-dash-inactive)",children:[x.jsx("mask",{id:"mask0-dash-inactive",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:"url(#mask0-dash-inactive)",children:[x.jsx("path",{d:"M19.77 13.75H15.73C13.72 13.75 12.75 12.82 12.75 10.9V4.1C12.75 2.18 13.73 1.25 15.73 1.25H19.77C21.78 1.25 22.75 2.18 22.75 4.1V10.9C22.75 12.82 21.77 13.75 19.77 13.75ZM15.73 2.75C14.46 2.75 14.25 3.09 14.25 4.1V10.9C14.25 11.91 14.46 12.25 15.73 12.25H19.77C21.04 12.25 21.25 11.91 21.25 10.9V4.1C21.25 3.09 21.04 2.75 19.77 2.75H15.73Z",fill:"currentColor"}),x.jsx("path",{d:"M19.77 22.75H15.73C13.72 22.75 12.75 21.82 12.75 19.9V18.1C12.75 16.18 13.73 15.25 15.73 15.25H19.77C21.78 15.25 22.75 16.18 22.75 18.1V19.9C22.75 21.82 21.77 22.75 19.77 22.75ZM15.73 16.75C14.46 16.75 14.25 17.09 14.25 18.1V19.9C14.25 20.91 14.46 21.25 15.73 21.25H19.77C21.04 21.25 21.25 20.91 21.25 19.9V18.1C21.25 17.09 21.04 16.75 19.77 16.75H15.73Z",fill:"currentColor"}),x.jsx("path",{d:"M8.27 22.75H4.23C2.22 22.75 1.25 21.82 1.25 19.9V13.1C1.25 11.18 2.23 10.25 4.23 10.25H8.27C10.28 10.25 11.25 11.18 11.25 13.1V19.9C11.25 21.82 10.27 22.75 8.27 22.75ZM4.23 11.75C2.96 11.75 2.75 12.09 2.75 13.1V19.9C2.75 20.91 2.96 21.25 4.23 21.25H8.27C9.54 21.25 9.75 20.91 9.75 19.9V13.1C9.75 12.09 9.54 11.75 8.27 11.75H4.23Z",fill:"currentColor"}),x.jsx("path",{d:"M8.27 8.75H4.23C2.22 8.75 1.25 7.82 1.25 5.9V4.1C1.25 2.18 2.23 1.25 4.23 1.25H8.27C10.28 1.25 11.25 2.18 11.25 4.1V5.9C11.25 7.82 10.27 8.75 8.27 8.75ZM4.23 2.75C2.96 2.75 2.75 3.09 2.75 4.1V5.9C2.75 6.91 2.96 7.25 4.23 7.25H8.27C9.54 7.25 9.75 6.91 9.75 5.9V4.1C9.75 3.09 9.54 2.75 8.27 2.75H4.23Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:"clip0-dash-inactive",children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function ua({className:e="",active:t=!1}){const n=M.useId(),i=`clip0-fil-${n.replace(/:/g,"")}`,c=`mask0-fil-${n.replace(/:/g,"")}`;return t?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${i})`,children:[x.jsx("mask",{id:c,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsx("g",{mask:`url(#${c})`,children:x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 14.5C10.62 14.5 9.5 13.38 9.5 12C9.5 10.62 10.62 9.5 12 9.5C13.38 9.5 14.5 10.62 14.5 12C14.5 13.38 13.38 14.5 12 14.5Z",fill:"currentColor"})})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:i,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M12 13.9995C13.1046 13.9995 14 13.1041 14 11.9995C14 10.8949 13.1046 9.99951 12 9.99951C10.8954 9.99951 10 10.8949 10 11.9995C10 13.1041 10.8954 13.9995 12 13.9995Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function el({className:e="",active:t=!1}){const n=M.useId(),i=`clip0-parts-active-${n.replace(/:/g,"")}`,c=`mask0-parts-active-${n.replace(/:/g,"")}`,u=`clip0-parts-inactive-${n.replace(/:/g,"")}`,h=`mask0-parts-inactive-${n.replace(/:/g,"")}`;return t?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${i})`,children:[x.jsx("mask",{id:c,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"-1",y:"0",width:"25",height:"24",children:x.jsx("path",{d:"M23.999 0H-0.000976562V24H23.999V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${c})`,children:[x.jsx("path",{opacity:"0.4",d:"M21.0395 7.19L11.9995 12.42L2.95947 7.19C3.35947 6.45 3.93947 5.8 4.58947 5.44L9.92947 2.48C11.0695 1.84 12.9295 1.84 14.0695 2.48L19.4095 5.44C20.0595 5.8 20.6395 6.45 21.0395 7.19Z",fill:"currentColor"}),x.jsx("path",{opacity:"0.6",d:"M11.9996 12.4195V21.9995C11.2496 21.9995 10.4996 21.8395 9.92965 21.5195L4.58965 18.5595C3.37965 17.8895 2.38965 16.2095 2.38965 14.8295V9.16945C2.38965 8.52945 2.60965 7.82945 2.95965 7.18945L11.9996 12.4195Z",fill:"currentColor"}),x.jsx("path",{d:"M21.6095 9.16945V14.8295C21.6095 16.2095 20.6195 17.8895 19.4095 18.5595L14.0695 21.5195C13.4995 21.8395 12.7495 21.9995 11.9995 21.9995V12.4195L21.0395 7.18945C21.3895 7.82945 21.6095 8.52945 21.6095 9.16945Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:i,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${u})`,children:[x.jsx("mask",{id:h,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${h})`,children:[x.jsx("path",{d:"M3.17004 7.43945L12 12.5495L20.77 7.46945",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M12 21.6091V12.5391",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M9.93001 2.4793L4.59001 5.4393C3.38001 6.1093 2.39001 7.7893 2.39001 9.1693V14.8193C2.39001 16.1993 3.38001 17.8793 4.59001 18.5493L9.93001 21.5193C11.07 22.1493 12.94 22.1493 14.08 21.5193L19.42 18.5493C20.63 17.8793 21.62 16.1993 21.62 14.8193V9.1693C21.62 7.7893 20.63 6.1093 19.42 5.4393L14.08 2.4693C12.93 1.8393 11.07 1.8393 9.93001 2.4793Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:u,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function L_({className:e="",active:t=!1}){const n=M.useId(),i=`clip0-stats-${n.replace(/:/g,"")}`,c=`mask0-stats-${n.replace(/:/g,"")}`;if(t)return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${i})`,children:[x.jsx("mask",{id:c,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${c})`,children:[x.jsx("path",{opacity:"0.4",d:"M16.1898 2H7.81976C4.17976 2 2.00977 4.17 2.00977 7.81V16.18C2.00977 19.82 4.17976 21.99 7.81976 21.99H16.1898C19.8298 21.99 21.9998 19.82 21.9998 16.18V7.81C21.9998 4.17 19.8298 2 16.1898 2Z",fill:"currentColor"}),x.jsx("path",{d:"M10.1098 11.1494H7.45981C6.82981 11.1494 6.31982 11.6594 6.31982 12.2894V17.4094H10.1098V11.1494Z",fill:"currentColor"}),x.jsx("path",{opacity:"0.4",d:"M12.7596 6.59961H11.2396C10.6096 6.59961 10.0996 7.10962 10.0996 7.73962V17.3997H13.8896V7.73962C13.8896 7.10962 13.3896 6.59961 12.7596 6.59961Z",fill:"currentColor"}),x.jsx("path",{d:"M16.5499 12.8496H13.8999V17.3997H17.6899V13.9896C17.6799 13.3596 17.1699 12.8496 16.5499 12.8496Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:i,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]});const u=`clip0-stats-out-${n.replace(/:/g,"")}`,h=`mask0-stats-out-${n.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${u})`,children:[x.jsx("mask",{id:h,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${h})`,children:[x.jsx("path",{d:"M10.1098 18.1497H6.31982C5.90982 18.1497 5.56982 17.8097 5.56982 17.3997V12.2797C5.56982 11.2397 6.41981 10.3896 7.45981 10.3896H10.1098C10.5198 10.3896 10.8598 10.7296 10.8598 11.1396V17.3896C10.8598 17.8096 10.5198 18.1497 10.1098 18.1497ZM7.06982 16.6497H9.3598V11.8997H7.45981C7.24981 11.8997 7.06982 12.0696 7.06982 12.2896V16.6497Z",fill:"currentColor"}),x.jsx("path",{d:"M13.8901 18.1497H10.1001C9.6901 18.1497 9.3501 17.8097 9.3501 17.3997V7.73962C9.3501 6.69962 10.2001 5.84961 11.2401 5.84961H12.7601C13.8001 5.84961 14.6501 6.69962 14.6501 7.73962V17.3997C14.6401 17.8097 14.3101 18.1497 13.8901 18.1497ZM10.8601 16.6497H13.1501V7.73962C13.1501 7.52962 12.9801 7.34961 12.7601 7.34961H11.2401C11.0301 7.34961 10.8501 7.51962 10.8501 7.73962V16.6497H10.8601Z",fill:"currentColor"}),x.jsx("path",{d:"M17.6801 18.1497H13.8901C13.4801 18.1497 13.1401 17.8097 13.1401 17.3997V12.8496C13.1401 12.4396 13.4801 12.0996 13.8901 12.0996H16.5401C17.5801 12.0996 18.4301 12.9496 18.4301 13.9896V17.3997C18.4301 17.8097 18.1001 18.1497 17.6801 18.1497ZM14.6401 16.6497H16.9301V13.9896C16.9301 13.7796 16.7601 13.5996 16.5401 13.5996H14.6401V16.6497Z",fill:"currentColor"}),x.jsx("path",{d:"M15 22.75H9C3.57 22.75 1.25 20.43 1.25 15V9C1.25 3.57 3.57 1.25 9 1.25H15C20.43 1.25 22.75 3.57 22.75 9V15C22.75 20.43 20.43 22.75 15 22.75ZM9 2.75C4.39 2.75 2.75 4.39 2.75 9V15C2.75 19.61 4.39 21.25 9 21.25H15C19.61 21.25 21.25 19.61 21.25 15V9C21.25 4.39 19.61 2.75 15 2.75H9Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:u,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function Sn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(e==null||e(c),n===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function Vy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function H4(...e){return t=>{let n=!1;const i=e.map(c=>{const u=Vy(c,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let c=0;c<i.length;c++){const u=i[c];typeof u=="function"?u():Vy(e[c],null)}}}}function kn(...e){return M.useCallback(H4(...e),e)}function j_(e,t){const n=M.createContext(t),i=u=>{const{children:h,...w}=u,y=M.useMemo(()=>w,Object.values(w));return x.jsx(n.Provider,{value:y,children:h})};i.displayName=e+"Provider";function c(u){const h=M.useContext(n);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[i,c]}function ol(e,t=[]){let n=[];function i(u,h){const w=M.createContext(h),y=n.length;n=[...n,h];const g=E=>{var G;const{scope:T,children:R,...O}=E,k=((G=T==null?void 0:T[e])==null?void 0:G[y])||w,F=M.useMemo(()=>O,Object.values(O));return x.jsx(k.Provider,{value:F,children:R})};g.displayName=u+"Provider";function b(E,T){var k;const R=((k=T==null?void 0:T[e])==null?void 0:k[y])||w,O=M.useContext(R);if(O)return O;if(h!==void 0)return h;throw new Error(`\`${E}\` must be used within \`${u}\``)}return[g,b]}const c=()=>{const u=n.map(h=>M.createContext(h));return function(w){const y=(w==null?void 0:w[e])||u;return M.useMemo(()=>({[`__scope${e}`]:{...w,[e]:y}}),[w,y])}};return c.scopeName=e,[i,B_(c,...t)]}function B_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(u){const h=i.reduce((w,{useScope:y,scopeName:g})=>{const E=y(u)[`__scope${g}`];return{...w,...E}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var fi=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},F_=d3.useId||(()=>{}),V_=0;function $l(e){const[t,n]=M.useState(F_());return fi(()=>{n(i=>i??String(V_++))},[e]),e||(t?`radix-${t}`:"")}function ui(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function lp({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,c]=U_({defaultProp:t,onChange:n}),u=e!==void 0,h=u?e:i,w=ui(n),y=M.useCallback(g=>{if(u){const E=typeof g=="function"?g(e):g;E!==e&&w(E)}else c(g)},[u,e,c,w]);return[h,y]}function U_({defaultProp:e,onChange:t}){const n=M.useState(e),[i]=n,c=M.useRef(i),u=ui(t);return M.useEffect(()=>{c.current!==i&&(u(i),c.current=i)},[i,c,u]),n}var da=M.forwardRef((e,t)=>{const{children:n,...i}=e,c=M.Children.toArray(n),u=c.find(H_);if(u){const h=u.props.children,w=c.map(y=>y===u?M.Children.count(h)>1?M.Children.only(null):M.isValidElement(h)?h.props.children:null:y);return x.jsx(cp,{...i,ref:t,children:M.isValidElement(h)?M.cloneElement(h,void 0,w):null})}return x.jsx(cp,{...i,ref:t,children:n})});da.displayName="Slot";var cp=M.forwardRef((e,t)=>{const{children:n,...i}=e;if(M.isValidElement(n)){const c=z_(n),u=W_(i,n.props);return n.type!==M.Fragment&&(u.ref=t?H4(t,c):c),M.cloneElement(n,u)}return M.Children.count(n)>1?M.Children.only(null):null});cp.displayName="SlotClone";var W4=({children:e})=>x.jsx(x.Fragment,{children:e});function H_(e){return M.isValidElement(e)&&e.type===W4}function W_(e,t){const n={...t};for(const i in t){const c=e[i],u=t[i];/^on[A-Z]/.test(i)?c&&u?n[i]=(...w)=>{u(...w),c(...w)}:c&&(n[i]=c):i==="style"?n[i]={...c,...u}:i==="className"&&(n[i]=[c,u].filter(Boolean).join(" "))}return{...e,...n}}function z_(e){var i,c;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var G_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],An=G_.reduce((e,t)=>{const n=M.forwardRef((i,c)=>{const{asChild:u,...h}=i,w=u?da:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(w,{...h,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function X_(e,t){e&&Eu.flushSync(()=>e.dispatchEvent(t))}function $_(e,t=globalThis==null?void 0:globalThis.document){const n=ui(e);M.useEffect(()=>{const i=c=>{c.key==="Escape"&&n(c)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var Y_="DismissableLayer",up="dismissableLayer.update",Z_="dismissableLayer.pointerDownOutside",K_="dismissableLayer.focusOutside",Uy,z4=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tm=M.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,onDismiss:w,...y}=e,g=M.useContext(z4),[b,E]=M.useState(null),T=(b==null?void 0:b.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=M.useState({}),O=kn(t,P=>E(P)),k=Array.from(g.layers),[F]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),G=k.indexOf(F),z=b?k.indexOf(b):-1,U=g.layersWithOutsidePointerEventsDisabled.size>0,Z=z>=G,re=J_(P=>{const L=P.target,B=[...g.branches].some(K=>K.contains(L));!Z||B||(c==null||c(P),h==null||h(P),P.defaultPrevented||w==null||w())},T),le=eP(P=>{const L=P.target;[...g.branches].some(K=>K.contains(L))||(u==null||u(P),h==null||h(P),P.defaultPrevented||w==null||w())},T);return $_(P=>{z===g.layers.size-1&&(i==null||i(P),!P.defaultPrevented&&w&&(P.preventDefault(),w()))},T),M.useEffect(()=>{if(b)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Uy=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(b)),g.layers.add(b),Hy(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=Uy)}},[b,T,n,g]),M.useEffect(()=>()=>{b&&(g.layers.delete(b),g.layersWithOutsidePointerEventsDisabled.delete(b),Hy())},[b,g]),M.useEffect(()=>{const P=()=>R({});return document.addEventListener(up,P),()=>document.removeEventListener(up,P)},[]),x.jsx(An.div,{...y,ref:O,style:{pointerEvents:U?Z?"auto":"none":void 0,...e.style},onFocusCapture:Sn(e.onFocusCapture,le.onFocusCapture),onBlurCapture:Sn(e.onBlurCapture,le.onBlurCapture),onPointerDownCapture:Sn(e.onPointerDownCapture,re.onPointerDownCapture)})});Tm.displayName=Y_;var q_="DismissableLayerBranch",Q_=M.forwardRef((e,t)=>{const n=M.useContext(z4),i=M.useRef(null),c=kn(t,i);return M.useEffect(()=>{const u=i.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),x.jsx(An.div,{...e,ref:c})});Q_.displayName=q_;function J_(e,t=globalThis==null?void 0:globalThis.document){const n=ui(e),i=M.useRef(!1),c=M.useRef(()=>{});return M.useEffect(()=>{const u=w=>{if(w.target&&!i.current){let y=function(){G4(Z_,n,g,{discrete:!0})};const g={originalEvent:w};w.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=y,t.addEventListener("click",c.current,{once:!0})):y()}else t.removeEventListener("click",c.current);i.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",u),t.removeEventListener("click",c.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function eP(e,t=globalThis==null?void 0:globalThis.document){const n=ui(e),i=M.useRef(!1);return M.useEffect(()=>{const c=u=>{u.target&&!i.current&&G4(K_,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Hy(){const e=new CustomEvent(up);document.dispatchEvent(e)}function G4(e,t,n,{discrete:i}){const c=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&c.addEventListener(e,t,{once:!0}),i?X_(c,u):c.dispatchEvent(u)}var $1="focusScope.autoFocusOnMount",Y1="focusScope.autoFocusOnUnmount",Wy={bubbles:!1,cancelable:!0},tP="FocusScope",Im=M.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:c,onUnmountAutoFocus:u,...h}=e,[w,y]=M.useState(null),g=ui(c),b=ui(u),E=M.useRef(null),T=kn(t,k=>y(k)),R=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(i){let k=function(U){if(R.paused||!w)return;const Z=U.target;w.contains(Z)?E.current=Z:ta(E.current,{select:!0})},F=function(U){if(R.paused||!w)return;const Z=U.relatedTarget;Z!==null&&(w.contains(Z)||ta(E.current,{select:!0}))},G=function(U){if(document.activeElement===document.body)for(const re of U)re.removedNodes.length>0&&ta(w)};document.addEventListener("focusin",k),document.addEventListener("focusout",F);const z=new MutationObserver(G);return w&&z.observe(w,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",F),z.disconnect()}}},[i,w,R.paused]),M.useEffect(()=>{if(w){Gy.add(R);const k=document.activeElement;if(!w.contains(k)){const G=new CustomEvent($1,Wy);w.addEventListener($1,g),w.dispatchEvent(G),G.defaultPrevented||(nP(aP(X4(w)),{select:!0}),document.activeElement===k&&ta(w))}return()=>{w.removeEventListener($1,g),setTimeout(()=>{const G=new CustomEvent(Y1,Wy);w.addEventListener(Y1,b),w.dispatchEvent(G),G.defaultPrevented||ta(k??document.body,{select:!0}),w.removeEventListener(Y1,b),Gy.remove(R)},0)}}},[w,g,b,R]);const O=M.useCallback(k=>{if(!n&&!i||R.paused)return;const F=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,G=document.activeElement;if(F&&G){const z=k.currentTarget,[U,Z]=rP(z);U&&Z?!k.shiftKey&&G===Z?(k.preventDefault(),n&&ta(U,{select:!0})):k.shiftKey&&G===U&&(k.preventDefault(),n&&ta(Z,{select:!0})):G===z&&k.preventDefault()}},[n,i,R.paused]);return x.jsx(An.div,{tabIndex:-1,...h,ref:T,onKeyDown:O})});Im.displayName=tP;function nP(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(ta(i,{select:t}),document.activeElement!==n)return}function rP(e){const t=X4(e),n=zy(t,e),i=zy(t.reverse(),e);return[n,i]}function X4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const c=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||c?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function zy(e,t){for(const n of e)if(!iP(n,{upTo:t}))return n}function iP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sP(e){return e instanceof HTMLInputElement&&"select"in e}function ta(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&sP(e)&&t&&e.select()}}var Gy=oP();function oP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xy(e,t),e.unshift(t)},remove(t){var n;e=Xy(e,t),(n=e[0])==null||n.resume()}}}function Xy(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function aP(e){return e.filter(t=>t.tagName!=="A")}var lP="Portal",Nm=M.forwardRef((e,t)=>{var w;const{container:n,...i}=e,[c,u]=M.useState(!1);fi(()=>u(!0),[]);const h=n||c&&((w=globalThis==null?void 0:globalThis.document)==null?void 0:w.body);return h?W3.createPortal(x.jsx(An.div,{...i,ref:t}),h):null});Nm.displayName=lP;function cP(e,t){return M.useReducer((n,i)=>t[n][i]??n,e)}var wa=e=>{const{present:t,children:n}=e,i=uP(t),c=typeof n=="function"?n({present:i.isPresent}):M.Children.only(n),u=kn(i.ref,dP(c));return typeof n=="function"||i.isPresent?M.cloneElement(c,{ref:u}):null};wa.displayName="Presence";function uP(e){const[t,n]=M.useState(),i=M.useRef({}),c=M.useRef(e),u=M.useRef("none"),h=e?"mounted":"unmounted",[w,y]=cP(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const g=kd(i.current);u.current=w==="mounted"?g:"none"},[w]),fi(()=>{const g=i.current,b=c.current;if(b!==e){const T=u.current,R=kd(g);e?y("MOUNT"):R==="none"||(g==null?void 0:g.display)==="none"?y("UNMOUNT"):y(b&&T!==R?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,y]),fi(()=>{if(t){let g;const b=t.ownerDocument.defaultView??window,E=R=>{const k=kd(i.current).includes(R.animationName);if(R.target===t&&k&&(y("ANIMATION_END"),!c.current)){const F=t.style.animationFillMode;t.style.animationFillMode="forwards",g=b.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=F)})}},T=R=>{R.target===t&&(u.current=kd(i.current))};return t.addEventListener("animationstart",T),t.addEventListener("animationcancel",E),t.addEventListener("animationend",E),()=>{b.clearTimeout(g),t.removeEventListener("animationstart",T),t.removeEventListener("animationcancel",E),t.removeEventListener("animationend",E)}}else y("ANIMATION_END")},[t,y]),{isPresent:["mounted","unmountSuspended"].includes(w),ref:M.useCallback(g=>{g&&(i.current=getComputedStyle(g)),n(g)},[])}}function kd(e){return(e==null?void 0:e.animationName)||"none"}function dP(e){var i,c;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Z1=0;function $4(){M.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$y()),document.body.insertAdjacentElement("beforeend",e[1]??$y()),Z1++,()=>{Z1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Z1--}},[])}function $y(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ys=function(){return Ys=Object.assign||function(t){for(var n,i=1,c=arguments.length;i<c;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ys.apply(this,arguments)};function Y4(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(e);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(e,i[c])&&(n[i[c]]=e[i[c]]);return n}function fP(e,t,n){if(n||arguments.length===2)for(var i=0,c=t.length,u;i<c;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}var tf="right-scroll-bar-position",nf="width-before-scroll-bar",hP="with-scroll-bars-hidden",pP="--removed-body-scroll-bar-size";function K1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mP(e,t){var n=M.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var c=n.value;c!==i&&(n.value=i,n.callback(i,c))}}}})[0];return n.callback=t,n.facade}var gP=typeof window<"u"?M.useLayoutEffect:M.useEffect,Yy=new WeakMap;function xP(e,t){var n=mP(null,function(i){return e.forEach(function(c){return K1(c,i)})});return gP(function(){var i=Yy.get(n);if(i){var c=new Set(i),u=new Set(e),h=n.current;c.forEach(function(w){u.has(w)||K1(w,null)}),u.forEach(function(w){c.has(w)||K1(w,h)})}Yy.set(n,e)},[e]),n}function wP(e){return e}function yP(e,t){t===void 0&&(t=wP);var n=[],i=!1,c={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(u){var h=t(u,i);return n.push(h),function(){n=n.filter(function(w){return w!==h})}},assignSyncMedium:function(u){for(i=!0;n.length;){var h=n;n=[],h.forEach(u)}n={push:function(w){return u(w)},filter:function(){return n}}},assignMedium:function(u){i=!0;var h=[];if(n.length){var w=n;n=[],w.forEach(u),h=n}var y=function(){var b=h;h=[],b.forEach(u)},g=function(){return Promise.resolve().then(y)};g(),n={push:function(b){h.push(b),g()},filter:function(b){return h=h.filter(b),n}}}};return c}function vP(e){e===void 0&&(e={});var t=yP(null);return t.options=Ys({async:!0,ssr:!1},e),t}var Z4=function(e){var t=e.sideCar,n=Y4(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return M.createElement(i,Ys({},n))};Z4.isSideCarExport=!0;function CP(e,t){return e.useMedium(t),Z4}var K4=vP(),q1=function(){},Uf=M.forwardRef(function(e,t){var n=M.useRef(null),i=M.useState({onScrollCapture:q1,onWheelCapture:q1,onTouchMoveCapture:q1}),c=i[0],u=i[1],h=e.forwardProps,w=e.children,y=e.className,g=e.removeScrollBar,b=e.enabled,E=e.shards,T=e.sideCar,R=e.noRelative,O=e.noIsolation,k=e.inert,F=e.allowPinchZoom,G=e.as,z=G===void 0?"div":G,U=e.gapMode,Z=Y4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),re=T,le=xP([n,t]),P=Ys(Ys({},Z),c);return M.createElement(M.Fragment,null,b&&M.createElement(re,{sideCar:K4,removeScrollBar:g,shards:E,noRelative:R,noIsolation:O,inert:k,setCallbacks:u,allowPinchZoom:!!F,lockRef:n,gapMode:U}),h?M.cloneElement(M.Children.only(w),Ys(Ys({},P),{ref:le})):M.createElement(z,Ys({},P,{className:y,ref:le}),w))});Uf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uf.classNames={fullWidth:nf,zeroRight:tf};var EP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=EP();return t&&e.setAttribute("nonce",t),e}function SP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function AP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bP())&&(SP(t,n),AP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IP=function(){var e=TP();return function(t,n){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},q4=function(){var e=IP(),t=function(n){var i=n.styles,c=n.dynamic;return e(i,c),null};return t},NP={left:0,top:0,right:0,gap:0},Q1=function(e){return parseInt(e||"",10)||0},RP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],c=t[e==="padding"?"paddingRight":"marginRight"];return[Q1(n),Q1(i),Q1(c)]},_P=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NP;var t=RP(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},PP=q4(),Yl="data-scroll-locked",DP=function(e,t,n,i){var c=e.left,u=e.top,h=e.right,w=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hP,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(w,"px ").concat(i,`;
  }
  body[`).concat(Yl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(w,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(w,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tf,` {
    right: `).concat(w,"px ").concat(i,`;
  }
  
  .`).concat(nf,` {
    margin-right: `).concat(w,"px ").concat(i,`;
  }
  
  .`).concat(tf," .").concat(tf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(nf," .").concat(nf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Yl,`] {
    `).concat(pP,": ").concat(w,`px;
  }
`)},Zy=function(){var e=parseInt(document.body.getAttribute(Yl)||"0",10);return isFinite(e)?e:0},MP=function(){M.useEffect(function(){return document.body.setAttribute(Yl,(Zy()+1).toString()),function(){var e=Zy()-1;e<=0?document.body.removeAttribute(Yl):document.body.setAttribute(Yl,e.toString())}},[])},OP=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,c=i===void 0?"margin":i;MP();var u=M.useMemo(function(){return _P(c)},[c]);return M.createElement(PP,{styles:DP(u,!t,c,n?"":"!important")})},dp=!1;if(typeof window<"u")try{var Ld=Object.defineProperty({},"passive",{get:function(){return dp=!0,!0}});window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{dp=!1}var Pl=dp?{passive:!1}:!1,kP=function(e){return e.tagName==="TEXTAREA"},Q4=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!kP(e)&&n[t]==="visible")},LP=function(e){return Q4(e,"overflowY")},jP=function(e){return Q4(e,"overflowX")},Ky=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var c=J4(e,i);if(c){var u=eC(e,i),h=u[1],w=u[2];if(h>w)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},BP=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},FP=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},J4=function(e,t){return e==="v"?LP(t):jP(t)},eC=function(e,t){return e==="v"?BP(t):FP(t)},VP=function(e,t){return e==="h"&&t==="rtl"?-1:1},UP=function(e,t,n,i,c){var u=VP(e,window.getComputedStyle(t).direction),h=u*i,w=n.target,y=t.contains(w),g=!1,b=h>0,E=0,T=0;do{if(!w)break;var R=eC(e,w),O=R[0],k=R[1],F=R[2],G=k-F-u*O;(O||G)&&J4(e,w)&&(E+=G,T+=O);var z=w.parentNode;w=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!y&&w!==document.body||y&&(t.contains(w)||t===w));return(b&&Math.abs(E)<1||!b&&Math.abs(T)<1)&&(g=!0),g},jd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qy=function(e){return[e.deltaX,e.deltaY]},Qy=function(e){return e&&"current"in e?e.current:e},HP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zP=0,Dl=[];function GP(e){var t=M.useRef([]),n=M.useRef([0,0]),i=M.useRef(),c=M.useState(zP++)[0],u=M.useState(q4)[0],h=M.useRef(e);M.useEffect(function(){h.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var k=fP([e.lockRef.current],(e.shards||[]).map(Qy),!0).filter(Boolean);return k.forEach(function(F){return F.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),k.forEach(function(F){return F.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var w=M.useCallback(function(k,F){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!h.current.allowPinchZoom;var G=jd(k),z=n.current,U="deltaX"in k?k.deltaX:z[0]-G[0],Z="deltaY"in k?k.deltaY:z[1]-G[1],re,le=k.target,P=Math.abs(U)>Math.abs(Z)?"h":"v";if("touches"in k&&P==="h"&&le.type==="range")return!1;var L=window.getSelection(),B=L&&L.anchorNode,K=B?B===le||B.contains(le):!1;if(K)return!1;var q=Ky(P,le);if(!q)return!0;if(q?re=P:(re=P==="v"?"h":"v",q=Ky(P,le)),!q)return!1;if(!i.current&&"changedTouches"in k&&(U||Z)&&(i.current=re),!re)return!0;var ee=i.current||re;return UP(ee,F,k,ee==="h"?U:Z)},[]),y=M.useCallback(function(k){var F=k;if(!(!Dl.length||Dl[Dl.length-1]!==u)){var G="deltaY"in F?qy(F):jd(F),z=t.current.filter(function(re){return re.name===F.type&&(re.target===F.target||F.target===re.shadowParent)&&HP(re.delta,G)})[0];if(z&&z.should){F.cancelable&&F.preventDefault();return}if(!z){var U=(h.current.shards||[]).map(Qy).filter(Boolean).filter(function(re){return re.contains(F.target)}),Z=U.length>0?w(F,U[0]):!h.current.noIsolation;Z&&F.cancelable&&F.preventDefault()}}},[]),g=M.useCallback(function(k,F,G,z){var U={name:k,delta:F,target:G,should:z,shadowParent:XP(G)};t.current.push(U),setTimeout(function(){t.current=t.current.filter(function(Z){return Z!==U})},1)},[]),b=M.useCallback(function(k){n.current=jd(k),i.current=void 0},[]),E=M.useCallback(function(k){g(k.type,qy(k),k.target,w(k,e.lockRef.current))},[]),T=M.useCallback(function(k){g(k.type,jd(k),k.target,w(k,e.lockRef.current))},[]);M.useEffect(function(){return Dl.push(u),e.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:T}),document.addEventListener("wheel",y,Pl),document.addEventListener("touchmove",y,Pl),document.addEventListener("touchstart",b,Pl),function(){Dl=Dl.filter(function(k){return k!==u}),document.removeEventListener("wheel",y,Pl),document.removeEventListener("touchmove",y,Pl),document.removeEventListener("touchstart",b,Pl)}},[]);var R=e.removeScrollBar,O=e.inert;return M.createElement(M.Fragment,null,O?M.createElement(u,{styles:WP(c)}):null,R?M.createElement(OP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function XP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $P=CP(K4,GP);var Rm=M.forwardRef(function(e,t){return M.createElement(Uf,Ys({},e,{ref:t,sideCar:$P}))});Rm.classNames=Uf.classNames;var YP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ml=new WeakMap,Bd=new WeakMap,Fd={},J1=0,tC=function(e){return e&&(e.host||tC(e.parentNode))},ZP=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=tC(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},KP=function(e,t,n,i){var c=ZP(t,Array.isArray(e)?e:[e]);Fd[n]||(Fd[n]=new WeakMap);var u=Fd[n],h=[],w=new Set,y=new Set(c),g=function(E){!E||w.has(E)||(w.add(E),g(E.parentNode))};c.forEach(g);var b=function(E){!E||y.has(E)||Array.prototype.forEach.call(E.children,function(T){if(w.has(T))b(T);else try{var R=T.getAttribute(i),O=R!==null&&R!=="false",k=(Ml.get(T)||0)+1,F=(u.get(T)||0)+1;Ml.set(T,k),u.set(T,F),h.push(T),k===1&&O&&Bd.set(T,!0),F===1&&T.setAttribute(n,"true"),O||T.setAttribute(i,"true")}catch(G){console.error("aria-hidden: cannot operate on ",T,G)}})};return b(t),w.clear(),J1++,function(){h.forEach(function(E){var T=Ml.get(E)-1,R=u.get(E)-1;Ml.set(E,T),u.set(E,R),T||(Bd.has(E)||E.removeAttribute(i),Bd.delete(E)),R||E.removeAttribute(n)}),J1--,J1||(Ml=new WeakMap,Ml=new WeakMap,Bd=new WeakMap,Fd={})}},nC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),c=YP(e);return c?(i.push.apply(i,Array.from(c.querySelectorAll("[aria-live], script"))),KP(i,c,n,"aria-hidden")):function(){return null}},_m="Dialog",[rC,iC]=ol(_m),[qP,Ds]=rC(_m),sC=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:c,onOpenChange:u,modal:h=!0}=e,w=M.useRef(null),y=M.useRef(null),[g=!1,b]=lp({prop:i,defaultProp:c,onChange:u});return x.jsx(qP,{scope:t,triggerRef:w,contentRef:y,contentId:$l(),titleId:$l(),descriptionId:$l(),open:g,onOpenChange:b,onOpenToggle:M.useCallback(()=>b(E=>!E),[b]),modal:h,children:n})};sC.displayName=_m;var oC="DialogTrigger",aC=M.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,c=Ds(oC,n),u=kn(t,c.triggerRef);return x.jsx(An.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Mm(c.open),...i,ref:u,onClick:Sn(e.onClick,c.onOpenToggle)})});aC.displayName=oC;var Pm="DialogPortal",[QP,lC]=rC(Pm,{forceMount:void 0}),cC=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:c}=e,u=Ds(Pm,t);return x.jsx(QP,{scope:t,forceMount:n,children:M.Children.map(i,h=>x.jsx(wa,{present:n||u.open,children:x.jsx(Nm,{asChild:!0,container:c,children:h})}))})};cC.displayName=Pm;var wf="DialogOverlay",uC=M.forwardRef((e,t)=>{const n=lC(wf,e.__scopeDialog),{forceMount:i=n.forceMount,...c}=e,u=Ds(wf,e.__scopeDialog);return u.modal?x.jsx(wa,{present:i||u.open,children:x.jsx(JP,{...c,ref:t})}):null});uC.displayName=wf;var JP=M.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,c=Ds(wf,n);return x.jsx(Rm,{as:da,allowPinchZoom:!0,shards:[c.contentRef],children:x.jsx(An.div,{"data-state":Mm(c.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),tl="DialogContent",dC=M.forwardRef((e,t)=>{const n=lC(tl,e.__scopeDialog),{forceMount:i=n.forceMount,...c}=e,u=Ds(tl,e.__scopeDialog);return x.jsx(wa,{present:i||u.open,children:u.modal?x.jsx(eD,{...c,ref:t}):x.jsx(tD,{...c,ref:t})})});dC.displayName=tl;var eD=M.forwardRef((e,t)=>{const n=Ds(tl,e.__scopeDialog),i=M.useRef(null),c=kn(t,n.contentRef,i);return M.useEffect(()=>{const u=i.current;if(u)return nC(u)},[]),x.jsx(fC,{...e,ref:c,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Sn(e.onCloseAutoFocus,u=>{var h;u.preventDefault(),(h=n.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Sn(e.onPointerDownOutside,u=>{const h=u.detail.originalEvent,w=h.button===0&&h.ctrlKey===!0;(h.button===2||w)&&u.preventDefault()}),onFocusOutside:Sn(e.onFocusOutside,u=>u.preventDefault())})}),tD=M.forwardRef((e,t)=>{const n=Ds(tl,e.__scopeDialog),i=M.useRef(!1),c=M.useRef(!1);return x.jsx(fC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{var h,w;(h=e.onCloseAutoFocus)==null||h.call(e,u),u.defaultPrevented||(i.current||(w=n.triggerRef.current)==null||w.focus(),u.preventDefault()),i.current=!1,c.current=!1},onInteractOutside:u=>{var y,g;(y=e.onInteractOutside)==null||y.call(e,u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const h=u.target;((g=n.triggerRef.current)==null?void 0:g.contains(h))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&c.current&&u.preventDefault()}})}),fC=M.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:c,onCloseAutoFocus:u,...h}=e,w=Ds(tl,n),y=M.useRef(null),g=kn(t,y);return $4(),x.jsxs(x.Fragment,{children:[x.jsx(Im,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:c,onUnmountAutoFocus:u,children:x.jsx(Tm,{role:"dialog",id:w.contentId,"aria-describedby":w.descriptionId,"aria-labelledby":w.titleId,"data-state":Mm(w.open),...h,ref:g,onDismiss:()=>w.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(rD,{titleId:w.titleId}),x.jsx(sD,{contentRef:y,descriptionId:w.descriptionId})]})]})}),Dm="DialogTitle",hC=M.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,c=Ds(Dm,n);return x.jsx(An.h2,{id:c.titleId,...i,ref:t})});hC.displayName=Dm;var pC="DialogDescription",mC=M.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,c=Ds(pC,n);return x.jsx(An.p,{id:c.descriptionId,...i,ref:t})});mC.displayName=pC;var gC="DialogClose",xC=M.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,c=Ds(gC,n);return x.jsx(An.button,{type:"button",...i,ref:t,onClick:Sn(e.onClick,()=>c.onOpenChange(!1))})});xC.displayName=gC;function Mm(e){return e?"open":"closed"}var wC="DialogTitleWarning",[nD,yC]=j_(wC,{contentName:tl,titleName:Dm,docsSlug:"dialog"}),rD=({titleId:e})=>{const t=yC(wC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},iD="DialogDescriptionWarning",sD=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yC(iD).contentName}}.`;return M.useEffect(()=>{var u;const c=(u=e.current)==null?void 0:u.getAttribute("aria-describedby");t&&c&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},Om=sC,oD=aC,km=cC,Lm=uC,jm=dC,Bm=hC,Fm=mC,Vm=xC;function aD(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const vC=Ee.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Nu=()=>{const e=Ee.useContext(vC);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};aD(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function lD(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function cD(){return Um(/^Mac/)}function uD(){return Um(/^iPhone/)}function Jy(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function dD(){return Um(/^iPad/)||cD()&&navigator.maxTouchPoints>1}function CC(){return uD()||dD()}function Um(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const fD=24,hD=typeof window<"u"?M.useLayoutEffect:M.useEffect;function ev(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const e0=typeof document<"u"&&window.visualViewport;function tv(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function EC(e){for(tv(e)&&(e=e.parentElement);e&&!tv(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const pD=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Vd=0,t0;function mD(e={}){let{isDisabled:t}=e;hD(()=>{if(!t)return Vd++,Vd===1&&CC()&&(t0=gD()),()=>{Vd--,Vd===0&&(t0==null||t0())}},[t])}function gD(){let e,t=0,n=E=>{e=EC(E.target),!(e===document.documentElement&&e===document.body)&&(t=E.changedTouches[0].pageY)},i=E=>{if(!e||e===document.documentElement||e===document.body){E.preventDefault();return}let T=E.changedTouches[0].pageY,R=e.scrollTop,O=e.scrollHeight-e.clientHeight;O!==0&&((R<=0&&T>t||R>=O&&T<t)&&E.preventDefault(),t=T)},c=E=>{let T=E.target;fp(T)&&T!==document.activeElement&&(E.preventDefault(),T.style.transform="translateY(-2000px)",T.focus(),requestAnimationFrame(()=>{T.style.transform=""}))},u=E=>{let T=E.target;fp(T)&&(T.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{T.style.transform="",e0&&(e0.height<window.innerHeight?requestAnimationFrame(()=>{nv(T)}):e0.addEventListener("resize",()=>nv(T),{once:!0}))}))},h=()=>{window.scrollTo(0,0)},w=window.pageXOffset,y=window.pageYOffset,g=ev(xD(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let b=ev(Fc(document,"touchstart",n,{passive:!1,capture:!0}),Fc(document,"touchmove",i,{passive:!1,capture:!0}),Fc(document,"touchend",c,{passive:!1,capture:!0}),Fc(document,"focus",u,!0),Fc(window,"scroll",h));return()=>{g(),b(),window.scrollTo(w,y)}}function xD(e,t,n){let i=e.style[t];return e.style[t]=n,()=>{e.style[t]=i}}function Fc(e,t,n,i){return e.addEventListener(t,n,i),()=>{e.removeEventListener(t,n,i)}}function nv(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=EC(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let i=n.getBoundingClientRect().top,c=e.getBoundingClientRect().top,u=e.getBoundingClientRect().bottom;const h=n.getBoundingClientRect().bottom+fD;u>h&&(n.scrollTop+=c-i)}e=n.parentElement}}function fp(e){return e instanceof HTMLInputElement&&!pD.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function wD(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yD(...e){return t=>e.forEach(n=>wD(n,t))}function bC(...e){return M.useCallback(yD(...e),e)}const SC=new WeakMap;function Br(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let i={};Object.entries(t).forEach(([c,u])=>{if(c.startsWith("--")){e.style.setProperty(c,u);return}i[c]=e.style[c],e.style[c]=u}),!n&&SC.set(e,i)}function vD(e,t){if(!e||!(e instanceof HTMLElement))return;let n=SC.get(e);n&&(e.style[t]=n[t])}const Rr=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ud(e,t){if(!e)return null;const n=window.getComputedStyle(e),i=n.transform||n.webkitTransform||n.mozTransform;let c=i.match(/^matrix3d\((.+)\)$/);return c?parseFloat(c[1].split(", ")[Rr(t)?13:12]):(c=i.match(/^matrix\((.+)\)$/),c?parseFloat(c[1].split(", ")[Rr(t)?5:4]):null)}function CD(e){return 8*(Math.log(e+1)-2)}function n0(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function ED(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const dr={DURATION:.5,EASE:[.32,.72,0,1]},AC=.4,bD=.25,SD=100,TC=8,Ua=16,hp=26,r0="vaul-dragging";function IC(e){const t=Ee.useRef(e);return Ee.useEffect(()=>{t.current=e}),Ee.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function AD({defaultProp:e,onChange:t}){const n=Ee.useState(e),[i]=n,c=Ee.useRef(i),u=IC(t);return Ee.useEffect(()=>{c.current!==i&&(u(i),c.current=i)},[i,c,u]),n}function NC({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,c]=AD({defaultProp:t,onChange:n}),u=e!==void 0,h=u?e:i,w=IC(n),y=Ee.useCallback(g=>{if(u){const E=typeof g=="function"?g(e):g;E!==e&&w(E)}else c(g)},[u,e,c,w]);return[h,y]}function TD({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:i,overlayRef:c,fadeFromIndex:u,onSnapPointChange:h,direction:w="bottom",container:y,snapToSequentialPoint:g}){const[b,E]=NC({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[T,R]=Ee.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Ee.useEffect(()=>{function P(){R({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const O=Ee.useMemo(()=>b===(n==null?void 0:n[n.length-1])||null,[n,b]),k=Ee.useMemo(()=>{var P;return(P=n==null?void 0:n.findIndex(L=>L===b))!=null?P:null},[n,b]),F=n&&n.length>0&&(u||u===0)&&!Number.isNaN(u)&&n[u]===b||!n,G=Ee.useMemo(()=>{const P=y?{width:y.getBoundingClientRect().width,height:y.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var L;return(L=n==null?void 0:n.map(B=>{const K=typeof B=="string";let q=0;if(K&&(q=parseInt(B,10)),Rr(w)){const X=K?q:T?B*P.height:0;return T?w==="bottom"?P.height-X:-P.height+X:X}const ee=K?q:T?B*P.width:0;return T?w==="right"?P.width-ee:-P.width+ee:ee}))!=null?L:[]},[n,T,y]),z=Ee.useMemo(()=>k!==null?G==null?void 0:G[k]:null,[G,k]),U=Ee.useCallback(P=>{var L;const B=(L=G==null?void 0:G.findIndex(K=>K===P))!=null?L:null;h(B),Br(i.current,{transition:`transform ${dr.DURATION}s cubic-bezier(${dr.EASE.join(",")})`,transform:Rr(w)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`}),G&&B!==G.length-1&&u!==void 0&&B!==u&&B<u?Br(c.current,{transition:`opacity ${dr.DURATION}s cubic-bezier(${dr.EASE.join(",")})`,opacity:"0"}):Br(c.current,{transition:`opacity ${dr.DURATION}s cubic-bezier(${dr.EASE.join(",")})`,opacity:"1"}),E(n==null?void 0:n[Math.max(B,0)])},[i.current,n,G,u,c,E]);Ee.useEffect(()=>{if(b||e){var P;const L=(P=n==null?void 0:n.findIndex(B=>B===e||B===b))!=null?P:-1;G&&L!==-1&&typeof G[L]=="number"&&U(G[L])}},[b,e,n,G,U]);function Z({draggedDistance:P,closeDrawer:L,velocity:B,dismissible:K}){if(u===void 0)return;const q=w==="bottom"||w==="right"?(z??0)-P:(z??0)+P,ee=k===u-1,X=k===0,Pe=P>0;if(ee&&Br(c.current,{transition:`opacity ${dr.DURATION}s cubic-bezier(${dr.EASE.join(",")})`}),!g&&B>2&&!Pe){K?L():U(G[0]);return}if(!g&&B>2&&Pe&&G&&n){U(G[n.length-1]);return}const ne=G==null?void 0:G.reduce((xe,oe)=>typeof xe!="number"||typeof oe!="number"?xe:Math.abs(oe-q)<Math.abs(xe-q)?oe:xe),we=Rr(w)?window.innerHeight:window.innerWidth;if(B>AC&&Math.abs(P)<we*.4){const xe=Pe?1:-1;if(xe>0&&O&&n){U(G[n.length-1]);return}if(X&&xe<0&&K&&L(),k===null)return;U(G[k+xe]);return}U(ne)}function re({draggedDistance:P}){if(z===null)return;const L=w==="bottom"||w==="right"?z-P:z+P;(w==="bottom"||w==="right")&&L<G[G.length-1]||(w==="top"||w==="left")&&L>G[G.length-1]||Br(i.current,{transform:Rr(w)?`translate3d(0, ${L}px, 0)`:`translate3d(${L}px, 0, 0)`})}function le(P,L){if(!n||typeof k!="number"||!G||u===void 0)return null;const B=k===u-1;if(k>=u&&L)return 0;if(B&&!L)return 1;if(!F&&!B)return null;const q=B?k+1:k-1,ee=B?G[q]-G[q-1]:G[q+1]-G[q],X=P/Math.abs(ee);return B?1-X:X}return{isLastSnapPoint:O,activeSnapPoint:b,shouldFade:F,getPercentageDragged:le,setActiveSnapPoint:E,activeSnapPointIndex:k,onRelease:Z,onDrag:re,snapPointsOffset:G}}const ID=()=>()=>{};function ND(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:i,noBodyStyles:c}=Nu(),u=Ee.useRef(null),h=M.useMemo(()=>document.body.style.backgroundColor,[]);function w(){return(window.innerWidth-hp)/window.innerWidth}Ee.useEffect(()=>{if(t&&n){u.current&&clearTimeout(u.current);const y=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!y)return;ED(i&&!c?n0(document.body,{background:"black"}):ID,n0(y,{transformOrigin:Rr(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${dr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${dr.EASE.join(",")})`}));const g=n0(y,{borderRadius:`${TC}px`,overflow:"hidden",...Rr(e)?{transform:`scale(${w()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${w()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{g(),u.current=window.setTimeout(()=>{h?document.body.style.background=h:document.body.style.removeProperty("background")},dr.DURATION*1e3)}}},[t,n,h])}let Vc=null;function RD({isOpen:e,modal:t,nested:n,hasBeenOpened:i,preventScrollRestoration:c,noBodyStyles:u}){const[h,w]=Ee.useState(()=>typeof window<"u"?window.location.href:""),y=Ee.useRef(0),g=Ee.useCallback(()=>{if(Jy()&&Vc===null&&e&&!u){Vc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:E,innerHeight:T}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-y.current}px`,left:`${-E}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const R=T-window.innerHeight;R&&y.current>=T&&(document.body.style.top=`${-(y.current+R)}px`)}),300)}},[e]),b=Ee.useCallback(()=>{if(Jy()&&Vc!==null&&!u){const E=-parseInt(document.body.style.top,10),T=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Vc),window.requestAnimationFrame(()=>{if(c&&h!==window.location.href){w(window.location.href);return}window.scrollTo(T,E)}),Vc=null}},[h]);return Ee.useEffect(()=>{function E(){y.current=window.scrollY}return E(),window.addEventListener("scroll",E),()=>{window.removeEventListener("scroll",E)}},[]),Ee.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||b()}},[t,b]),Ee.useEffect(()=>{n||!i||(e?(!window.matchMedia("(display-mode: standalone)").matches&&g(),t||window.setTimeout(()=>{b()},500)):b())},[e,i,h,t,n,g,b]),{restorePositionSetting:b}}function _D({open:e,onOpenChange:t,children:n,onDrag:i,onRelease:c,snapPoints:u,shouldScaleBackground:h=!1,setBackgroundColorOnScale:w=!0,closeThreshold:y=bD,scrollLockTimeout:g=SD,dismissible:b=!0,handleOnly:E=!1,fadeFromIndex:T=u&&u.length-1,activeSnapPoint:R,setActiveSnapPoint:O,fixed:k,modal:F=!0,onClose:G,nested:z,noBodyStyles:U=!1,direction:Z="bottom",defaultOpen:re=!1,disablePreventScroll:le=!0,snapToSequentialPoint:P=!1,preventScrollRestoration:L=!1,repositionInputs:B=!0,onAnimationEnd:K,container:q,autoFocus:ee=!1}){var X,Pe;const[ne=!1,we]=NC({defaultProp:re,prop:e,onChange:ct=>{t==null||t(ct),!ct&&!z&&$r(),setTimeout(()=>{K==null||K(ct)},dr.DURATION*1e3),ct&&!F&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ct||(document.body.style.pointerEvents="auto")}}),[xe,oe]=Ee.useState(!1),[ce,ue]=Ee.useState(!1),[J,de]=Ee.useState(!1),ve=Ee.useRef(null),Re=Ee.useRef(null),Ge=Ee.useRef(null),Ie=Ee.useRef(null),Le=Ee.useRef(null),Fe=Ee.useRef(!1),Ue=Ee.useRef(null),Se=Ee.useRef(0),Ve=Ee.useRef(!1),Ye=Ee.useRef(!re),tt=Ee.useRef(0),Je=Ee.useRef(null),tn=Ee.useRef(((X=Je.current)==null?void 0:X.getBoundingClientRect().height)||0),nn=Ee.useRef(((Pe=Je.current)==null?void 0:Pe.getBoundingClientRect().width)||0),Gt=Ee.useRef(0),Zt=Ee.useCallback(ct=>{u&&ct===ir.length-1&&(Re.current=new Date)},[]),{activeSnapPoint:it,activeSnapPointIndex:on,setActiveSnapPoint:rt,onRelease:Ln,snapPointsOffset:ir,onDrag:Un,shouldFade:sr,getPercentageDragged:jn}=TD({snapPoints:u,activeSnapPointProp:R,setActiveSnapPointProp:O,drawerRef:Je,fadeFromIndex:T,overlayRef:ve,onSnapPointChange:Zt,direction:Z,container:q,snapToSequentialPoint:P});mD({isDisabled:!ne||ce||!F||J||!xe||!B||!le});const{restorePositionSetting:$r}=RD({isOpen:ne,modal:F,nested:z??!1,hasBeenOpened:xe,preventScrollRestoration:L,noBodyStyles:U});function mn(){return(window.innerWidth-hp)/window.innerWidth}function un(ct){var Bt,lt;!b&&!u||Je.current&&!Je.current.contains(ct.target)||(tn.current=((Bt=Je.current)==null?void 0:Bt.getBoundingClientRect().height)||0,nn.current=((lt=Je.current)==null?void 0:lt.getBoundingClientRect().width)||0,ue(!0),Ge.current=new Date,CC()&&window.addEventListener("touchend",()=>Fe.current=!1,{once:!0}),ct.target.setPointerCapture(ct.pointerId),Se.current=Rr(Z)?ct.pageY:ct.pageX)}function or(ct,Bt){var lt;let ut=ct;const gn=(lt=window.getSelection())==null?void 0:lt.toString(),dt=Je.current?Ud(Je.current,Z):null,Tt=new Date;if(ut.tagName==="SELECT"||ut.hasAttribute("data-vaul-no-drag")||ut.closest("[data-vaul-no-drag]"))return!1;if(Z==="right"||Z==="left")return!0;if(Re.current&&Tt.getTime()-Re.current.getTime()<500)return!1;if(dt!==null&&(Z==="bottom"?dt>0:dt<0))return!0;if(gn&&gn.length>0)return!1;if(Le.current&&Tt.getTime()-Le.current.getTime()<g&&dt===0||Bt)return Le.current=Tt,!1;for(;ut;){if(ut.scrollHeight>ut.clientHeight){if(ut.scrollTop!==0)return Le.current=new Date,!1;if(ut.getAttribute("role")==="dialog")return!0}ut=ut.parentNode}return!0}function Ir(ct){if(Je.current&&ce){const Bt=Z==="bottom"||Z==="right"?1:-1,lt=(Se.current-(Rr(Z)?ct.pageY:ct.pageX))*Bt,ut=lt>0,gn=u&&!b&&!ut;if(gn&&on===0)return;const dt=Math.abs(lt),Tt=document.querySelector("[data-vaul-drawer-wrapper]"),an=Z==="bottom"||Z==="top"?tn.current:nn.current;let Dt=dt/an;const xn=jn(dt,ut);if(xn!==null&&(Dt=xn),gn&&Dt>=1||!Fe.current&&!or(ct.target,ut))return;if(Je.current.classList.add(r0),Fe.current=!0,Br(Je.current,{transition:"none"}),Br(ve.current,{transition:"none"}),u&&Un({draggedDistance:lt}),ut&&!u){const Xt=CD(lt),Er=Math.min(Xt*-1,0)*Bt;Br(Je.current,{transform:Rr(Z)?`translate3d(0, ${Er}px, 0)`:`translate3d(${Er}px, 0, 0)`});return}const qt=1-Dt;if((sr||T&&on===T-1)&&(i==null||i(ct,Dt),Br(ve.current,{opacity:`${qt}`,transition:"none"},!0)),Tt&&ve.current&&h){const Xt=Math.min(mn()+Dt*(1-mn()),1),Er=8-Dt*8,se=Math.max(0,14-Dt*14);Br(Tt,{borderRadius:`${Er}px`,transform:Rr(Z)?`scale(${Xt}) translate3d(0, ${se}px, 0)`:`scale(${Xt}) translate3d(${se}px, 0, 0)`,transition:"none"},!0)}if(!u){const Xt=dt*Bt;Br(Je.current,{transform:Rr(Z)?`translate3d(0, ${Xt}px, 0)`:`translate3d(${Xt}px, 0, 0)`})}}}Ee.useEffect(()=>{window.requestAnimationFrame(()=>{Ye.current=!0})},[]),Ee.useEffect(()=>{var ct;function Bt(){if(!Je.current||!B)return;const lt=document.activeElement;if(fp(lt)||Ve.current){var ut;const gn=((ut=window.visualViewport)==null?void 0:ut.height)||0,dt=window.innerHeight;let Tt=dt-gn;const an=Je.current.getBoundingClientRect().height||0,Dt=an>dt*.8;Gt.current||(Gt.current=an);const xn=Je.current.getBoundingClientRect().top;if(Math.abs(tt.current-Tt)>60&&(Ve.current=!Ve.current),u&&u.length>0&&ir&&on){const qt=ir[on]||0;Tt+=qt}if(tt.current=Tt,an>gn||Ve.current){const qt=Je.current.getBoundingClientRect().height;let Xt=qt;qt>gn&&(Xt=gn-(Dt?xn:hp)),k?Je.current.style.height=`${qt-Math.max(Tt,0)}px`:Je.current.style.height=`${Math.max(Xt,gn-xn)}px`}else lD()||(Je.current.style.height=`${Gt.current}px`);u&&u.length>0&&!Ve.current?Je.current.style.bottom="0px":Je.current.style.bottom=`${Math.max(Tt,0)}px`}}return(ct=window.visualViewport)==null||ct.addEventListener("resize",Bt),()=>{var lt;return(lt=window.visualViewport)==null?void 0:lt.removeEventListener("resize",Bt)}},[on,u,ir]);function hr(ct){Xe(),G==null||G(),ct||we(!1),setTimeout(()=>{u&&rt(u[0])},dr.DURATION*1e3)}function dn(){if(!Je.current)return;const ct=document.querySelector("[data-vaul-drawer-wrapper]"),Bt=Ud(Je.current,Z);Br(Je.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${dr.DURATION}s cubic-bezier(${dr.EASE.join(",")})`}),Br(ve.current,{transition:`opacity ${dr.DURATION}s cubic-bezier(${dr.EASE.join(",")})`,opacity:"1"}),h&&Bt&&Bt>0&&ne&&Br(ct,{borderRadius:`${TC}px`,overflow:"hidden",...Rr(Z)?{transform:`scale(${mn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${mn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${dr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${dr.EASE.join(",")})`},!0)}function Xe(){!ce||!Je.current||(Je.current.classList.remove(r0),Fe.current=!1,ue(!1),Ie.current=new Date)}function En(ct){if(!ce||!Je.current)return;Je.current.classList.remove(r0),Fe.current=!1,ue(!1),Ie.current=new Date;const Bt=Ud(Je.current,Z);if(!ct||!or(ct.target,!1)||!Bt||Number.isNaN(Bt)||Ge.current===null)return;const lt=Ie.current.getTime()-Ge.current.getTime(),ut=Se.current-(Rr(Z)?ct.pageY:ct.pageX),gn=Math.abs(ut)/lt;if(gn>.05&&(de(!0),setTimeout(()=>{de(!1)},200)),u){Ln({draggedDistance:ut*(Z==="bottom"||Z==="right"?1:-1),closeDrawer:hr,velocity:gn,dismissible:b}),c==null||c(ct,!0);return}if(Z==="bottom"||Z==="right"?ut>0:ut<0){dn(),c==null||c(ct,!0);return}if(gn>AC){hr(),c==null||c(ct,!1);return}var dt;const Tt=Math.min((dt=Je.current.getBoundingClientRect().height)!=null?dt:0,window.innerHeight);var an;const Dt=Math.min((an=Je.current.getBoundingClientRect().width)!=null?an:0,window.innerWidth),xn=Z==="left"||Z==="right";if(Math.abs(Bt)>=(xn?Dt:Tt)*y){hr(),c==null||c(ct,!1);return}c==null||c(ct,!0),dn()}Ee.useEffect(()=>(ne&&(Br(document.documentElement,{scrollBehavior:"auto"}),Re.current=new Date),()=>{vD(document.documentElement,"scrollBehavior")}),[ne]);function Wt(ct){const Bt=ct?(window.innerWidth-Ua)/window.innerWidth:1,lt=ct?-Ua:0;Ue.current&&window.clearTimeout(Ue.current),Br(Je.current,{transition:`transform ${dr.DURATION}s cubic-bezier(${dr.EASE.join(",")})`,transform:Rr(Z)?`scale(${Bt}) translate3d(0, ${lt}px, 0)`:`scale(${Bt}) translate3d(${lt}px, 0, 0)`}),!ct&&Je.current&&(Ue.current=setTimeout(()=>{const ut=Ud(Je.current,Z);Br(Je.current,{transition:"none",transform:Rr(Z)?`translate3d(0, ${ut}px, 0)`:`translate3d(${ut}px, 0, 0)`})},500))}function fn(ct,Bt){if(Bt<0)return;const lt=(window.innerWidth-Ua)/window.innerWidth,ut=lt+Bt*(1-lt),gn=-Ua+Bt*Ua;Br(Je.current,{transform:Rr(Z)?`scale(${ut}) translate3d(0, ${gn}px, 0)`:`scale(${ut}) translate3d(${gn}px, 0, 0)`,transition:"none"})}function Cr(ct,Bt){const lt=Rr(Z)?window.innerHeight:window.innerWidth,ut=Bt?(lt-Ua)/lt:1,gn=Bt?-Ua:0;Bt&&Br(Je.current,{transition:`transform ${dr.DURATION}s cubic-bezier(${dr.EASE.join(",")})`,transform:Rr(Z)?`scale(${ut}) translate3d(0, ${gn}px, 0)`:`scale(${ut}) translate3d(${gn}px, 0, 0)`})}return Ee.useEffect(()=>{F||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[F]),Ee.createElement(Om,{defaultOpen:re,onOpenChange:ct=>{!b&&!ct||(ct?oe(!0):hr(!0),we(ct))},open:ne},Ee.createElement(vC.Provider,{value:{activeSnapPoint:it,snapPoints:u,setActiveSnapPoint:rt,drawerRef:Je,overlayRef:ve,onOpenChange:t,onPress:un,onRelease:En,onDrag:Ir,dismissible:b,shouldAnimate:Ye,handleOnly:E,isOpen:ne,isDragging:ce,shouldFade:sr,closeDrawer:hr,onNestedDrag:fn,onNestedOpenChange:Wt,onNestedRelease:Cr,keyboardIsOpen:Ve,modal:F,snapPointsOffset:ir,activeSnapPointIndex:on,direction:Z,shouldScaleBackground:h,setBackgroundColorOnScale:w,noBodyStyles:U,container:q,autoFocus:ee}},n))}const RC=Ee.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:i,onRelease:c,shouldFade:u,isOpen:h,modal:w,shouldAnimate:y}=Nu(),g=bC(t,n),b=i&&i.length>0;if(!w)return null;const E=Ee.useCallback(T=>c(T),[c]);return Ee.createElement(Lm,{onMouseUp:E,ref:g,"data-vaul-overlay":"","data-vaul-snap-points":h&&b?"true":"false","data-vaul-snap-points-overlay":h&&u?"true":"false","data-vaul-animate":y!=null&&y.current?"true":"false",...e})});RC.displayName="Drawer.Overlay";const _C=Ee.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...i},c){const{drawerRef:u,onPress:h,onRelease:w,onDrag:y,keyboardIsOpen:g,snapPointsOffset:b,activeSnapPointIndex:E,modal:T,isOpen:R,direction:O,snapPoints:k,container:F,handleOnly:G,shouldAnimate:z,autoFocus:U}=Nu(),[Z,re]=Ee.useState(!1),le=bC(c,u),P=Ee.useRef(null),L=Ee.useRef(null),B=Ee.useRef(!1),K=k&&k.length>0;ND();const q=(X,Pe,ne=0)=>{if(B.current)return!0;const we=Math.abs(X.y),xe=Math.abs(X.x),oe=xe>we,ce=["bottom","right"].includes(Pe)?1:-1;if(Pe==="left"||Pe==="right"){if(!(X.x*ce<0)&&xe>=0&&xe<=ne)return oe}else if(!(X.y*ce<0)&&we>=0&&we<=ne)return!oe;return B.current=!0,!0};Ee.useEffect(()=>{K&&window.requestAnimationFrame(()=>{re(!0)})},[]);function ee(X){P.current=null,B.current=!1,w(X)}return Ee.createElement(jm,{"data-vaul-drawer-direction":O,"data-vaul-drawer":"","data-vaul-delayed-snap-points":Z?"true":"false","data-vaul-snap-points":R&&K?"true":"false","data-vaul-custom-container":F?"true":"false","data-vaul-animate":z!=null&&z.current?"true":"false",...i,ref:le,style:b&&b.length>0?{"--snap-point-height":`${b[E??0]}px`,...t}:t,onPointerDown:X=>{G||(i.onPointerDown==null||i.onPointerDown.call(i,X),P.current={x:X.pageX,y:X.pageY},h(X))},onOpenAutoFocus:X=>{n==null||n(X),U||X.preventDefault()},onPointerDownOutside:X=>{if(e==null||e(X),!T||X.defaultPrevented){X.preventDefault();return}g.current&&(g.current=!1)},onFocusOutside:X=>{if(!T){X.preventDefault();return}},onPointerMove:X=>{if(L.current=X,G||(i.onPointerMove==null||i.onPointerMove.call(i,X),!P.current))return;const Pe=X.pageY-P.current.y,ne=X.pageX-P.current.x,we=X.pointerType==="touch"?10:2;q({x:ne,y:Pe},O,we)?y(X):(Math.abs(ne)>we||Math.abs(Pe)>we)&&(P.current=null)},onPointerUp:X=>{i.onPointerUp==null||i.onPointerUp.call(i,X),P.current=null,B.current=!1,w(X)},onPointerOut:X=>{i.onPointerOut==null||i.onPointerOut.call(i,X),ee(L.current)},onContextMenu:X=>{i.onContextMenu==null||i.onContextMenu.call(i,X),L.current&&ee(L.current)}})});_C.displayName="Drawer.Content";const PD=250,DD=120,MD=Ee.forwardRef(function({preventCycle:e=!1,children:t,...n},i){const{closeDrawer:c,isDragging:u,snapPoints:h,activeSnapPoint:w,setActiveSnapPoint:y,dismissible:g,handleOnly:b,isOpen:E,onPress:T,onDrag:R}=Nu(),O=Ee.useRef(null),k=Ee.useRef(!1);function F(){if(k.current){U();return}window.setTimeout(()=>{G()},DD)}function G(){if(u||e||k.current){U();return}if(U(),!h||h.length===0){g||c();return}if(w===h[h.length-1]&&g){c();return}const re=h.findIndex(P=>P===w);if(re===-1)return;const le=h[re+1];y(le)}function z(){O.current=window.setTimeout(()=>{k.current=!0},PD)}function U(){O.current&&window.clearTimeout(O.current),k.current=!1}return Ee.createElement("div",{onClick:F,onPointerCancel:U,onPointerDown:Z=>{b&&T(Z),z()},onPointerMove:Z=>{b&&R(Z)},ref:i,"data-vaul-drawer-visible":E?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},Ee.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});MD.displayName="Drawer.Handle";function OD(e){const t=Nu(),{container:n=t.container,...i}=e;return Ee.createElement(km,{container:n,...i})}const oc={Root:_D,Content:_C,Overlay:RC,Portal:OD,Title:Bm,Description:Fm};function PC(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(n=PC(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function DC(){for(var e,t,n=0,i="",c=arguments.length;n<c;n++)(e=arguments[n])&&(t=PC(e))&&(i&&(i+=" "),i+=t);return i}const Hm="-",kD=e=>{const t=jD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:h=>{const w=h.split(Hm);return w[0]===""&&w.length!==1&&w.shift(),MC(w,t)||LD(h)},getConflictingClassGroupIds:(h,w)=>{const y=n[h]||[];return w&&i[h]?[...y,...i[h]]:y}}},MC=(e,t)=>{var h;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),c=i?MC(e.slice(1),i):void 0;if(c)return c;if(t.validators.length===0)return;const u=e.join(Hm);return(h=t.validators.find(({validator:w})=>w(u)))==null?void 0:h.classGroupId},rv=/^\[(.+)\]$/,LD=e=>{if(rv.test(e)){const t=rv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},jD=e=>{const{theme:t,classGroups:n}=e,i={nextPart:new Map,validators:[]};for(const c in n)pp(n[c],i,c,t);return i},pp=(e,t,n,i)=>{e.forEach(c=>{if(typeof c=="string"){const u=c===""?t:iv(t,c);u.classGroupId=n;return}if(typeof c=="function"){if(BD(c)){pp(c(i),t,n,i);return}t.validators.push({validator:c,classGroupId:n});return}Object.entries(c).forEach(([u,h])=>{pp(h,iv(t,u),n,i)})})},iv=(e,t)=>{let n=e;return t.split(Hm).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},BD=e=>e.isThemeGetter,FD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const c=(u,h)=>{n.set(u,h),t++,t>e&&(t=0,i=n,n=new Map)};return{get(u){let h=n.get(u);if(h!==void 0)return h;if((h=i.get(u))!==void 0)return c(u,h),h},set(u,h){n.has(u)?n.set(u,h):c(u,h)}}},mp="!",gp=":",VD=gp.length,UD=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=c=>{const u=[];let h=0,w=0,y=0,g;for(let O=0;O<c.length;O++){let k=c[O];if(h===0&&w===0){if(k===gp){u.push(c.slice(y,O)),y=O+VD;continue}if(k==="/"){g=O;continue}}k==="["?h++:k==="]"?h--:k==="("?w++:k===")"&&w--}const b=u.length===0?c:c.substring(y),E=HD(b),T=E!==b,R=g&&g>y?g-y:void 0;return{modifiers:u,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:R}};if(t){const c=t+gp,u=i;i=h=>h.startsWith(c)?u(h.substring(c.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(n){const c=i;i=u=>n({className:u,parseClassName:c})}return i},HD=e=>e.endsWith(mp)?e.substring(0,e.length-1):e.startsWith(mp)?e.substring(1):e,WD=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const c=[];let u=[];return i.forEach(h=>{h[0]==="["||t[h]?(c.push(...u.sort(),h),u=[]):u.push(h)}),c.push(...u.sort()),c}},zD=e=>({cache:FD(e.cacheSize),parseClassName:UD(e),sortModifiers:WD(e),...kD(e)}),GD=/\s+/,XD=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:c,sortModifiers:u}=t,h=[],w=e.trim().split(GD);let y="";for(let g=w.length-1;g>=0;g-=1){const b=w[g],{isExternal:E,modifiers:T,hasImportantModifier:R,baseClassName:O,maybePostfixModifierPosition:k}=n(b);if(E){y=b+(y.length>0?" "+y:y);continue}let F=!!k,G=i(F?O.substring(0,k):O);if(!G){if(!F){y=b+(y.length>0?" "+y:y);continue}if(G=i(O),!G){y=b+(y.length>0?" "+y:y);continue}F=!1}const z=u(T).join(":"),U=R?z+mp:z,Z=U+G;if(h.includes(Z))continue;h.push(Z);const re=c(G,F);for(let le=0;le<re.length;++le){const P=re[le];h.push(U+P)}y=b+(y.length>0?" "+y:y)}return y};function $D(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=OC(t))&&(i&&(i+=" "),i+=n);return i}const OC=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=OC(e[i]))&&(n&&(n+=" "),n+=t);return n};function YD(e,...t){let n,i,c,u=h;function h(y){const g=t.reduce((b,E)=>E(b),e());return n=zD(g),i=n.cache.get,c=n.cache.set,u=w,w(y)}function w(y){const g=i(y);if(g)return g;const b=XD(y,n);return c(y,b),b}return function(){return u($D.apply(null,arguments))}}const Lr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},kC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,LC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZD=/^\d+\/\d+$/,KD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ol=e=>ZD.test(e),Jt=e=>!!e&&!Number.isNaN(Number(e)),Jo=e=>!!e&&Number.isInteger(Number(e)),i0=e=>e.endsWith("%")&&Jt(e.slice(0,-1)),bo=e=>KD.test(e),tM=()=>!0,nM=e=>qD.test(e)&&!QD.test(e),jC=()=>!1,rM=e=>JD.test(e),iM=e=>eM.test(e),sM=e=>!wt(e)&&!yt(e),oM=e=>ac(e,VC,jC),wt=e=>kC.test(e),Ha=e=>ac(e,UC,nM),s0=e=>ac(e,dM,Jt),sv=e=>ac(e,BC,jC),aM=e=>ac(e,FC,iM),Hd=e=>ac(e,HC,rM),yt=e=>LC.test(e),Uc=e=>lc(e,UC),lM=e=>lc(e,fM),ov=e=>lc(e,BC),cM=e=>lc(e,VC),uM=e=>lc(e,FC),Wd=e=>lc(e,HC,!0),ac=(e,t,n)=>{const i=kC.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},lc=(e,t,n=!1)=>{const i=LC.exec(e);return i?i[1]?t(i[1]):n:!1},BC=e=>e==="position"||e==="percentage",FC=e=>e==="image"||e==="url",VC=e=>e==="length"||e==="size"||e==="bg-size",UC=e=>e==="length",dM=e=>e==="number",fM=e=>e==="family-name",HC=e=>e==="shadow",hM=()=>{const e=Lr("color"),t=Lr("font"),n=Lr("text"),i=Lr("font-weight"),c=Lr("tracking"),u=Lr("leading"),h=Lr("breakpoint"),w=Lr("container"),y=Lr("spacing"),g=Lr("radius"),b=Lr("shadow"),E=Lr("inset-shadow"),T=Lr("text-shadow"),R=Lr("drop-shadow"),O=Lr("blur"),k=Lr("perspective"),F=Lr("aspect"),G=Lr("ease"),z=Lr("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...Z(),yt,wt],le=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],L=()=>[yt,wt,y],B=()=>[Ol,"full","auto",...L()],K=()=>[Jo,"none","subgrid",yt,wt],q=()=>["auto",{span:["full",Jo,yt,wt]},Jo,yt,wt],ee=()=>[Jo,"auto",yt,wt],X=()=>["auto","min","max","fr",yt,wt],Pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],we=()=>["auto",...L()],xe=()=>[Ol,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],oe=()=>[e,yt,wt],ce=()=>[...Z(),ov,sv,{position:[yt,wt]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",cM,oM,{size:[yt,wt]}],de=()=>[i0,Uc,Ha],ve=()=>["","none","full",g,yt,wt],Re=()=>["",Jt,Uc,Ha],Ge=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Le=()=>[Jt,i0,ov,sv],Fe=()=>["","none",O,yt,wt],Ue=()=>["none",Jt,yt,wt],Se=()=>["none",Jt,yt,wt],Ve=()=>[Jt,yt,wt],Ye=()=>[Ol,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bo],breakpoint:[bo],color:[tM],container:[bo],"drop-shadow":[bo],ease:["in","out","in-out"],font:[sM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bo],shadow:[bo],spacing:["px",Jt],text:[bo],"text-shadow":[bo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ol,wt,yt,F]}],container:["container"],columns:[{columns:[Jt,wt,yt,w]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[Jo,"auto",yt,wt]}],basis:[{basis:[Ol,"full","auto",w,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Jt,Ol,"auto","initial","none",wt]}],grow:[{grow:["",Jt,yt,wt]}],shrink:[{shrink:["",Jt,yt,wt]}],order:[{order:[Jo,"first","last","none",yt,wt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...Pe(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...Pe()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":Pe()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:we()}],mx:[{mx:we()}],my:[{my:we()}],ms:[{ms:we()}],me:[{me:we()}],mt:[{mt:we()}],mr:[{mr:we()}],mb:[{mb:we()}],ml:[{ml:we()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:xe()}],w:[{w:[w,"screen",...xe()]}],"min-w":[{"min-w":[w,"screen","none",...xe()]}],"max-w":[{"max-w":[w,"screen","none","prose",{screen:[h]},...xe()]}],h:[{h:["screen",...xe()]}],"min-h":[{"min-h":["screen","none",...xe()]}],"max-h":[{"max-h":["screen",...xe()]}],"font-size":[{text:["base",n,Uc,Ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,yt,s0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",i0,wt]}],"font-family":[{font:[lM,wt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,yt,wt]}],"line-clamp":[{"line-clamp":[Jt,"none",yt,s0]}],leading:[{leading:[u,...L()]}],"list-image":[{"list-image":["none",yt,wt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",yt,wt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:oe()}],"text-color":[{text:oe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Jt,"from-font","auto",yt,Ha]}],"text-decoration-color":[{decoration:oe()}],"underline-offset":[{"underline-offset":[Jt,"auto",yt,wt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt,wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt,wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jo,yt,wt],radial:["",yt,wt],conic:[Jo,yt,wt]},uM,aM]}],"bg-color":[{bg:oe()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:oe()}],"gradient-via":[{via:oe()}],"gradient-to":[{to:oe()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:Re()}],"border-w-x":[{"border-x":Re()}],"border-w-y":[{"border-y":Re()}],"border-w-s":[{"border-s":Re()}],"border-w-e":[{"border-e":Re()}],"border-w-t":[{"border-t":Re()}],"border-w-r":[{"border-r":Re()}],"border-w-b":[{"border-b":Re()}],"border-w-l":[{"border-l":Re()}],"divide-x":[{"divide-x":Re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ge(),"hidden","none"]}],"divide-style":[{divide:[...Ge(),"hidden","none"]}],"border-color":[{border:oe()}],"border-color-x":[{"border-x":oe()}],"border-color-y":[{"border-y":oe()}],"border-color-s":[{"border-s":oe()}],"border-color-e":[{"border-e":oe()}],"border-color-t":[{"border-t":oe()}],"border-color-r":[{"border-r":oe()}],"border-color-b":[{"border-b":oe()}],"border-color-l":[{"border-l":oe()}],"divide-color":[{divide:oe()}],"outline-style":[{outline:[...Ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Jt,yt,wt]}],"outline-w":[{outline:["",Jt,Uc,Ha]}],"outline-color":[{outline:oe()}],shadow:[{shadow:["","none",b,Wd,Hd]}],"shadow-color":[{shadow:oe()}],"inset-shadow":[{"inset-shadow":["none",E,Wd,Hd]}],"inset-shadow-color":[{"inset-shadow":oe()}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:oe()}],"ring-offset-w":[{"ring-offset":[Jt,Ha]}],"ring-offset-color":[{"ring-offset":oe()}],"inset-ring-w":[{"inset-ring":Re()}],"inset-ring-color":[{"inset-ring":oe()}],"text-shadow":[{"text-shadow":["none",T,Wd,Hd]}],"text-shadow-color":[{"text-shadow":oe()}],opacity:[{opacity:[Jt,yt,wt]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Le()}],"mask-image-linear-to-pos":[{"mask-linear-to":Le()}],"mask-image-linear-from-color":[{"mask-linear-from":oe()}],"mask-image-linear-to-color":[{"mask-linear-to":oe()}],"mask-image-t-from-pos":[{"mask-t-from":Le()}],"mask-image-t-to-pos":[{"mask-t-to":Le()}],"mask-image-t-from-color":[{"mask-t-from":oe()}],"mask-image-t-to-color":[{"mask-t-to":oe()}],"mask-image-r-from-pos":[{"mask-r-from":Le()}],"mask-image-r-to-pos":[{"mask-r-to":Le()}],"mask-image-r-from-color":[{"mask-r-from":oe()}],"mask-image-r-to-color":[{"mask-r-to":oe()}],"mask-image-b-from-pos":[{"mask-b-from":Le()}],"mask-image-b-to-pos":[{"mask-b-to":Le()}],"mask-image-b-from-color":[{"mask-b-from":oe()}],"mask-image-b-to-color":[{"mask-b-to":oe()}],"mask-image-l-from-pos":[{"mask-l-from":Le()}],"mask-image-l-to-pos":[{"mask-l-to":Le()}],"mask-image-l-from-color":[{"mask-l-from":oe()}],"mask-image-l-to-color":[{"mask-l-to":oe()}],"mask-image-x-from-pos":[{"mask-x-from":Le()}],"mask-image-x-to-pos":[{"mask-x-to":Le()}],"mask-image-x-from-color":[{"mask-x-from":oe()}],"mask-image-x-to-color":[{"mask-x-to":oe()}],"mask-image-y-from-pos":[{"mask-y-from":Le()}],"mask-image-y-to-pos":[{"mask-y-to":Le()}],"mask-image-y-from-color":[{"mask-y-from":oe()}],"mask-image-y-to-color":[{"mask-y-to":oe()}],"mask-image-radial":[{"mask-radial":[yt,wt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Le()}],"mask-image-radial-to-pos":[{"mask-radial-to":Le()}],"mask-image-radial-from-color":[{"mask-radial-from":oe()}],"mask-image-radial-to-color":[{"mask-radial-to":oe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Z()}],"mask-image-conic-pos":[{"mask-conic":[Jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Le()}],"mask-image-conic-to-pos":[{"mask-conic-to":Le()}],"mask-image-conic-from-color":[{"mask-conic-from":oe()}],"mask-image-conic-to-color":[{"mask-conic-to":oe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",yt,wt]}],filter:[{filter:["","none",yt,wt]}],blur:[{blur:Fe()}],brightness:[{brightness:[Jt,yt,wt]}],contrast:[{contrast:[Jt,yt,wt]}],"drop-shadow":[{"drop-shadow":["","none",R,Wd,Hd]}],"drop-shadow-color":[{"drop-shadow":oe()}],grayscale:[{grayscale:["",Jt,yt,wt]}],"hue-rotate":[{"hue-rotate":[Jt,yt,wt]}],invert:[{invert:["",Jt,yt,wt]}],saturate:[{saturate:[Jt,yt,wt]}],sepia:[{sepia:["",Jt,yt,wt]}],"backdrop-filter":[{"backdrop-filter":["","none",yt,wt]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[Jt,yt,wt]}],"backdrop-contrast":[{"backdrop-contrast":[Jt,yt,wt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Jt,yt,wt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Jt,yt,wt]}],"backdrop-invert":[{"backdrop-invert":["",Jt,yt,wt]}],"backdrop-opacity":[{"backdrop-opacity":[Jt,yt,wt]}],"backdrop-saturate":[{"backdrop-saturate":[Jt,yt,wt]}],"backdrop-sepia":[{"backdrop-sepia":["",Jt,yt,wt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",yt,wt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Jt,"initial",yt,wt]}],ease:[{ease:["linear","initial",G,yt,wt]}],delay:[{delay:[Jt,yt,wt]}],animate:[{animate:["none",z,yt,wt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,yt,wt]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[yt,wt,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:oe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:oe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt,wt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt,wt]}],fill:[{fill:["none",...oe()]}],"stroke-w":[{stroke:[Jt,Uc,Ha,s0]}],stroke:[{stroke:["none",...oe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pM=YD(hM);function cn(...e){return pM(DC(e))}function $s(e){const t=e.replace("#","");if(t.length!==6||!/^[0-9A-Fa-f]{6}$/.test(t))return"0 6px 30px 12px rgba(156, 163, 175, 0.16)";const n=parseInt(t.slice(0,2),16),i=parseInt(t.slice(2,4),16),c=parseInt(t.slice(4,6),16);return`0 6px 30px 12px rgba(${n}, ${i}, ${c}, 0.16)`}function fa(e){const t=e.replace("#","");if(t.length!==6||!/^[0-9A-Fa-f]{6}$/.test(t))return!1;const n=parseInt(t.slice(0,2),16)/255,i=parseInt(t.slice(2,4),16)/255,c=parseInt(t.slice(4,6),16)/255;return .299*n+.587*i+.114*c>.65}function Wm({...e}){return x.jsx(oc.Root,{"data-slot":"drawer",...e})}function mM({...e}){return x.jsx(oc.Portal,{"data-slot":"drawer-portal",...e})}function gM({className:e,...t}){return x.jsx(oc.Overlay,{"data-slot":"drawer-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function zm({className:e,children:t,...n}){return x.jsxs(mM,{"data-slot":"drawer-portal",children:[x.jsx(gM,{}),x.jsxs(oc.Content,{"data-slot":"drawer-content",className:cn("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...n,children:[x.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]})]})}function Gm({className:e,...t}){return x.jsx("div",{"data-slot":"drawer-header",className:cn("flex flex-col gap-1.5 p-4",e),...t})}function xM({className:e,...t}){return x.jsx("div",{"data-slot":"drawer-footer",className:cn("mt-auto flex flex-col gap-2 p-4",e),...t})}function Xm({className:e,...t}){return x.jsx(oc.Title,{"data-slot":"drawer-title",className:cn("text-foreground font-semibold",e),...t})}function $m({className:e,...t}){return x.jsx(oc.Description,{"data-slot":"drawer-description",className:cn("text-muted-foreground text-sm",e),...t})}function Ym({className:e="",active:t=!1}){const n=M.useId(),i=`clip0-projects-${n.replace(/:/g,"")}`,c=`mask0-projects-${n.replace(/:/g,"")}`;return t?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${i})`,children:[x.jsx("mask",{id:c,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${c})`,children:[x.jsx("path",{d:"M21.0602 11.8196L20.9002 11.5996C20.6202 11.2596 20.2902 10.9896 19.9102 10.7896C19.4002 10.4996 18.8202 10.3496 18.2202 10.3496H5.7702C5.1702 10.3496 4.6002 10.4996 4.0802 10.7896C3.6902 10.9996 3.3402 11.2896 3.0502 11.6496C2.4802 12.3796 2.2102 13.2796 2.3002 14.1796L2.6702 18.8496C2.8002 20.2596 2.9702 21.9996 6.1402 21.9996H17.8602C21.0302 21.9996 21.1902 20.2596 21.3302 18.8396L21.7002 14.1896C21.7902 13.3496 21.5702 12.5096 21.0602 11.8196ZM14.3902 17.3396H9.6002C9.2102 17.3396 8.9002 17.0196 8.9002 16.6396C8.9002 16.2596 9.2102 15.9396 9.6002 15.9396H14.3902C14.7802 15.9396 15.0902 16.2596 15.0902 16.6396C15.0902 17.0296 14.7802 17.3396 14.3902 17.3396Z",fill:"currentColor"}),x.jsx("path",{opacity:"0.4",d:"M3.37988 11.31C3.59988 11.11 3.81988 10.93 4.07988 10.79C4.58988 10.5 5.16988 10.35 5.76988 10.35H18.2299C18.8299 10.35 19.3999 10.5 19.9199 10.79C20.1799 10.93 20.4099 11.11 20.6199 11.32V10.79V9.82C20.6199 6.25 19.5299 5.16 15.9599 5.16H13.5799C13.1399 5.16 13.1299 5.15 12.8699 4.81L11.6699 3.2C11.0999 2.46 10.6499 2 9.21988 2H8.03988C4.46988 2 3.37988 3.09 3.37988 6.66V10.8V11.31Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:i,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${i})`,children:[x.jsx("mask",{id:c,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${c})`,children:[x.jsx("path",{d:"M18.29 22.75H5.70995C2.30995 22.75 2.12995 20.88 1.97995 19.37L1.57995 14.36C1.48995 13.39 1.76995 12.42 2.38995 11.64C3.12995 10.74 4.17995 10.25 5.30995 10.25H18.69C19.8 10.25 20.85 10.74 21.5599 11.59L21.7299 11.82C22.27 12.56 22.51 13.46 22.42 14.37L22.02 19.36C21.87 20.88 21.69 22.75 18.29 22.75ZM5.30995 11.75C4.63995 11.75 3.99995 12.05 3.57995 12.57L3.50995 12.64C3.18995 13.05 3.01995 13.63 3.07995 14.23L3.47995 19.24C3.61995 20.7 3.67995 21.25 5.70995 21.25H18.29C20.33 21.25 20.38 20.7 20.52 19.23L20.92 14.22C20.9799 13.63 20.8099 13.04 20.42 12.58L20.32 12.46C19.8699 11.99 19.3 11.75 18.68 11.75H5.30995Z",fill:"currentColor"}),x.jsx("path",{d:"M20.5 12.2203C20.09 12.2203 19.75 11.8803 19.75 11.4703V9.68027C19.75 6.70027 19.23 6.18027 16.25 6.18027H13.7C12.57 6.18027 12.18 5.78027 11.75 5.21027L10.46 3.50027C10.02 2.92027 9.92 2.78027 9.02 2.78027H7.75C4.77 2.78027 4.25 3.30027 4.25 6.28027V11.4303C4.25 11.8403 3.91 12.1803 3.5 12.1803C3.09 12.1803 2.75 11.8403 2.75 11.4303V6.28027C2.75 2.45027 3.92 1.28027 7.75 1.28027H9.03C10.57 1.28027 11.05 1.78027 11.67 2.60027L12.95 4.30027C13.22 4.66027 13.24 4.68027 13.71 4.68027H16.26C20.09 4.68027 21.26 5.85027 21.26 9.68027V11.4703C21.25 11.8803 20.91 12.2203 20.5 12.2203Z",fill:"currentColor"}),x.jsx("path",{d:"M14.5697 17.75H9.42969C9.01969 17.75 8.67969 17.41 8.67969 17C8.67969 16.59 9.01969 16.25 9.42969 16.25H14.5697C14.9797 16.25 15.3197 16.59 15.3197 17C15.3197 17.41 14.9897 17.75 14.5697 17.75Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:i,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}const wM=[{id:"filament",title:"Add filament",subtitle:"Add a new filament spool to your inventory",icon:ua,iconBg:"bg-[#F26D00]",iconColor:"text-white",action:e=>{e("/filaments",{state:{openAdd:!0}})}},{id:"part",title:"Add part",subtitle:"Log a new printed part",icon:el,iconBg:"bg-[#3B82F6]",iconColor:"text-white",action:e=>{e("/parts",{state:{openAdd:!0}})}},{id:"project",title:"Add project",subtitle:"Create a project to group printed parts",icon:Ym,iconBg:"bg-[#8B5CF6]",iconColor:"text-white",action:e=>{e("/parts",{state:{openProjectDialog:!0}})}}];function yM({open:e,onOpenChange:t}){const n=ro(),i=c=>{t(!1),c(n)};return x.jsx(Wm,{open:e,onOpenChange:t,children:x.jsxs(zm,{className:"max-h-[70vh] rounded-t-2xl border-t border-[#F26D00]/20 bg-white [&>div:first-child]:!h-1.5 [&>div:first-child]:!w-9 [&>div:first-child]:!mt-3 [&>div:first-child]:!min-h-0",children:[x.jsxs(Gm,{className:"pb-2",children:[x.jsx(Xm,{className:"text-lg text-gray-900",children:"Add new"}),x.jsx($m,{className:"text-sm text-gray-500",children:"Choose what you want to add"})]}),x.jsx("div",{className:"overflow-y-auto px-4 pb-6",children:x.jsx("ul",{className:"space-y-1",children:wM.map(c=>{const u=c.icon;return x.jsx("li",{children:x.jsxs("button",{type:"button",onClick:()=>i(c.action),className:"flex w-full items-center gap-4 rounded-xl px-3 py-3 text-left transition-colors hover:bg-gray-50 active:bg-gray-100",children:[x.jsx("div",{className:`flex h-12 w-12 shrink-0 items-center justify-center rounded-xl ${c.iconBg} ${c.iconColor}`,children:x.jsx(u,{className:`h-6 w-6 ${c.iconColor}`,active:!0})}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("p",{className:"font-semibold text-gray-900",children:c.title}),x.jsx("p",{className:"text-sm text-gray-500",children:c.subtitle})]})]})},c.id)})})})]})})}function zd({children:e}){const t=hs(),[n,i]=M.useState(!1),c=[{path:"/",label:"Dashboard",icon:k_},{path:"/filaments",label:"Filaments",icon:ua},{path:"/parts",label:"Parts",icon:el},{path:"/stats",label:"Stats",icon:L_}];return x.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[x.jsx("main",{className:"flex-1 overflow-y-auto pb-20",style:{paddingTop:"max(0.5rem, env(safe-area-inset-top))"},children:e}),x.jsx("nav",{className:"fixed left-0 right-0 z-50 flex justify-center items-end w-full",style:{bottom:"max(12px, env(safe-area-inset-bottom))"},children:x.jsxs("div",{className:"content-stretch flex gap-[9px] items-center pt-[16px] pb-0 w-full max-w-md mx-auto px-4 min-w-0",children:[x.jsx("div",{className:"bg-white flex gap-[8px] items-center p-[4px] rounded-xl flex-1 min-w-0 h-[64px] min-h-[64px] shadow-[0_-4px_20px_rgba(0,0,0,0.12),0_4px_12px_rgba(0,0,0,0.08)] relative",children:c.map(u=>{const h=t.pathname===u.path||u.path==="/filaments"&&t.pathname.startsWith("/filaments")||u.path==="/stats"&&t.pathname.startsWith("/stats"),w=u.icon;return x.jsxs(Cu,{to:u.path,className:`relative flex flex-col items-center justify-center gap-1 flex-1 min-w-0 h-full min-h-0 py-0 px-1 rounded-xl transition-colors ${h?"text-[#F26D00]":"text-[#7A7A7A] hover:text-gray-900"}`,children:[h&&x.jsx(O_.div,{layoutId:"nav-indicator",className:"absolute inset-0 rounded-[10px] z-0 bg-orange-100",transition:{type:"spring",stiffness:400,damping:30}}),x.jsxs("span",{className:"relative z-[1] flex flex-col items-center gap-1",children:[x.jsx(w,{active:h}),x.jsx("span",{className:"sr-only",children:u.label})]})]},u.path)})}),x.jsxs("div",{className:"relative shrink-0",children:[x.jsx(yM,{open:n,onOpenChange:i}),x.jsx("button",{type:"button",onClick:()=>i(!0),"aria-label":"Add",className:"flex flex-col items-center justify-center p-[4px] rounded-xl shrink-0 h-[64px] w-[64px] min-h-[64px] min-w-[64px] bg-orange-500 hover:bg-orange-600 text-white transition-colors shadow-[0_-4px_20px_rgba(0,0,0,0.12),0_4px_12px_rgba(0,0,0,0.08)] active:scale-95",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[x.jsx("path",{d:"M18 12.75H6C5.59 12.75 5.25 12.41 5.25 12C5.25 11.59 5.59 11.25 6 11.25H18C18.41 11.25 18.75 11.59 18.75 12C18.75 12.41 18.41 12.75 18 12.75Z"}),x.jsx("path",{d:"M12 18.75C11.59 18.75 11.25 18.41 11.25 18V6C11.25 5.59 11.59 5.25 12 5.25C12.41 5.25 12.75 5.59 12.75 6V18C12.75 18.41 12.41 18.75 12 18.75Z"})]})})]})]})})]})}function zn({className:e,...t}){return x.jsx("div",{"data-slot":"card",className:cn("flex flex-col items-stretch gap-2.5 p-[16px] rounded-xl border border-[#E5E5E5] bg-[#F9F9F9] text-card-foreground w-full max-w-[370px] overflow-hidden",e),...t})}function Zi({children:e,variant:t="filled",className:n,...i}){const c={display:"flex",height:20,padding:"10px 8px",justifyContent:"center",alignItems:"center",gap:10,borderRadius:8};return x.jsx("span",{role:"status",style:{...c,...t==="filled"?{background:"#454545",color:"#FFF"}:{background:"#FFF",border:"1px solid #E5E5E5",color:"#424242"}},className:cn("inline-flex text-xs font-medium w-fit whitespace-nowrap shrink-0",n),...i,children:e})}function Zm({className:e}){const t=M.useId(),n=`clip0-invvalue-${t.replace(/:/g,"")}`,i=`mask0-invvalue-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{opacity:"0.4",d:"M12 21.9004C17.5228 21.9004 22 17.4232 22 11.9004C22 6.37754 17.5228 1.90039 12 1.90039C6.47715 1.90039 2 6.37754 2 11.9004C2 17.4232 6.47715 21.9004 12 21.9004Z",fill:"currentColor"}),x.jsx("path",{d:"M14.2602 12L12.7502 11.47V8.08H13.1102C13.9202 8.08 14.5802 8.79 14.5802 9.66C14.5802 10.07 14.9202 10.41 15.3302 10.41C15.7402 10.41 16.0802 10.07 16.0802 9.66C16.0802 7.96 14.7502 6.58 13.1102 6.58H12.7502V6C12.7502 5.59 12.4102 5.25 12.0002 5.25C11.5902 5.25 11.2502 5.59 11.2502 6V6.58H10.6002C9.12016 6.58 7.91016 7.83 7.91016 9.36C7.91016 11.15 8.95016 11.72 9.74016 12L11.2502 12.53V15.91H10.8902C10.0802 15.91 9.42016 15.2 9.42016 14.33C9.42016 13.92 9.08016 13.58 8.67016 13.58C8.26016 13.58 7.92016 13.92 7.92016 14.33C7.92016 16.03 9.25016 17.41 10.8902 17.41H11.2502V18C11.2502 18.41 11.5902 18.75 12.0002 18.75C12.4102 18.75 12.7502 18.41 12.7502 18V17.42H13.4002C14.8802 17.42 16.0902 16.17 16.0902 14.64C16.0802 12.84 15.0402 12.27 14.2602 12ZM10.2402 10.59C9.73016 10.41 9.42016 10.24 9.42016 9.37C9.42016 8.66 9.95016 8.09 10.6102 8.09H11.2602V10.95L10.2402 10.59ZM13.4002 15.92H12.7502V13.06L13.7602 13.41C14.2702 13.59 14.5802 13.76 14.5802 14.63C14.5802 15.34 14.0502 15.92 13.4002 15.92Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function xp({className:e}){const n=`clip0-lowstock-${M.useId().replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("path",{d:"M17.786 14C18.3866 14 18.9328 14.3899 19.327 15.1006L22.2616 20.3818C22.6329 21.0511 22.6736 21.7021 22.3759 22.2109C22.0779 22.7199 21.4908 23 20.7206 23H14.8524C14.0822 23 13.4952 22.7199 13.1972 22.2109C12.8993 21.7021 12.9401 21.0557 13.3114 20.3818L16.246 15.1006C16.6402 14.3901 17.1856 14.0002 17.786 14ZM17.7499 20.1689C17.3357 20.1689 17 20.5048 16.9999 20.9189C16.9999 21.3332 17.3357 21.6689 17.7499 21.6689H17.7538C18.168 21.6689 18.5038 21.3332 18.5038 20.9189C18.5037 20.5048 18.168 20.1689 17.7538 20.1689H17.7499ZM17.7499 16.5C17.3358 16.5 17.0001 16.836 16.9999 17.25V18.7969C17.0001 19.2109 17.3358 19.5469 17.7499 19.5469C18.164 19.5469 18.4996 19.2109 18.4999 18.7969V17.25C18.4996 16.836 18.164 16.5 17.7499 16.5Z",fill:"currentColor"}),x.jsx("path",{opacity:"0.4",d:"M12 2C17.52 2 22 6.48 22 12C22 13.921 21.4558 15.7151 20.5156 17.2393L19.3271 15.1006C18.9329 14.3899 18.3867 14 17.7861 14C17.1857 14.0002 16.6403 14.3901 16.2461 15.1006L13.3115 20.3818C13.0032 20.9413 12.9233 21.4818 13.0752 21.9404C12.7219 21.9783 12.3633 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM12 9.5C10.62 9.5 9.5 10.62 9.5 12C9.5 13.38 10.62 14.5 12 14.5C13.38 14.5 14.5 13.38 14.5 12C14.5 10.62 13.38 9.5 12 9.5Z",fill:"currentColor"})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function WC({className:e}){const t=M.useId(),n=`clip0-recentprints-empty-${t.replace(/:/g,"")}`,i=`mask0-recentprints-empty-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{d:"M11.9996 13.3008C11.8696 13.3008 11.7396 13.2708 11.6196 13.2008L2.7896 8.09083C2.4396 7.88083 2.3096 7.42083 2.5196 7.06083C2.7296 6.70083 3.1896 6.58083 3.5496 6.79083L11.9996 11.6808L20.3996 6.82083C20.7596 6.61083 21.2196 6.74083 21.4296 7.09083C21.6396 7.45083 21.5096 7.91083 21.1596 8.12083L12.3896 13.2008C12.2596 13.2608 12.1296 13.3008 11.9996 13.3008Z",fill:"currentColor"}),x.jsx("path",{d:"M12 22.3591C11.59 22.3591 11.25 22.0191 11.25 21.6091V12.5391C11.25 12.1291 11.59 11.7891 12 11.7891C12.41 11.7891 12.75 12.1291 12.75 12.5391V21.6091C12.75 22.0191 12.41 22.3591 12 22.3591Z",fill:"currentColor"}),x.jsx("path",{d:"M11.9997 22.75C11.1197 22.75 10.2497 22.56 9.55965 22.18L4.21965 19.21C2.76965 18.41 1.63965 16.48 1.63965 14.82V9.17C1.63965 7.51 2.76965 5.59 4.21965 4.78L9.55965 1.82C10.9297 1.06 13.0697 1.06 14.4397 1.82L19.7797 4.79C21.2297 5.59 22.3597 7.52 22.3597 9.18V14.83C22.3597 16.49 21.2297 18.41 19.7797 19.22L14.4397 22.18C13.7497 22.56 12.8797 22.75 11.9997 22.75ZM11.9997 2.75C11.3697 2.75 10.7497 2.88 10.2897 3.13L4.94965 6.1C3.98965 6.63 3.13965 8.07 3.13965 9.17V14.82C3.13965 15.92 3.98965 17.36 4.94965 17.9L10.2897 20.87C11.1997 21.38 12.7997 21.38 13.7097 20.87L19.0497 17.9C20.0097 17.36 20.8597 15.93 20.8597 14.82V9.17C20.8597 8.07 20.0097 6.63 19.0497 6.09L13.7097 3.12C13.2497 2.88 12.6297 2.75 11.9997 2.75Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function zC({className:e}){const t=M.useId(),n=`clip0-mostused-empty-${t.replace(/:/g,"")}`,i=`mask0-mostused-empty-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{d:"M10.1098 18.1497H6.31982C5.90982 18.1497 5.56982 17.8097 5.56982 17.3997V12.2797C5.56982 11.2397 6.41981 10.3896 7.45981 10.3896H10.1098C10.5198 10.3896 10.8598 10.7296 10.8598 11.1396V17.3896C10.8598 17.8096 10.5198 18.1497 10.1098 18.1497ZM7.06982 16.6497H9.3598V11.8997H7.45981C7.24981 11.8997 7.06982 12.0696 7.06982 12.2896V16.6497Z",fill:"currentColor"}),x.jsx("path",{d:"M13.8901 18.1497H10.1001C9.6901 18.1497 9.3501 17.8097 9.3501 17.3997V7.73962C9.3501 6.69962 10.2001 5.84961 11.2401 5.84961H12.7601C13.8001 5.84961 14.6501 6.69962 14.6501 7.73962V17.3997C14.6401 17.8097 14.3101 18.1497 13.8901 18.1497ZM10.8601 16.6497H13.1501V7.73962C13.1501 7.52962 12.9801 7.34961 12.7601 7.34961H11.2401C11.0301 7.34961 10.8501 7.51962 10.8501 7.73962V16.6497H10.8601Z",fill:"currentColor"}),x.jsx("path",{d:"M17.6801 18.1497H13.8901C13.4801 18.1497 13.1401 17.8097 13.1401 17.3997V12.8496C13.1401 12.4396 13.4801 12.0996 13.8901 12.0996H16.5401C17.5801 12.0996 18.4301 12.9496 18.4301 13.9896V17.3997C18.4301 17.8097 18.1001 18.1497 17.6801 18.1497ZM14.6401 16.6497H16.9301V13.9896C16.9301 13.7796 16.7601 13.5996 16.5401 13.5996H14.6401V16.6497Z",fill:"currentColor"}),x.jsx("path",{d:"M15 22.75H9C3.57 22.75 1.25 20.43 1.25 15V9C1.25 3.57 3.57 1.25 9 1.25H15C20.43 1.25 22.75 3.57 22.75 9V15C22.75 20.43 20.43 22.75 15 22.75ZM9 2.75C4.39 2.75 2.75 4.39 2.75 9V15C2.75 19.61 4.39 21.25 9 21.25H15C19.61 21.25 21.25 19.61 21.25 15V9C21.25 4.39 19.61 2.75 15 2.75H9Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function vM({className:e}){const t=M.useId(),n=`clip0-cloud-${t.replace(/:/g,"")}`,i=`mask0-cloud-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{d:"M20.4798 10.6899L2.00977 15.7199C2.11977 14.1299 3.10977 12.4599 5.10977 11.9699C4.51977 9.63986 5.01977 7.44986 6.53977 5.85986C8.26977 4.04986 11.0298 3.32986 13.4098 4.06986C15.5998 4.73986 17.1398 6.53986 17.6898 9.03986C18.7798 9.28986 19.7498 9.85986 20.4798 10.6899Z",fill:"currentColor"}),x.jsx("path",{opacity:"0.4",d:"M20.17 18.7404C19.13 19.6904 17.77 20.2204 16.35 20.2204H5.97C3.23 20.0204 2 17.9104 2 16.0304C2 15.9304 2 15.8304 2.01 15.7204L20.48 10.6904C21.05 11.3004 21.48 12.0504 21.74 12.9104C22.4 15.0804 21.8 17.3104 20.17 18.7404Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function CM(){const{filaments:e,printedParts:t,isCloudSync:n,isCloudLoading:i}=ga(),c=ro(),u=e.length,h=e.filter(R=>R.remainingWeight/R.totalWeight*100<25).length,w=t.length,y=e.reduce((R,O)=>R+(O.price||0),0),g=[...t].sort((R,O)=>new Date(O.printDate).getTime()-new Date(R.printDate).getTime()).slice(0,3);t.reduce((R,O)=>R+O.printTime,0);const b=t.reduce((R,O)=>(R[O.filamentId]=(R[O.filamentId]||0)+O.weightUsed,R),{}),T=Object.entries(b).sort(([,R],[,O])=>O-R).slice(0,3).map(([R])=>R).map(R=>e.find(O=>O.id===R)).filter(Boolean);return x.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:[x.jsxs("div",{className:"pt-2",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Dashboard - v1.0.5"}),n&&x.jsx("span",{className:"text-xs text-muted-foreground shrink-0 flex items-center gap-1",children:i?"Syncing":x.jsxs(x.Fragment,{children:[x.jsx(vM,{className:"h-4 w-4"}),"Cloud"]})})]}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Your 3D printing overview"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full items-stretch",children:[x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none flex flex-col justify-center cursor-pointer hover:bg-accent/50 transition-colors bg-gradient-to-br from-[#F26D00]/10 to-[#F26D00]/5 border-[#F26D00]/20",onClick:()=>c("/filaments"),children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:"rgba(242, 109, 0, 0.2)",boxShadow:$s("#F26D00")},children:x.jsx(ua,{active:!0,className:"h-5 w-5 text-[#F26D00]"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs font-medium mb-0.5 text-[#F26D00]/70",children:"Filament Spools"}),x.jsx("p",{className:"text-2xl font-bold leading-none text-[#F26D00]",children:u})]})]})}),x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none flex flex-col justify-center cursor-pointer hover:bg-accent/50 transition-colors bg-gradient-to-br from-blue-500/10 to-blue-500/5 border-blue-200/50",onClick:()=>c("/parts"),children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/20 flex items-center justify-center shrink-0",style:{boxShadow:$s("#3b82f6")},children:x.jsx(el,{active:!0,className:"h-5 w-5 text-blue-600"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs text-blue-600/70 mb-0.5 font-medium",children:"Printed Parts"}),x.jsx("p",{className:"text-2xl font-bold leading-none text-blue-600",children:w})]})]})}),x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none flex flex-col justify-center cursor-pointer hover:bg-accent/50 transition-colors bg-gradient-to-br from-red-500/10 to-red-500/5 border-red-200/50",onClick:()=>c("/filaments",{state:{tab:"low"}}),children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-500/20 flex items-center justify-center shrink-0",style:{boxShadow:$s("#ef4444")},children:x.jsx(xp,{className:"h-5 w-5 text-red-600"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs text-red-600/70 mb-0.5 font-medium",children:"Low Stock"}),x.jsx("p",{className:"text-2xl font-bold leading-none text-red-600",children:h})]})]})}),x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none flex flex-col justify-center bg-gradient-to-br from-green-500/10 to-green-500/5 border-green-200/50",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/20 flex items-center justify-center shrink-0",style:{boxShadow:$s("#22c55e")},children:x.jsx(Zm,{className:"h-5 w-5 text-green-600"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs text-green-600/70 mb-0.5 font-medium",children:"Inventory Value"}),x.jsxs("p",{className:"text-2xl font-bold leading-none text-green-600",children:["$",y.toFixed(0)]})]})]})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h2",{className:"font-semibold",children:"Recent Prints"}),x.jsx("button",{type:"button",onClick:()=>c("/parts"),className:"text-sm text-primary font-medium hover:underline",children:"See all"})]}),g.length>0?x.jsx("div",{className:"space-y-2",children:g.map(R=>{const O=e.find(k=>k.id===R.filamentId);return x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>c(`/parts/${R.id}`),children:x.jsxs("div",{className:"flex items-center gap-3 w-full",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0 border border-[#E5E5E5]",style:{backgroundColor:(O==null?void 0:O.colorHex)||"#9ca3af",boxShadow:$s((O==null?void 0:O.colorHex)||"#9ca3af")},children:x.jsx(el,{active:!0,className:`w-5 h-5 drop-shadow-md ${fa((O==null?void 0:O.colorHex)||"#9ca3af")?"text-gray-300":"text-white"}`})}),x.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[x.jsx("p",{className:"font-medium text-sm truncate",children:R.name}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(R.printDate).toLocaleDateString(),"  ",R.weightUsed,"g"]})]}),x.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.floor(R.printTime/60),"h ",R.printTime%60,"m"]})]})},R.id)})}):x.jsxs(zn,{className:"!p-[16px] gap-0 text-center w-full max-w-none",children:[x.jsx(WC,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"No prints yet"})]})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h2",{className:"font-semibold",children:"Most Used"}),x.jsx("button",{type:"button",onClick:()=>c("/filaments"),className:"text-sm text-primary font-medium hover:underline",children:"See all"})]}),T.length>0?x.jsx("div",{className:"space-y-2",children:T.map(R=>x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>c(`/filaments/${R.id}`),children:x.jsxs("div",{className:"flex items-center justify-between w-full",children:[x.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 w-full",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0 border border-[#E5E5E5]",style:{backgroundColor:R.colorHex,boxShadow:$s(R.colorHex)},children:x.jsx(ua,{active:!0,className:`w-5 h-5 drop-shadow-md ${fa(R.colorHex)?"text-gray-300":"text-white"}`})}),x.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[x.jsx("p",{className:"font-medium text-sm truncate",children:R.manufacturer}),x.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 w-full",children:[x.jsx(Zi,{children:R.material}),x.jsxs(Zi,{variant:"outlined",children:[R.diameter,"mm"]})]})]})]}),x.jsxs("span",{className:"text-xs text-muted-foreground shrink-0 ml-2",children:[b[R.id],"g used"]})]})},R.id))}):x.jsxs(zn,{className:"!p-[16px] gap-0 text-center w-full max-w-none",children:[x.jsx(zC,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"No usage data yet"})]})]})]})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),av=e=>{const t=bM(e);return t.charAt(0).toUpperCase()+t.slice(1)},GC=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:h,...w},y)=>M.createElement("svg",{ref:y,...SM,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:GC("lucide",c),...w},[...h.map(([g,b])=>M.createElement(g,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=(e,t)=>{const n=M.forwardRef(({className:i,...c},u)=>M.createElement(AM,{ref:u,iconNode:t,className:GC(`lucide-${EM(av(e))}`,`lucide-${e}`,i),...c}));return n.displayName=av(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yf=ya("arrow-left",TM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NM=ya("check",IM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XC=ya("chevron-down",RM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PM=ya("chevron-up",_M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],$C=ya("download",DM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],OM=ya("package",MM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],YC=ya("printer",kM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jM=ya("x",LM),lv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cv=DC,ZC=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return cv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:c,defaultVariants:u}=t,h=Object.keys(c).map(g=>{const b=n==null?void 0:n[g],E=u==null?void 0:u[g];if(b===null)return null;const T=lv(b)||lv(E);return c[g][T]}),w=n&&Object.entries(n).reduce((g,b)=>{let[E,T]=b;return T===void 0||(g[E]=T),g},{}),y=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((g,b)=>{let{class:E,className:T,...R}=b;return Object.entries(R).every(O=>{let[k,F]=O;return Array.isArray(F)?F.includes({...u,...w}[k]):{...u,...w}[k]===F})?[...g,E,T]:g},[]);return cv(e,h,y,n==null?void 0:n.class,n==null?void 0:n.className)},Km=ZC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ut({className:e,variant:t,size:n,asChild:i=!1,...c}){const u=i?da:"button";return x.jsx(u,{"data-slot":"button",className:cn(Km({variant:t,size:n,className:e})),...c})}function KC({className:e="",active:t=!1}){const n=M.useId(),i=`clip0-fav-${n.replace(/:/g,"")}`,c=`mask0-fav-${n.replace(/:/g,"")}`;if(t)return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${i})`,children:[x.jsx("mask",{id:c,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${c})`,children:[x.jsx("path",{opacity:"0.4",d:"M5.73986 16C5.84986 15.51 5.64986 14.81 5.29986 14.46L2.86986 12.03C2.10986 11.27 1.80986 10.46 2.02986 9.76C2.25986 9.06 2.96986 8.58 4.02986 8.4L7.14986 7.88C7.59986 7.8 8.14986 7.4 8.35986 6.99L10.0799 3.54C10.5799 2.55 11.2599 2 11.9999 2C12.7399 2 13.4199 2.55 13.9199 3.54L15.6399 6.99C15.7699 7.25 16.0399 7.5 16.3299 7.67L5.55986 18.44C5.41986 18.58 5.17986 18.45 5.21986 18.25L5.73986 16Z",fill:"currentColor"}),x.jsx("path",{d:"M18.6998 14.4599C18.3398 14.8199 18.1398 15.5099 18.2598 15.9999L18.9498 19.0099C19.2398 20.2599 19.0598 21.1999 18.4398 21.6499C18.1898 21.8299 17.8898 21.9199 17.5398 21.9199C17.0298 21.9199 16.4298 21.7299 15.7698 21.3399L12.8398 19.5999C12.3798 19.3299 11.6198 19.3299 11.1598 19.5999L8.2298 21.3399C7.1198 21.9899 6.1698 22.0999 5.5598 21.6499C5.3298 21.4799 5.1598 21.2499 5.0498 20.9499L17.2098 8.7899C17.6698 8.3299 18.3198 8.1199 18.9498 8.2299L19.9598 8.3999C21.0198 8.5799 21.7298 9.0599 21.9598 9.7599C22.1798 10.4599 21.8798 11.2699 21.1198 12.0299L18.6998 14.4599Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:i,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]});const u=`clip0-fav-out-${n.replace(/:/g,"")}`,h=`mask0-fav-out-${n.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${u})`,children:[x.jsx("mask",{id:h,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsx("g",{mask:`url(#${h})`,children:x.jsx("path",{d:"M17.6601 22.6703C17.1301 22.6703 16.4501 22.5003 15.6001 22.0003L12.6101 20.2303C12.3001 20.0503 11.7001 20.0503 11.4001 20.2303L8.40012 22.0003C6.63012 23.0503 5.59012 22.6303 5.12012 22.2903C4.66012 21.9503 3.94012 21.0803 4.41012 19.0803L5.12012 16.0103C5.20012 15.6903 5.04012 15.1403 4.80012 14.9003L2.32012 12.4203C1.08012 11.1803 1.18012 10.1203 1.35012 9.60031C1.52012 9.08031 2.06012 8.16031 3.78012 7.87031L6.97012 7.34031C7.27012 7.29031 7.70012 6.97031 7.83012 6.70031L9.60012 3.17031C10.4001 1.56031 11.4501 1.32031 12.0001 1.32031C12.5501 1.32031 13.6001 1.56031 14.4001 3.17031L16.1601 6.69031C16.3001 6.96031 16.7301 7.28031 17.0301 7.33031L20.2201 7.86031C21.9501 8.15031 22.4901 9.07031 22.6501 9.59031C22.8101 10.1103 22.9101 11.1703 21.6801 12.4103L19.2001 14.9003C18.9601 15.1403 18.8101 15.6803 18.8801 16.0103L19.5901 19.0803C20.0501 21.0803 19.3401 21.9503 18.8801 22.2903C18.6301 22.4703 18.2301 22.6703 17.6601 22.6703ZM12.0001 18.5903C12.4901 18.5903 12.9801 18.7103 13.3701 18.9403L16.3601 20.7103C17.2301 21.2303 17.7801 21.2303 17.9901 21.0803C18.2001 20.9303 18.3501 20.4003 18.1301 19.4203L17.4201 16.3503C17.2301 15.5203 17.5401 14.4503 18.1401 13.8403L20.6201 11.3603C21.1101 10.8703 21.3301 10.3903 21.2301 10.0603C21.1201 9.73031 20.6601 9.46031 19.9801 9.35031L16.7901 8.82031C16.0201 8.69031 15.1801 8.07031 14.8301 7.37031L13.0701 3.85031C12.7501 3.21031 12.3501 2.83031 12.0001 2.83031C11.6501 2.83031 11.2501 3.21031 10.9401 3.85031L9.17012 7.37031C8.82012 8.07031 7.98012 8.69031 7.21012 8.82031L4.03012 9.35031C3.35012 9.46031 2.89012 9.73031 2.78012 10.0603C2.67012 10.3903 2.90012 10.8803 3.39012 11.3603L5.87012 13.8403C6.47012 14.4403 6.78012 15.5203 6.59012 16.3503L5.88012 19.4203C5.65012 20.4103 5.81012 20.9303 6.02012 21.0803C6.23012 21.2303 6.77012 21.2203 7.65012 20.7103L10.6401 18.9403C11.0201 18.7103 11.5101 18.5903 12.0001 18.5903Z",fill:"currentColor"})})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:u,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function BM({filament:e,onClick:t,onToggleFavorite:n}){const i=e.remainingWeight/e.totalWeight*100,c=i<20,u=i>=20&&i<=49,h=i>50,w=!!e.favorite,y=()=>h?"bg-green-500":u?"bg-orange-500":"bg-red-500",g=b=>{b.stopPropagation(),n==null||n(e)};return x.jsxs(zn,{className:"!p-[16px] gap-0 w-full max-w-none hover:shadow-lg transition-all active:scale-95 cursor-pointer",onClick:()=>t==null?void 0:t(e),children:[x.jsxs("div",{className:"flex items-center w-full gap-4",children:[x.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center shrink-0 border border-[#E5E5E5]",style:{backgroundColor:e.colorHex,boxShadow:$s(e.colorHex)},children:x.jsx(ua,{active:!0,className:`w-6 h-6 drop-shadow-md ${fa(e.colorHex)?"text-gray-300":"text-white"}`})}),x.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsx("h3",{className:"font-semibold truncate",children:e.manufacturer}),n&&x.jsx("button",{type:"button",onClick:g,className:`shrink-0 p-1 rounded-full transition-colors touch-manipulation ${w?"text-[#F26D00]":"text-muted-foreground hover:text-[#F26D00] hover:bg-orange-100"}`,"aria-label":w?"Remove from favorites":"Add to favorites",children:x.jsx(KC,{active:w,className:"h-5 w-5"})})]}),x.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 w-full",children:[x.jsx(Zi,{children:e.material}),x.jsxs(Zi,{variant:"outlined",children:[e.diameter,"mm"]})]})]})]}),x.jsxs("div",{className:"space-y-2 w-full mt-3",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Remaining"}),x.jsxs("span",{className:c?"text-destructive font-medium":"",children:[e.remainingWeight,"g / ",e.totalWeight,"g"]})]}),x.jsx("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-[#E5E5E5]",children:x.jsx("div",{className:`h-full rounded-full transition-all ${y()}`,style:{width:`${i}%`}})})]})]})}function al({...e}){return x.jsx(Om,{"data-slot":"dialog",...e})}function FM({...e}){return x.jsx(km,{"data-slot":"dialog-portal",...e})}function VM({className:e,...t}){return x.jsx(Lm,{"data-slot":"dialog-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ll({className:e,children:t,bottomSheet:n=!1,...i}){return x.jsxs(FM,{"data-slot":"dialog-portal",children:[x.jsx(VM,{}),x.jsxs(jm,{"data-slot":"dialog-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed z-50 grid w-full gap-4 border p-6 shadow-lg duration-200",n?"bottom-0 left-0 right-0 rounded-t-2xl data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom max-w-full sm:max-w-full":"top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 rounded-lg max-w-[calc(100%-2rem)] sm:max-w-lg",e),...i,children:[t,x.jsxs(Vm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[x.jsx(jM,{}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function cl({className:e,...t}){return x.jsx("div",{"data-slot":"dialog-header",className:cn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Hf({className:e,...t}){return x.jsx("div",{"data-slot":"dialog-footer",className:cn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function ul({className:e,...t}){return x.jsx(Bm,{"data-slot":"dialog-title",className:cn("text-lg leading-none font-semibold",e),...t})}function dl({className:e,...t}){return x.jsx(Fm,{"data-slot":"dialog-description",className:cn("text-muted-foreground text-sm",e),...t})}const o0=768;function qC(){const[e,t]=M.useState(void 0);return M.useEffect(()=>{const n=window.matchMedia(`(max-width: ${o0-1}px)`),i=()=>{t(window.innerWidth<o0)};return n.addEventListener("change",i),t(window.innerWidth<o0),()=>n.removeEventListener("change",i)},[]),!!e}function Xi({className:e,type:t,...n}){return x.jsx("input",{type:t,"data-slot":"input",className:cn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var UM="Label",QC=M.forwardRef((e,t)=>x.jsx(An.label,{...e,ref:t,onMouseDown:n=>{var c;n.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QC.displayName=UM;var HM=QC;function ci({className:e,...t}){return x.jsx(HM,{"data-slot":"label",className:cn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function wp(e,[t,n]){return Math.min(n,Math.max(t,e))}function WM(e){const t=e+"CollectionProvider",[n,i]=ol(t),[c,u]=n(t,{collectionRef:{current:null},itemMap:new Map}),h=R=>{const{scope:O,children:k}=R,F=Ee.useRef(null),G=Ee.useRef(new Map).current;return x.jsx(c,{scope:O,itemMap:G,collectionRef:F,children:k})};h.displayName=t;const w=e+"CollectionSlot",y=Ee.forwardRef((R,O)=>{const{scope:k,children:F}=R,G=u(w,k),z=kn(O,G.collectionRef);return x.jsx(da,{ref:z,children:F})});y.displayName=w;const g=e+"CollectionItemSlot",b="data-radix-collection-item",E=Ee.forwardRef((R,O)=>{const{scope:k,children:F,...G}=R,z=Ee.useRef(null),U=kn(O,z),Z=u(g,k);return Ee.useEffect(()=>(Z.itemMap.set(z,{ref:z,...G}),()=>void Z.itemMap.delete(z))),x.jsx(da,{[b]:"",ref:U,children:F})});E.displayName=g;function T(R){const O=u(e+"CollectionConsumer",R);return Ee.useCallback(()=>{const F=O.collectionRef.current;if(!F)return[];const G=Array.from(F.querySelectorAll(`[${b}]`));return Array.from(O.itemMap.values()).sort((Z,re)=>G.indexOf(Z.ref.current)-G.indexOf(re.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:h,Slot:y,ItemSlot:E},T,i]}var zM=M.createContext(void 0);function JC(e){const t=M.useContext(zM);return e||t||"ltr"}const GM=["top","right","bottom","left"],ha=Math.min,$i=Math.max,vf=Math.round,Gd=Math.floor,Js=e=>({x:e,y:e}),XM={left:"right",right:"left",bottom:"top",top:"bottom"},$M={start:"end",end:"start"};function yp(e,t,n){return $i(e,ha(t,n))}function _o(e,t){return typeof e=="function"?e(t):e}function Po(e){return e.split("-")[0]}function cc(e){return e.split("-")[1]}function qm(e){return e==="x"?"y":"x"}function Qm(e){return e==="y"?"height":"width"}const YM=new Set(["top","bottom"]);function Ks(e){return YM.has(Po(e))?"y":"x"}function Jm(e){return qm(Ks(e))}function ZM(e,t,n){n===void 0&&(n=!1);const i=cc(e),c=Jm(e),u=Qm(c);let h=c==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(h=Cf(h)),[h,Cf(h)]}function KM(e){const t=Cf(e);return[vp(e),t,vp(t)]}function vp(e){return e.replace(/start|end/g,t=>$M[t])}const uv=["left","right"],dv=["right","left"],qM=["top","bottom"],QM=["bottom","top"];function JM(e,t,n){switch(e){case"top":case"bottom":return n?t?dv:uv:t?uv:dv;case"left":case"right":return t?qM:QM;default:return[]}}function eO(e,t,n,i){const c=cc(e);let u=JM(Po(e),n==="start",i);return c&&(u=u.map(h=>h+"-"+c),t&&(u=u.concat(u.map(vp)))),u}function Cf(e){return e.replace(/left|right|bottom|top/g,t=>XM[t])}function tO(e){return{top:0,right:0,bottom:0,left:0,...e}}function e5(e){return typeof e!="number"?tO(e):{top:e,right:e,bottom:e,left:e}}function Ef(e){const{x:t,y:n,width:i,height:c}=e;return{width:i,height:c,top:n,left:t,right:t+i,bottom:n+c,x:t,y:n}}function fv(e,t,n){let{reference:i,floating:c}=e;const u=Ks(t),h=Jm(t),w=Qm(h),y=Po(t),g=u==="y",b=i.x+i.width/2-c.width/2,E=i.y+i.height/2-c.height/2,T=i[w]/2-c[w]/2;let R;switch(y){case"top":R={x:b,y:i.y-c.height};break;case"bottom":R={x:b,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:E};break;case"left":R={x:i.x-c.width,y:E};break;default:R={x:i.x,y:i.y}}switch(cc(t)){case"start":R[h]-=T*(n&&g?-1:1);break;case"end":R[h]+=T*(n&&g?-1:1);break}return R}async function nO(e,t){var n;t===void 0&&(t={});const{x:i,y:c,platform:u,rects:h,elements:w,strategy:y}=e,{boundary:g="clippingAncestors",rootBoundary:b="viewport",elementContext:E="floating",altBoundary:T=!1,padding:R=0}=_o(t,e),O=e5(R),F=w[T?E==="floating"?"reference":"floating":E],G=Ef(await u.getClippingRect({element:(n=await(u.isElement==null?void 0:u.isElement(F)))==null||n?F:F.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(w.floating)),boundary:g,rootBoundary:b,strategy:y})),z=E==="floating"?{x:i,y:c,width:h.floating.width,height:h.floating.height}:h.reference,U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(w.floating)),Z=await(u.isElement==null?void 0:u.isElement(U))?await(u.getScale==null?void 0:u.getScale(U))||{x:1,y:1}:{x:1,y:1},re=Ef(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:w,rect:z,offsetParent:U,strategy:y}):z);return{top:(G.top-re.top+O.top)/Z.y,bottom:(re.bottom-G.bottom+O.bottom)/Z.y,left:(G.left-re.left+O.left)/Z.x,right:(re.right-G.right+O.right)/Z.x}}const rO=async(e,t,n)=>{const{placement:i="bottom",strategy:c="absolute",middleware:u=[],platform:h}=n,w=u.filter(Boolean),y=await(h.isRTL==null?void 0:h.isRTL(t));let g=await h.getElementRects({reference:e,floating:t,strategy:c}),{x:b,y:E}=fv(g,i,y),T=i,R={},O=0;for(let F=0;F<w.length;F++){var k;const{name:G,fn:z}=w[F],{x:U,y:Z,data:re,reset:le}=await z({x:b,y:E,initialPlacement:i,placement:T,strategy:c,middlewareData:R,rects:g,platform:{...h,detectOverflow:(k=h.detectOverflow)!=null?k:nO},elements:{reference:e,floating:t}});b=U??b,E=Z??E,R={...R,[G]:{...R[G],...re}},le&&O<=50&&(O++,typeof le=="object"&&(le.placement&&(T=le.placement),le.rects&&(g=le.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:c}):le.rects),{x:b,y:E}=fv(g,T,y)),F=-1)}return{x:b,y:E,placement:T,strategy:c,middlewareData:R}},iO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:c,rects:u,platform:h,elements:w,middlewareData:y}=t,{element:g,padding:b=0}=_o(e,t)||{};if(g==null)return{};const E=e5(b),T={x:n,y:i},R=Jm(c),O=Qm(R),k=await h.getDimensions(g),F=R==="y",G=F?"top":"left",z=F?"bottom":"right",U=F?"clientHeight":"clientWidth",Z=u.reference[O]+u.reference[R]-T[R]-u.floating[O],re=T[R]-u.reference[R],le=await(h.getOffsetParent==null?void 0:h.getOffsetParent(g));let P=le?le[U]:0;(!P||!await(h.isElement==null?void 0:h.isElement(le)))&&(P=w.floating[U]||u.floating[O]);const L=Z/2-re/2,B=P/2-k[O]/2-1,K=ha(E[G],B),q=ha(E[z],B),ee=K,X=P-k[O]-q,Pe=P/2-k[O]/2+L,ne=yp(ee,Pe,X),we=!y.arrow&&cc(c)!=null&&Pe!==ne&&u.reference[O]/2-(Pe<ee?K:q)-k[O]/2<0,xe=we?Pe<ee?Pe-ee:Pe-X:0;return{[R]:T[R]+xe,data:{[R]:ne,centerOffset:Pe-ne-xe,...we&&{alignmentOffset:xe}},reset:we}}}),sO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:c,middlewareData:u,rects:h,initialPlacement:w,platform:y,elements:g}=t,{mainAxis:b=!0,crossAxis:E=!0,fallbackPlacements:T,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:k=!0,...F}=_o(e,t);if((n=u.arrow)!=null&&n.alignmentOffset)return{};const G=Po(c),z=Ks(w),U=Po(w)===w,Z=await(y.isRTL==null?void 0:y.isRTL(g.floating)),re=T||(U||!k?[Cf(w)]:KM(w)),le=O!=="none";!T&&le&&re.push(...eO(w,k,O,Z));const P=[w,...re],L=await y.detectOverflow(t,F),B=[];let K=((i=u.flip)==null?void 0:i.overflows)||[];if(b&&B.push(L[G]),E){const Pe=ZM(c,h,Z);B.push(L[Pe[0]],L[Pe[1]])}if(K=[...K,{placement:c,overflows:B}],!B.every(Pe=>Pe<=0)){var q,ee;const Pe=(((q=u.flip)==null?void 0:q.index)||0)+1,ne=P[Pe];if(ne&&(!(E==="alignment"?z!==Ks(ne):!1)||K.every(oe=>Ks(oe.placement)===z?oe.overflows[0]>0:!0)))return{data:{index:Pe,overflows:K},reset:{placement:ne}};let we=(ee=K.filter(xe=>xe.overflows[0]<=0).sort((xe,oe)=>xe.overflows[1]-oe.overflows[1])[0])==null?void 0:ee.placement;if(!we)switch(R){case"bestFit":{var X;const xe=(X=K.filter(oe=>{if(le){const ce=Ks(oe.placement);return ce===z||ce==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(ce=>ce>0).reduce((ce,ue)=>ce+ue,0)]).sort((oe,ce)=>oe[1]-ce[1])[0])==null?void 0:X[0];xe&&(we=xe);break}case"initialPlacement":we=w;break}if(c!==we)return{reset:{placement:we}}}return{}}}};function hv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function pv(e){return GM.some(t=>e[t]>=0)}const oO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:c="referenceHidden",...u}=_o(e,t);switch(c){case"referenceHidden":{const h=await i.detectOverflow(t,{...u,elementContext:"reference"}),w=hv(h,n.reference);return{data:{referenceHiddenOffsets:w,referenceHidden:pv(w)}}}case"escaped":{const h=await i.detectOverflow(t,{...u,altBoundary:!0}),w=hv(h,n.floating);return{data:{escapedOffsets:w,escaped:pv(w)}}}default:return{}}}}},t5=new Set(["left","top"]);async function aO(e,t){const{placement:n,platform:i,elements:c}=e,u=await(i.isRTL==null?void 0:i.isRTL(c.floating)),h=Po(n),w=cc(n),y=Ks(n)==="y",g=t5.has(h)?-1:1,b=u&&y?-1:1,E=_o(t,e);let{mainAxis:T,crossAxis:R,alignmentAxis:O}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return w&&typeof O=="number"&&(R=w==="end"?O*-1:O),y?{x:R*b,y:T*g}:{x:T*g,y:R*b}}const lO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:c,y:u,placement:h,middlewareData:w}=t,y=await aO(t,e);return h===((n=w.offset)==null?void 0:n.placement)&&(i=w.arrow)!=null&&i.alignmentOffset?{}:{x:c+y.x,y:u+y.y,data:{...y,placement:h}}}}},cO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:c,platform:u}=t,{mainAxis:h=!0,crossAxis:w=!1,limiter:y={fn:G=>{let{x:z,y:U}=G;return{x:z,y:U}}},...g}=_o(e,t),b={x:n,y:i},E=await u.detectOverflow(t,g),T=Ks(Po(c)),R=qm(T);let O=b[R],k=b[T];if(h){const G=R==="y"?"top":"left",z=R==="y"?"bottom":"right",U=O+E[G],Z=O-E[z];O=yp(U,O,Z)}if(w){const G=T==="y"?"top":"left",z=T==="y"?"bottom":"right",U=k+E[G],Z=k-E[z];k=yp(U,k,Z)}const F=y.fn({...t,[R]:O,[T]:k});return{...F,data:{x:F.x-n,y:F.y-i,enabled:{[R]:h,[T]:w}}}}}},uO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:c,rects:u,middlewareData:h}=t,{offset:w=0,mainAxis:y=!0,crossAxis:g=!0}=_o(e,t),b={x:n,y:i},E=Ks(c),T=qm(E);let R=b[T],O=b[E];const k=_o(w,t),F=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(y){const U=T==="y"?"height":"width",Z=u.reference[T]-u.floating[U]+F.mainAxis,re=u.reference[T]+u.reference[U]-F.mainAxis;R<Z?R=Z:R>re&&(R=re)}if(g){var G,z;const U=T==="y"?"width":"height",Z=t5.has(Po(c)),re=u.reference[E]-u.floating[U]+(Z&&((G=h.offset)==null?void 0:G[E])||0)+(Z?0:F.crossAxis),le=u.reference[E]+u.reference[U]+(Z?0:((z=h.offset)==null?void 0:z[E])||0)-(Z?F.crossAxis:0);O<re?O=re:O>le&&(O=le)}return{[T]:R,[E]:O}}}},dO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:c,rects:u,platform:h,elements:w}=t,{apply:y=()=>{},...g}=_o(e,t),b=await h.detectOverflow(t,g),E=Po(c),T=cc(c),R=Ks(c)==="y",{width:O,height:k}=u.floating;let F,G;E==="top"||E==="bottom"?(F=E,G=T===(await(h.isRTL==null?void 0:h.isRTL(w.floating))?"start":"end")?"left":"right"):(G=E,F=T==="end"?"top":"bottom");const z=k-b.top-b.bottom,U=O-b.left-b.right,Z=ha(k-b[F],z),re=ha(O-b[G],U),le=!t.middlewareData.shift;let P=Z,L=re;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=U),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(P=z),le&&!T){const K=$i(b.left,0),q=$i(b.right,0),ee=$i(b.top,0),X=$i(b.bottom,0);R?L=O-2*(K!==0||q!==0?K+q:$i(b.left,b.right)):P=k-2*(ee!==0||X!==0?ee+X:$i(b.top,b.bottom))}await y({...t,availableWidth:L,availableHeight:P});const B=await h.getDimensions(w.floating);return O!==B.width||k!==B.height?{reset:{rects:!0}}:{}}}};function Wf(){return typeof window<"u"}function uc(e){return n5(e)?(e.nodeName||"").toLowerCase():"#document"}function Yi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function io(e){var t;return(t=(n5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function n5(e){return Wf()?e instanceof Node||e instanceof Yi(e).Node:!1}function _s(e){return Wf()?e instanceof Element||e instanceof Yi(e).Element:!1}function no(e){return Wf()?e instanceof HTMLElement||e instanceof Yi(e).HTMLElement:!1}function mv(e){return!Wf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yi(e).ShadowRoot}const fO=new Set(["inline","contents"]);function Ru(e){const{overflow:t,overflowX:n,overflowY:i,display:c}=Ps(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!fO.has(c)}const hO=new Set(["table","td","th"]);function pO(e){return hO.has(uc(e))}const mO=[":popover-open",":modal"];function zf(e){return mO.some(t=>{try{return e.matches(t)}catch{return!1}})}const gO=["transform","translate","scale","rotate","perspective"],xO=["transform","translate","scale","rotate","perspective","filter"],wO=["paint","layout","strict","content"];function eg(e){const t=tg(),n=_s(e)?Ps(e):e;return gO.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||xO.some(i=>(n.willChange||"").includes(i))||wO.some(i=>(n.contain||"").includes(i))}function yO(e){let t=pa(e);for(;no(t)&&!Jl(t);){if(eg(t))return t;if(zf(t))return null;t=pa(t)}return null}function tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vO=new Set(["html","body","#document"]);function Jl(e){return vO.has(uc(e))}function Ps(e){return Yi(e).getComputedStyle(e)}function Gf(e){return _s(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pa(e){if(uc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mv(e)&&e.host||io(e);return mv(t)?t.host:t}function r5(e){const t=pa(e);return Jl(t)?e.ownerDocument?e.ownerDocument.body:e.body:no(t)&&Ru(t)?t:r5(t)}function gu(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const c=r5(e),u=c===((i=e.ownerDocument)==null?void 0:i.body),h=Yi(c);if(u){const w=Cp(h);return t.concat(h,h.visualViewport||[],Ru(c)?c:[],w&&n?gu(w):[])}return t.concat(c,gu(c,[],n))}function Cp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function i5(e){const t=Ps(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const c=no(e),u=c?e.offsetWidth:n,h=c?e.offsetHeight:i,w=vf(n)!==u||vf(i)!==h;return w&&(n=u,i=h),{width:n,height:i,$:w}}function ng(e){return _s(e)?e:e.contextElement}function Zl(e){const t=ng(e);if(!no(t))return Js(1);const n=t.getBoundingClientRect(),{width:i,height:c,$:u}=i5(t);let h=(u?vf(n.width):n.width)/i,w=(u?vf(n.height):n.height)/c;return(!h||!Number.isFinite(h))&&(h=1),(!w||!Number.isFinite(w))&&(w=1),{x:h,y:w}}const CO=Js(0);function s5(e){const t=Yi(e);return!tg()||!t.visualViewport?CO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yi(e)?!1:t}function nl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const c=e.getBoundingClientRect(),u=ng(e);let h=Js(1);t&&(i?_s(i)&&(h=Zl(i)):h=Zl(e));const w=EO(u,n,i)?s5(u):Js(0);let y=(c.left+w.x)/h.x,g=(c.top+w.y)/h.y,b=c.width/h.x,E=c.height/h.y;if(u){const T=Yi(u),R=i&&_s(i)?Yi(i):i;let O=T,k=Cp(O);for(;k&&i&&R!==O;){const F=Zl(k),G=k.getBoundingClientRect(),z=Ps(k),U=G.left+(k.clientLeft+parseFloat(z.paddingLeft))*F.x,Z=G.top+(k.clientTop+parseFloat(z.paddingTop))*F.y;y*=F.x,g*=F.y,b*=F.x,E*=F.y,y+=U,g+=Z,O=Yi(k),k=Cp(O)}}return Ef({width:b,height:E,x:y,y:g})}function Xf(e,t){const n=Gf(e).scrollLeft;return t?t.left+n:nl(io(e)).left+n}function o5(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Xf(e,n),c=n.top+t.scrollTop;return{x:i,y:c}}function bO(e){let{elements:t,rect:n,offsetParent:i,strategy:c}=e;const u=c==="fixed",h=io(i),w=t?zf(t.floating):!1;if(i===h||w&&u)return n;let y={scrollLeft:0,scrollTop:0},g=Js(1);const b=Js(0),E=no(i);if((E||!E&&!u)&&((uc(i)!=="body"||Ru(h))&&(y=Gf(i)),no(i))){const R=nl(i);g=Zl(i),b.x=R.x+i.clientLeft,b.y=R.y+i.clientTop}const T=h&&!E&&!u?o5(h,y):Js(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-y.scrollLeft*g.x+b.x+T.x,y:n.y*g.y-y.scrollTop*g.y+b.y+T.y}}function SO(e){return Array.from(e.getClientRects())}function AO(e){const t=io(e),n=Gf(e),i=e.ownerDocument.body,c=$i(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),u=$i(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let h=-n.scrollLeft+Xf(e);const w=-n.scrollTop;return Ps(i).direction==="rtl"&&(h+=$i(t.clientWidth,i.clientWidth)-c),{width:c,height:u,x:h,y:w}}const gv=25;function TO(e,t){const n=Yi(e),i=io(e),c=n.visualViewport;let u=i.clientWidth,h=i.clientHeight,w=0,y=0;if(c){u=c.width,h=c.height;const b=tg();(!b||b&&t==="fixed")&&(w=c.offsetLeft,y=c.offsetTop)}const g=Xf(i);if(g<=0){const b=i.ownerDocument,E=b.body,T=getComputedStyle(E),R=b.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,O=Math.abs(i.clientWidth-E.clientWidth-R);O<=gv&&(u-=O)}else g<=gv&&(u+=g);return{width:u,height:h,x:w,y}}const IO=new Set(["absolute","fixed"]);function NO(e,t){const n=nl(e,!0,t==="fixed"),i=n.top+e.clientTop,c=n.left+e.clientLeft,u=no(e)?Zl(e):Js(1),h=e.clientWidth*u.x,w=e.clientHeight*u.y,y=c*u.x,g=i*u.y;return{width:h,height:w,x:y,y:g}}function xv(e,t,n){let i;if(t==="viewport")i=TO(e,n);else if(t==="document")i=AO(io(e));else if(_s(t))i=NO(t,n);else{const c=s5(e);i={x:t.x-c.x,y:t.y-c.y,width:t.width,height:t.height}}return Ef(i)}function a5(e,t){const n=pa(e);return n===t||!_s(n)||Jl(n)?!1:Ps(n).position==="fixed"||a5(n,t)}function RO(e,t){const n=t.get(e);if(n)return n;let i=gu(e,[],!1).filter(w=>_s(w)&&uc(w)!=="body"),c=null;const u=Ps(e).position==="fixed";let h=u?pa(e):e;for(;_s(h)&&!Jl(h);){const w=Ps(h),y=eg(h);!y&&w.position==="fixed"&&(c=null),(u?!y&&!c:!y&&w.position==="static"&&!!c&&IO.has(c.position)||Ru(h)&&!y&&a5(e,h))?i=i.filter(b=>b!==h):c=w,h=pa(h)}return t.set(e,i),i}function _O(e){let{element:t,boundary:n,rootBoundary:i,strategy:c}=e;const h=[...n==="clippingAncestors"?zf(t)?[]:RO(t,this._c):[].concat(n),i],w=h[0],y=h.reduce((g,b)=>{const E=xv(t,b,c);return g.top=$i(E.top,g.top),g.right=ha(E.right,g.right),g.bottom=ha(E.bottom,g.bottom),g.left=$i(E.left,g.left),g},xv(t,w,c));return{width:y.right-y.left,height:y.bottom-y.top,x:y.left,y:y.top}}function PO(e){const{width:t,height:n}=i5(e);return{width:t,height:n}}function DO(e,t,n){const i=no(t),c=io(t),u=n==="fixed",h=nl(e,!0,u,t);let w={scrollLeft:0,scrollTop:0};const y=Js(0);function g(){y.x=Xf(c)}if(i||!i&&!u)if((uc(t)!=="body"||Ru(c))&&(w=Gf(t)),i){const R=nl(t,!0,u,t);y.x=R.x+t.clientLeft,y.y=R.y+t.clientTop}else c&&g();u&&!i&&c&&g();const b=c&&!i&&!u?o5(c,w):Js(0),E=h.left+w.scrollLeft-y.x-b.x,T=h.top+w.scrollTop-y.y-b.y;return{x:E,y:T,width:h.width,height:h.height}}function a0(e){return Ps(e).position==="static"}function wv(e,t){if(!no(e)||Ps(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return io(e)===n&&(n=n.ownerDocument.body),n}function l5(e,t){const n=Yi(e);if(zf(e))return n;if(!no(e)){let c=pa(e);for(;c&&!Jl(c);){if(_s(c)&&!a0(c))return c;c=pa(c)}return n}let i=wv(e,t);for(;i&&pO(i)&&a0(i);)i=wv(i,t);return i&&Jl(i)&&a0(i)&&!eg(i)?n:i||yO(e)||n}const MO=async function(e){const t=this.getOffsetParent||l5,n=this.getDimensions,i=await n(e.floating);return{reference:DO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function OO(e){return Ps(e).direction==="rtl"}const kO={convertOffsetParentRelativeRectToViewportRelativeRect:bO,getDocumentElement:io,getClippingRect:_O,getOffsetParent:l5,getElementRects:MO,getClientRects:SO,getDimensions:PO,getScale:Zl,isElement:_s,isRTL:OO};function c5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function LO(e,t){let n=null,i;const c=io(e);function u(){var w;clearTimeout(i),(w=n)==null||w.disconnect(),n=null}function h(w,y){w===void 0&&(w=!1),y===void 0&&(y=1),u();const g=e.getBoundingClientRect(),{left:b,top:E,width:T,height:R}=g;if(w||t(),!T||!R)return;const O=Gd(E),k=Gd(c.clientWidth-(b+T)),F=Gd(c.clientHeight-(E+R)),G=Gd(b),U={rootMargin:-O+"px "+-k+"px "+-F+"px "+-G+"px",threshold:$i(0,ha(1,y))||1};let Z=!0;function re(le){const P=le[0].intersectionRatio;if(P!==y){if(!Z)return h();P?h(!1,P):i=setTimeout(()=>{h(!1,1e-7)},1e3)}P===1&&!c5(g,e.getBoundingClientRect())&&h(),Z=!1}try{n=new IntersectionObserver(re,{...U,root:c.ownerDocument})}catch{n=new IntersectionObserver(re,U)}n.observe(e)}return h(!0),u}function jO(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:c=!0,ancestorResize:u=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:w=typeof IntersectionObserver=="function",animationFrame:y=!1}=i,g=ng(e),b=c||u?[...g?gu(g):[],...gu(t)]:[];b.forEach(G=>{c&&G.addEventListener("scroll",n,{passive:!0}),u&&G.addEventListener("resize",n)});const E=g&&w?LO(g,n):null;let T=-1,R=null;h&&(R=new ResizeObserver(G=>{let[z]=G;z&&z.target===g&&R&&(R.unobserve(t),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var U;(U=R)==null||U.observe(t)})),n()}),g&&!y&&R.observe(g),R.observe(t));let O,k=y?nl(e):null;y&&F();function F(){const G=nl(e);k&&!c5(k,G)&&n(),k=G,O=requestAnimationFrame(F)}return n(),()=>{var G;b.forEach(z=>{c&&z.removeEventListener("scroll",n),u&&z.removeEventListener("resize",n)}),E==null||E(),(G=R)==null||G.disconnect(),R=null,y&&cancelAnimationFrame(O)}}const BO=lO,FO=cO,VO=sO,UO=dO,HO=oO,yv=iO,WO=uO,zO=(e,t,n)=>{const i=new Map,c={platform:kO,...n},u={...c.platform,_c:i};return rO(e,t,{...c,platform:u})};var GO=typeof document<"u",XO=function(){},rf=GO?M.useLayoutEffect:XO;function bf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,c;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!bf(e[i],t[i]))return!1;return!0}if(c=Object.keys(e),n=c.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,c[i]))return!1;for(i=n;i--!==0;){const u=c[i];if(!(u==="_owner"&&e.$$typeof)&&!bf(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function u5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vv(e,t){const n=u5(e);return Math.round(t*n)/n}function l0(e){const t=M.useRef(e);return rf(()=>{t.current=e}),t}function $O(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:c,elements:{reference:u,floating:h}={},transform:w=!0,whileElementsMounted:y,open:g}=e,[b,E]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[T,R]=M.useState(i);bf(T,i)||R(i);const[O,k]=M.useState(null),[F,G]=M.useState(null),z=M.useCallback(oe=>{oe!==le.current&&(le.current=oe,k(oe))},[]),U=M.useCallback(oe=>{oe!==P.current&&(P.current=oe,G(oe))},[]),Z=u||O,re=h||F,le=M.useRef(null),P=M.useRef(null),L=M.useRef(b),B=y!=null,K=l0(y),q=l0(c),ee=l0(g),X=M.useCallback(()=>{if(!le.current||!P.current)return;const oe={placement:t,strategy:n,middleware:T};q.current&&(oe.platform=q.current),zO(le.current,P.current,oe).then(ce=>{const ue={...ce,isPositioned:ee.current!==!1};Pe.current&&!bf(L.current,ue)&&(L.current=ue,Eu.flushSync(()=>{E(ue)}))})},[T,t,n,q,ee]);rf(()=>{g===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,E(oe=>({...oe,isPositioned:!1})))},[g]);const Pe=M.useRef(!1);rf(()=>(Pe.current=!0,()=>{Pe.current=!1}),[]),rf(()=>{if(Z&&(le.current=Z),re&&(P.current=re),Z&&re){if(K.current)return K.current(Z,re,X);X()}},[Z,re,X,K,B]);const ne=M.useMemo(()=>({reference:le,floating:P,setReference:z,setFloating:U}),[z,U]),we=M.useMemo(()=>({reference:Z,floating:re}),[Z,re]),xe=M.useMemo(()=>{const oe={position:n,left:0,top:0};if(!we.floating)return oe;const ce=vv(we.floating,b.x),ue=vv(we.floating,b.y);return w?{...oe,transform:"translate("+ce+"px, "+ue+"px)",...u5(we.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:ue}},[n,w,we.floating,b.x,b.y]);return M.useMemo(()=>({...b,update:X,refs:ne,elements:we,floatingStyles:xe}),[b,X,ne,we,xe])}const YO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:c}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?yv({element:i.current,padding:c}).fn(n):{}:i?yv({element:i,padding:c}).fn(n):{}}}},ZO=(e,t)=>({...BO(e),options:[e,t]}),KO=(e,t)=>({...FO(e),options:[e,t]}),qO=(e,t)=>({...WO(e),options:[e,t]}),QO=(e,t)=>({...VO(e),options:[e,t]}),JO=(e,t)=>({...UO(e),options:[e,t]}),ek=(e,t)=>({...HO(e),options:[e,t]}),tk=(e,t)=>({...YO(e),options:[e,t]});var nk="Arrow",d5=M.forwardRef((e,t)=>{const{children:n,width:i=10,height:c=5,...u}=e;return x.jsx(An.svg,{...u,ref:t,width:i,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});d5.displayName=nk;var rk=d5;function ik(e){const[t,n]=M.useState(void 0);return fi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const u=c[0];let h,w;if("borderBoxSize"in u){const y=u.borderBoxSize,g=Array.isArray(y)?y[0]:y;h=g.inlineSize,w=g.blockSize}else h=e.offsetWidth,w=e.offsetHeight;n({width:h,height:w})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var rg="Popper",[f5,h5]=ol(rg),[sk,p5]=f5(rg),m5=e=>{const{__scopePopper:t,children:n}=e,[i,c]=M.useState(null);return x.jsx(sk,{scope:t,anchor:i,onAnchorChange:c,children:n})};m5.displayName=rg;var g5="PopperAnchor",x5=M.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...c}=e,u=p5(g5,n),h=M.useRef(null),w=kn(t,h);return M.useEffect(()=>{u.onAnchorChange((i==null?void 0:i.current)||h.current)}),i?null:x.jsx(An.div,{...c,ref:w})});x5.displayName=g5;var ig="PopperContent",[ok,ak]=f5(ig),w5=M.forwardRef((e,t)=>{var Le,Fe,Ue,Se,Ve,Ye;const{__scopePopper:n,side:i="bottom",sideOffset:c=0,align:u="center",alignOffset:h=0,arrowPadding:w=0,avoidCollisions:y=!0,collisionBoundary:g=[],collisionPadding:b=0,sticky:E="partial",hideWhenDetached:T=!1,updatePositionStrategy:R="optimized",onPlaced:O,...k}=e,F=p5(ig,n),[G,z]=M.useState(null),U=kn(t,tt=>z(tt)),[Z,re]=M.useState(null),le=ik(Z),P=(le==null?void 0:le.width)??0,L=(le==null?void 0:le.height)??0,B=i+(u!=="center"?"-"+u:""),K=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},q=Array.isArray(g)?g:[g],ee=q.length>0,X={padding:K,boundary:q.filter(ck),altBoundary:ee},{refs:Pe,floatingStyles:ne,placement:we,isPositioned:xe,middlewareData:oe}=$O({strategy:"fixed",placement:B,whileElementsMounted:(...tt)=>jO(...tt,{animationFrame:R==="always"}),elements:{reference:F.anchor},middleware:[ZO({mainAxis:c+L,alignmentAxis:h}),y&&KO({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?qO():void 0,...X}),y&&QO({...X}),JO({...X,apply:({elements:tt,rects:Je,availableWidth:tn,availableHeight:nn})=>{const{width:Gt,height:Zt}=Je.reference,it=tt.floating.style;it.setProperty("--radix-popper-available-width",`${tn}px`),it.setProperty("--radix-popper-available-height",`${nn}px`),it.setProperty("--radix-popper-anchor-width",`${Gt}px`),it.setProperty("--radix-popper-anchor-height",`${Zt}px`)}}),Z&&tk({element:Z,padding:w}),uk({arrowWidth:P,arrowHeight:L}),T&&ek({strategy:"referenceHidden",...X})]}),[ce,ue]=C5(we),J=ui(O);fi(()=>{xe&&(J==null||J())},[xe,J]);const de=(Le=oe.arrow)==null?void 0:Le.x,ve=(Fe=oe.arrow)==null?void 0:Fe.y,Re=((Ue=oe.arrow)==null?void 0:Ue.centerOffset)!==0,[Ge,Ie]=M.useState();return fi(()=>{G&&Ie(window.getComputedStyle(G).zIndex)},[G]),x.jsx("div",{ref:Pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:xe?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ge,"--radix-popper-transform-origin":[(Se=oe.transformOrigin)==null?void 0:Se.x,(Ve=oe.transformOrigin)==null?void 0:Ve.y].join(" "),...((Ye=oe.hide)==null?void 0:Ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:x.jsx(ok,{scope:n,placedSide:ce,onArrowChange:re,arrowX:de,arrowY:ve,shouldHideArrow:Re,children:x.jsx(An.div,{"data-side":ce,"data-align":ue,...k,ref:U,style:{...k.style,animation:xe?void 0:"none"}})})})});w5.displayName=ig;var y5="PopperArrow",lk={top:"bottom",right:"left",bottom:"top",left:"right"},v5=M.forwardRef(function(t,n){const{__scopePopper:i,...c}=t,u=ak(y5,i),h=lk[u.placedSide];return x.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:x.jsx(rk,{...c,ref:n,style:{...c.style,display:"block"}})})});v5.displayName=y5;function ck(e){return e!==null}var uk=e=>({name:"transformOrigin",options:e,fn(t){var F,G,z;const{placement:n,rects:i,middlewareData:c}=t,h=((F=c.arrow)==null?void 0:F.centerOffset)!==0,w=h?0:e.arrowWidth,y=h?0:e.arrowHeight,[g,b]=C5(n),E={start:"0%",center:"50%",end:"100%"}[b],T=(((G=c.arrow)==null?void 0:G.x)??0)+w/2,R=(((z=c.arrow)==null?void 0:z.y)??0)+y/2;let O="",k="";return g==="bottom"?(O=h?E:`${T}px`,k=`${-y}px`):g==="top"?(O=h?E:`${T}px`,k=`${i.floating.height+y}px`):g==="right"?(O=`${-y}px`,k=h?E:`${R}px`):g==="left"&&(O=`${i.floating.width+y}px`,k=h?E:`${R}px`),{data:{x:O,y:k}}}});function C5(e){const[t,n="center"]=e.split("-");return[t,n]}var dk=m5,fk=x5,hk=w5,pk=v5;function mk(e){const t=M.useRef({value:e,previous:e});return M.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gk="VisuallyHidden",E5=M.forwardRef((e,t)=>x.jsx(An.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));E5.displayName=gk;var xk=[" ","Enter","ArrowUp","ArrowDown"],wk=[" ","Enter"],_u="Select",[$f,Yf,yk]=WM(_u),[dc]=ol(_u,[yk,h5]),Zf=h5(),[vk,va]=dc(_u),[Ck,Ek]=dc(_u),b5=e=>{const{__scopeSelect:t,children:n,open:i,defaultOpen:c,onOpenChange:u,value:h,defaultValue:w,onValueChange:y,dir:g,name:b,autoComplete:E,disabled:T,required:R,form:O}=e,k=Zf(t),[F,G]=M.useState(null),[z,U]=M.useState(null),[Z,re]=M.useState(!1),le=JC(g),[P=!1,L]=lp({prop:i,defaultProp:c,onChange:u}),[B,K]=lp({prop:h,defaultProp:w,onChange:y}),q=M.useRef(null),ee=F?O||!!F.closest("form"):!0,[X,Pe]=M.useState(new Set),ne=Array.from(X).map(we=>we.props.value).join(";");return x.jsx(dk,{...k,children:x.jsxs(vk,{required:R,scope:t,trigger:F,onTriggerChange:G,valueNode:z,onValueNodeChange:U,valueNodeHasChildren:Z,onValueNodeHasChildrenChange:re,contentId:$l(),value:B,onValueChange:K,open:P,onOpenChange:L,dir:le,triggerPointerDownPosRef:q,disabled:T,children:[x.jsx($f.Provider,{scope:t,children:x.jsx(Ck,{scope:e.__scopeSelect,onNativeOptionAdd:M.useCallback(we=>{Pe(xe=>new Set(xe).add(we))},[]),onNativeOptionRemove:M.useCallback(we=>{Pe(xe=>{const oe=new Set(xe);return oe.delete(we),oe})},[]),children:n})}),ee?x.jsxs(X5,{"aria-hidden":!0,required:R,tabIndex:-1,name:b,autoComplete:E,value:B,onChange:we=>K(we.target.value),disabled:T,form:O,children:[B===void 0?x.jsx("option",{value:""}):null,Array.from(X)]},ne):null]})})};b5.displayName=_u;var S5="SelectTrigger",A5=M.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:i=!1,...c}=e,u=Zf(n),h=va(S5,n),w=h.disabled||i,y=kn(t,h.onTriggerChange),g=Yf(n),b=M.useRef("touch"),[E,T,R]=$5(k=>{const F=g().filter(U=>!U.disabled),G=F.find(U=>U.value===h.value),z=Y5(F,k,G);z!==void 0&&h.onValueChange(z.value)}),O=k=>{w||(h.onOpenChange(!0),R()),k&&(h.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return x.jsx(fk,{asChild:!0,...u,children:x.jsx(An.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:w,"data-disabled":w?"":void 0,"data-placeholder":G5(h.value)?"":void 0,...c,ref:y,onClick:Sn(c.onClick,k=>{k.currentTarget.focus(),b.current!=="mouse"&&O(k)}),onPointerDown:Sn(c.onPointerDown,k=>{b.current=k.pointerType;const F=k.target;F.hasPointerCapture(k.pointerId)&&F.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(O(k),k.preventDefault())}),onKeyDown:Sn(c.onKeyDown,k=>{const F=E.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&T(k.key),!(F&&k.key===" ")&&xk.includes(k.key)&&(O(),k.preventDefault())})})})});A5.displayName=S5;var T5="SelectValue",I5=M.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:c,children:u,placeholder:h="",...w}=e,y=va(T5,n),{onValueNodeHasChildrenChange:g}=y,b=u!==void 0,E=kn(t,y.onValueNodeChange);return fi(()=>{g(b)},[g,b]),x.jsx(An.span,{...w,ref:E,style:{pointerEvents:"none"},children:G5(y.value)?x.jsx(x.Fragment,{children:h}):u})});I5.displayName=T5;var bk="SelectIcon",N5=M.forwardRef((e,t)=>{const{__scopeSelect:n,children:i,...c}=e;return x.jsx(An.span,{"aria-hidden":!0,...c,ref:t,children:i||""})});N5.displayName=bk;var Sk="SelectPortal",R5=e=>x.jsx(Nm,{asChild:!0,...e});R5.displayName=Sk;var rl="SelectContent",_5=M.forwardRef((e,t)=>{const n=va(rl,e.__scopeSelect),[i,c]=M.useState();if(fi(()=>{c(new DocumentFragment)},[]),!n.open){const u=i;return u?Eu.createPortal(x.jsx(P5,{scope:e.__scopeSelect,children:x.jsx($f.Slot,{scope:e.__scopeSelect,children:x.jsx("div",{children:e.children})})}),u):null}return x.jsx(D5,{...e,ref:t})});_5.displayName=rl;var Is=10,[P5,Ca]=dc(rl),Ak="SelectContentImpl",D5=M.forwardRef((e,t)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,side:w,sideOffset:y,align:g,alignOffset:b,arrowPadding:E,collisionBoundary:T,collisionPadding:R,sticky:O,hideWhenDetached:k,avoidCollisions:F,...G}=e,z=va(rl,n),[U,Z]=M.useState(null),[re,le]=M.useState(null),P=kn(t,Le=>Z(Le)),[L,B]=M.useState(null),[K,q]=M.useState(null),ee=Yf(n),[X,Pe]=M.useState(!1),ne=M.useRef(!1);M.useEffect(()=>{if(U)return nC(U)},[U]),$4();const we=M.useCallback(Le=>{const[Fe,...Ue]=ee().map(Ye=>Ye.ref.current),[Se]=Ue.slice(-1),Ve=document.activeElement;for(const Ye of Le)if(Ye===Ve||(Ye==null||Ye.scrollIntoView({block:"nearest"}),Ye===Fe&&re&&(re.scrollTop=0),Ye===Se&&re&&(re.scrollTop=re.scrollHeight),Ye==null||Ye.focus(),document.activeElement!==Ve))return},[ee,re]),xe=M.useCallback(()=>we([L,U]),[we,L,U]);M.useEffect(()=>{X&&xe()},[X,xe]);const{onOpenChange:oe,triggerPointerDownPosRef:ce}=z;M.useEffect(()=>{if(U){let Le={x:0,y:0};const Fe=Se=>{var Ve,Ye;Le={x:Math.abs(Math.round(Se.pageX)-(((Ve=ce.current)==null?void 0:Ve.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((Ye=ce.current)==null?void 0:Ye.y)??0))}},Ue=Se=>{Le.x<=10&&Le.y<=10?Se.preventDefault():U.contains(Se.target)||oe(!1),document.removeEventListener("pointermove",Fe),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Ue,{capture:!0})}}},[U,oe,ce]),M.useEffect(()=>{const Le=()=>oe(!1);return window.addEventListener("blur",Le),window.addEventListener("resize",Le),()=>{window.removeEventListener("blur",Le),window.removeEventListener("resize",Le)}},[oe]);const[ue,J]=$5(Le=>{const Fe=ee().filter(Ve=>!Ve.disabled),Ue=Fe.find(Ve=>Ve.ref.current===document.activeElement),Se=Y5(Fe,Le,Ue);Se&&setTimeout(()=>Se.ref.current.focus())}),de=M.useCallback((Le,Fe,Ue)=>{const Se=!ne.current&&!Ue;(z.value!==void 0&&z.value===Fe||Se)&&(B(Le),Se&&(ne.current=!0))},[z.value]),ve=M.useCallback(()=>U==null?void 0:U.focus(),[U]),Re=M.useCallback((Le,Fe,Ue)=>{const Se=!ne.current&&!Ue;(z.value!==void 0&&z.value===Fe||Se)&&q(Le)},[z.value]),Ge=i==="popper"?Ep:M5,Ie=Ge===Ep?{side:w,sideOffset:y,align:g,alignOffset:b,arrowPadding:E,collisionBoundary:T,collisionPadding:R,sticky:O,hideWhenDetached:k,avoidCollisions:F}:{};return x.jsx(P5,{scope:n,content:U,viewport:re,onViewportChange:le,itemRefCallback:de,selectedItem:L,onItemLeave:ve,itemTextRefCallback:Re,focusSelectedItem:xe,selectedItemText:K,position:i,isPositioned:X,searchRef:ue,children:x.jsx(Rm,{as:da,allowPinchZoom:!0,children:x.jsx(Im,{asChild:!0,trapped:z.open,onMountAutoFocus:Le=>{Le.preventDefault()},onUnmountAutoFocus:Sn(c,Le=>{var Fe;(Fe=z.trigger)==null||Fe.focus({preventScroll:!0}),Le.preventDefault()}),children:x.jsx(Tm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:Le=>Le.preventDefault(),onDismiss:()=>z.onOpenChange(!1),children:x.jsx(Ge,{role:"listbox",id:z.contentId,"data-state":z.open?"open":"closed",dir:z.dir,onContextMenu:Le=>Le.preventDefault(),...G,...Ie,onPlaced:()=>Pe(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...G.style},onKeyDown:Sn(G.onKeyDown,Le=>{const Fe=Le.ctrlKey||Le.altKey||Le.metaKey;if(Le.key==="Tab"&&Le.preventDefault(),!Fe&&Le.key.length===1&&J(Le.key),["ArrowUp","ArrowDown","Home","End"].includes(Le.key)){let Se=ee().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(Le.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Le.key)){const Ve=Le.target,Ye=Se.indexOf(Ve);Se=Se.slice(Ye+1)}setTimeout(()=>we(Se)),Le.preventDefault()}})})})})})})});D5.displayName=Ak;var Tk="SelectItemAlignedPosition",M5=M.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:i,...c}=e,u=va(rl,n),h=Ca(rl,n),[w,y]=M.useState(null),[g,b]=M.useState(null),E=kn(t,P=>b(P)),T=Yf(n),R=M.useRef(!1),O=M.useRef(!0),{viewport:k,selectedItem:F,selectedItemText:G,focusSelectedItem:z}=h,U=M.useCallback(()=>{if(u.trigger&&u.valueNode&&w&&g&&k&&F&&G){const P=u.trigger.getBoundingClientRect(),L=g.getBoundingClientRect(),B=u.valueNode.getBoundingClientRect(),K=G.getBoundingClientRect();if(u.dir!=="rtl"){const Ve=K.left-L.left,Ye=B.left-Ve,tt=P.left-Ye,Je=P.width+tt,tn=Math.max(Je,L.width),nn=window.innerWidth-Is,Gt=wp(Ye,[Is,Math.max(Is,nn-tn)]);w.style.minWidth=Je+"px",w.style.left=Gt+"px"}else{const Ve=L.right-K.right,Ye=window.innerWidth-B.right-Ve,tt=window.innerWidth-P.right-Ye,Je=P.width+tt,tn=Math.max(Je,L.width),nn=window.innerWidth-Is,Gt=wp(Ye,[Is,Math.max(Is,nn-tn)]);w.style.minWidth=Je+"px",w.style.right=Gt+"px"}const q=T(),ee=window.innerHeight-Is*2,X=k.scrollHeight,Pe=window.getComputedStyle(g),ne=parseInt(Pe.borderTopWidth,10),we=parseInt(Pe.paddingTop,10),xe=parseInt(Pe.borderBottomWidth,10),oe=parseInt(Pe.paddingBottom,10),ce=ne+we+X+oe+xe,ue=Math.min(F.offsetHeight*5,ce),J=window.getComputedStyle(k),de=parseInt(J.paddingTop,10),ve=parseInt(J.paddingBottom,10),Re=P.top+P.height/2-Is,Ge=ee-Re,Ie=F.offsetHeight/2,Le=F.offsetTop+Ie,Fe=ne+we+Le,Ue=ce-Fe;if(Fe<=Re){const Ve=q.length>0&&F===q[q.length-1].ref.current;w.style.bottom="0px";const Ye=g.clientHeight-k.offsetTop-k.offsetHeight,tt=Math.max(Ge,Ie+(Ve?ve:0)+Ye+xe),Je=Fe+tt;w.style.height=Je+"px"}else{const Ve=q.length>0&&F===q[0].ref.current;w.style.top="0px";const tt=Math.max(Re,ne+k.offsetTop+(Ve?de:0)+Ie)+Ue;w.style.height=tt+"px",k.scrollTop=Fe-Re+k.offsetTop}w.style.margin=`${Is}px 0`,w.style.minHeight=ue+"px",w.style.maxHeight=ee+"px",i==null||i(),requestAnimationFrame(()=>R.current=!0)}},[T,u.trigger,u.valueNode,w,g,k,F,G,u.dir,i]);fi(()=>U(),[U]);const[Z,re]=M.useState();fi(()=>{g&&re(window.getComputedStyle(g).zIndex)},[g]);const le=M.useCallback(P=>{P&&O.current===!0&&(U(),z==null||z(),O.current=!1)},[U,z]);return x.jsx(Nk,{scope:n,contentWrapper:w,shouldExpandOnScrollRef:R,onScrollButtonChange:le,children:x.jsx("div",{ref:y,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Z},children:x.jsx(An.div,{...c,ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});M5.displayName=Tk;var Ik="SelectPopperPosition",Ep=M.forwardRef((e,t)=>{const{__scopeSelect:n,align:i="start",collisionPadding:c=Is,...u}=e,h=Zf(n);return x.jsx(hk,{...h,...u,ref:t,align:i,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ep.displayName=Ik;var[Nk,sg]=dc(rl,{}),bp="SelectViewport",O5=M.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:i,...c}=e,u=Ca(bp,n),h=sg(bp,n),w=kn(t,u.onViewportChange),y=M.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),x.jsx($f.Slot,{scope:n,children:x.jsx(An.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:w,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:Sn(c.onScroll,g=>{const b=g.currentTarget,{contentWrapper:E,shouldExpandOnScrollRef:T}=h;if(T!=null&&T.current&&E){const R=Math.abs(y.current-b.scrollTop);if(R>0){const O=window.innerHeight-Is*2,k=parseFloat(E.style.minHeight),F=parseFloat(E.style.height),G=Math.max(k,F);if(G<O){const z=G+R,U=Math.min(O,z),Z=z-U;E.style.height=U+"px",E.style.bottom==="0px"&&(b.scrollTop=Z>0?Z:0,E.style.justifyContent="flex-end")}}}y.current=b.scrollTop})})})]})});O5.displayName=bp;var k5="SelectGroup",[Rk,_k]=dc(k5),Pk=M.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,c=$l();return x.jsx(Rk,{scope:n,id:c,children:x.jsx(An.div,{role:"group","aria-labelledby":c,...i,ref:t})})});Pk.displayName=k5;var L5="SelectLabel",Dk=M.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,c=_k(L5,n);return x.jsx(An.div,{id:c.id,...i,ref:t})});Dk.displayName=L5;var Sf="SelectItem",[Mk,j5]=dc(Sf),B5=M.forwardRef((e,t)=>{const{__scopeSelect:n,value:i,disabled:c=!1,textValue:u,...h}=e,w=va(Sf,n),y=Ca(Sf,n),g=w.value===i,[b,E]=M.useState(u??""),[T,R]=M.useState(!1),O=kn(t,z=>{var U;return(U=y.itemRefCallback)==null?void 0:U.call(y,z,i,c)}),k=$l(),F=M.useRef("touch"),G=()=>{c||(w.onValueChange(i),w.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(Mk,{scope:n,value:i,disabled:c,textId:k,isSelected:g,onItemTextChange:M.useCallback(z=>{E(U=>U||((z==null?void 0:z.textContent)??"").trim())},[]),children:x.jsx($f.ItemSlot,{scope:n,value:i,disabled:c,textValue:b,children:x.jsx(An.div,{role:"option","aria-labelledby":k,"data-highlighted":T?"":void 0,"aria-selected":g&&T,"data-state":g?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...h,ref:O,onFocus:Sn(h.onFocus,()=>R(!0)),onBlur:Sn(h.onBlur,()=>R(!1)),onClick:Sn(h.onClick,()=>{F.current!=="mouse"&&G()}),onPointerUp:Sn(h.onPointerUp,()=>{F.current==="mouse"&&G()}),onPointerDown:Sn(h.onPointerDown,z=>{F.current=z.pointerType}),onPointerMove:Sn(h.onPointerMove,z=>{var U;F.current=z.pointerType,c?(U=y.onItemLeave)==null||U.call(y):F.current==="mouse"&&z.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Sn(h.onPointerLeave,z=>{var U;z.currentTarget===document.activeElement&&((U=y.onItemLeave)==null||U.call(y))}),onKeyDown:Sn(h.onKeyDown,z=>{var Z;((Z=y.searchRef)==null?void 0:Z.current)!==""&&z.key===" "||(wk.includes(z.key)&&G(),z.key===" "&&z.preventDefault())})})})})});B5.displayName=Sf;var $c="SelectItemText",F5=M.forwardRef((e,t)=>{const{__scopeSelect:n,className:i,style:c,...u}=e,h=va($c,n),w=Ca($c,n),y=j5($c,n),g=Ek($c,n),[b,E]=M.useState(null),T=kn(t,G=>E(G),y.onItemTextChange,G=>{var z;return(z=w.itemTextRefCallback)==null?void 0:z.call(w,G,y.value,y.disabled)}),R=b==null?void 0:b.textContent,O=M.useMemo(()=>x.jsx("option",{value:y.value,disabled:y.disabled,children:R},y.value),[y.disabled,y.value,R]),{onNativeOptionAdd:k,onNativeOptionRemove:F}=g;return fi(()=>(k(O),()=>F(O)),[k,F,O]),x.jsxs(x.Fragment,{children:[x.jsx(An.span,{id:y.textId,...u,ref:T}),y.isSelected&&h.valueNode&&!h.valueNodeHasChildren?Eu.createPortal(u.children,h.valueNode):null]})});F5.displayName=$c;var V5="SelectItemIndicator",U5=M.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return j5(V5,n).isSelected?x.jsx(An.span,{"aria-hidden":!0,...i,ref:t}):null});U5.displayName=V5;var Sp="SelectScrollUpButton",H5=M.forwardRef((e,t)=>{const n=Ca(Sp,e.__scopeSelect),i=sg(Sp,e.__scopeSelect),[c,u]=M.useState(!1),h=kn(t,i.onScrollButtonChange);return fi(()=>{if(n.viewport&&n.isPositioned){let w=function(){const g=y.scrollTop>0;u(g)};const y=n.viewport;return w(),y.addEventListener("scroll",w),()=>y.removeEventListener("scroll",w)}},[n.viewport,n.isPositioned]),c?x.jsx(z5,{...e,ref:h,onAutoScroll:()=>{const{viewport:w,selectedItem:y}=n;w&&y&&(w.scrollTop=w.scrollTop-y.offsetHeight)}}):null});H5.displayName=Sp;var Ap="SelectScrollDownButton",W5=M.forwardRef((e,t)=>{const n=Ca(Ap,e.__scopeSelect),i=sg(Ap,e.__scopeSelect),[c,u]=M.useState(!1),h=kn(t,i.onScrollButtonChange);return fi(()=>{if(n.viewport&&n.isPositioned){let w=function(){const g=y.scrollHeight-y.clientHeight,b=Math.ceil(y.scrollTop)<g;u(b)};const y=n.viewport;return w(),y.addEventListener("scroll",w),()=>y.removeEventListener("scroll",w)}},[n.viewport,n.isPositioned]),c?x.jsx(z5,{...e,ref:h,onAutoScroll:()=>{const{viewport:w,selectedItem:y}=n;w&&y&&(w.scrollTop=w.scrollTop+y.offsetHeight)}}):null});W5.displayName=Ap;var z5=M.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:i,...c}=e,u=Ca("SelectScrollButton",n),h=M.useRef(null),w=Yf(n),y=M.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return M.useEffect(()=>()=>y(),[y]),fi(()=>{var b;const g=w().find(E=>E.ref.current===document.activeElement);(b=g==null?void 0:g.ref.current)==null||b.scrollIntoView({block:"nearest"})},[w]),x.jsx(An.div,{"aria-hidden":!0,...c,ref:t,style:{flexShrink:0,...c.style},onPointerDown:Sn(c.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(i,50))}),onPointerMove:Sn(c.onPointerMove,()=>{var g;(g=u.onItemLeave)==null||g.call(u),h.current===null&&(h.current=window.setInterval(i,50))}),onPointerLeave:Sn(c.onPointerLeave,()=>{y()})})}),Ok="SelectSeparator",kk=M.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e;return x.jsx(An.div,{"aria-hidden":!0,...i,ref:t})});kk.displayName=Ok;var Tp="SelectArrow",Lk=M.forwardRef((e,t)=>{const{__scopeSelect:n,...i}=e,c=Zf(n),u=va(Tp,n),h=Ca(Tp,n);return u.open&&h.position==="popper"?x.jsx(pk,{...c,...i,ref:t}):null});Lk.displayName=Tp;function G5(e){return e===""||e===void 0}var X5=M.forwardRef((e,t)=>{const{value:n,...i}=e,c=M.useRef(null),u=kn(t,c),h=mk(n);return M.useEffect(()=>{const w=c.current,y=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(y,"value").set;if(h!==n&&b){const E=new Event("change",{bubbles:!0});b.call(w,n),w.dispatchEvent(E)}},[h,n]),x.jsx(E5,{asChild:!0,children:x.jsx("select",{...i,ref:u,defaultValue:n})})});X5.displayName="BubbleSelect";function $5(e){const t=ui(e),n=M.useRef(""),i=M.useRef(0),c=M.useCallback(h=>{const w=n.current+h;t(w),(function y(g){n.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>y(""),1e3))})(w)},[t]),u=M.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,c,u]}function Y5(e,t,n){const c=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,u=n?e.indexOf(n):-1;let h=jk(e,Math.max(u,0));c.length===1&&(h=h.filter(g=>g!==n));const y=h.find(g=>g.textValue.toLowerCase().startsWith(c.toLowerCase()));return y!==n?y:void 0}function jk(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var Bk=b5,Fk=A5,Vk=I5,Uk=N5,Hk=R5,Wk=_5,zk=O5,Gk=B5,Xk=F5,$k=U5,Yk=H5,Zk=W5;function ru({...e}){return x.jsx(Bk,{"data-slot":"select",...e})}function iu({...e}){return x.jsx(Vk,{"data-slot":"select-value",...e})}function su({className:e,size:t="default",children:n,...i}){return x.jsxs(Fk,{"data-slot":"select-trigger","data-size":t,className:cn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,x.jsx(Uk,{asChild:!0,children:x.jsx(XC,{className:"size-4 opacity-50"})})]})}function ou({className:e,children:t,position:n="popper",...i}){return x.jsx(Hk,{children:x.jsxs(Wk,{"data-slot":"select-content",className:cn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[x.jsx(Kk,{}),x.jsx(zk,{className:cn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),x.jsx(qk,{})]})})}function Kl({className:e,children:t,...n}){return x.jsxs(Gk,{"data-slot":"select-item",className:cn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[x.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:x.jsx($k,{children:x.jsx(NM,{className:"size-4"})})}),x.jsx(Xk,{children:t})]})}function Kk({className:e,...t}){return x.jsx(Yk,{"data-slot":"select-scroll-up-button",className:cn("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(PM,{className:"size-4"})})}function qk({className:e,...t}){return x.jsx(Zk,{"data-slot":"select-scroll-down-button",className:cn("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(XC,{className:"size-4"})})}const Qk=["PLA","PLA+","ABS","PETG","TPU","Nylon","ASA","PC","Other"],Jk=["1.75","2.85"],eL=["Hatchbox","eSUN","Polymaker","Prusament","Overture","Inland","Amazon Basics","3D Solutech","MatterHackers","ColorFabb","Atomic Filament","Push Plastic","Proto-pasta","Fillamentum","Taulman3D","IC3D","SUNLU","Marble","Amolen","ERYONE","SainSmart","Gizmo Dorks","CC3D","3D-Fuel","Ninjatek","Verbatim","Dremel","Elegoo","FormFutura","Filamatrix","3DXTech"],Cv=[{name:"Black",hex:"#000000"},{name:"White",hex:"#FFFFFF"},{name:"Red",hex:"#EF4444"},{name:"Blue",hex:"#3B82F6"},{name:"Green",hex:"#10B981"},{name:"Yellow",hex:"#F59E0B"},{name:"Orange",hex:"#F97316"},{name:"Purple",hex:"#A855F7"},{name:"Pink",hex:"#EC4899"},{name:"Gray",hex:"#6B7280"}];function Z5({open:e,onOpenChange:t,onSave:n,editFilament:i,onShowQR:c}){const u=qC(),[h,w]=M.useState({name:"",material:"PLA",color:"Black",colorHex:"#000000",totalWeight:"1000",remainingWeight:"1000",manufacturer:"Hatchbox",diameter:"1.75",price:""});M.useEffect(()=>{var R;w(i?{name:i.name,material:i.material,color:i.color,colorHex:i.colorHex,totalWeight:i.totalWeight.toString(),remainingWeight:i.remainingWeight.toString(),manufacturer:i.manufacturer,diameter:i.diameter.toString(),price:((R=i.price)==null?void 0:R.toString())||""}:{name:"",material:"PLA",color:"Black",colorHex:"#000000",totalWeight:"1000",remainingWeight:"1000",manufacturer:"Hatchbox",diameter:"1.75",price:""})},[i,e]);const y=R=>{R.preventDefault();const O={name:h.name,material:h.material,color:h.color,colorHex:h.colorHex,totalWeight:parseInt(h.totalWeight),remainingWeight:parseInt(h.remainingWeight),manufacturer:h.manufacturer,diameter:parseFloat(h.diameter),price:h.price?parseFloat(h.price):void 0};n(i?{...O,id:i.id,favorite:i.favorite}:O),t(!1)},g=R=>{const O=Cv.find(k=>k.name===R);O&&w({...h,color:O.name,colorHex:O.hex})},b=x.jsx(x.Fragment,{children:x.jsxs("div",{className:"grid w-full min-w-0 gap-4 py-4",children:[x.jsxs("div",{className:"space-y-2 w-full min-w-0",children:[x.jsx(ci,{htmlFor:"manufacturer",children:"Brand"}),x.jsxs(ru,{value:h.manufacturer,onValueChange:R=>w({...h,manufacturer:R}),children:[x.jsx(su,{children:x.jsx(iu,{})}),x.jsx(ou,{children:eL.map(R=>x.jsx(Kl,{value:R,children:R},R))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full min-w-0",children:[x.jsxs("div",{className:"space-y-2 min-w-0",children:[x.jsx(ci,{htmlFor:"material",children:"Material"}),x.jsxs(ru,{value:h.material,onValueChange:R=>w({...h,material:R}),children:[x.jsx(su,{children:x.jsx(iu,{})}),x.jsx(ou,{children:Qk.map(R=>x.jsx(Kl,{value:R,children:R},R))})]})]}),x.jsxs("div",{className:"space-y-2 min-w-0",children:[x.jsx(ci,{htmlFor:"diameter",children:"Diameter (mm)"}),x.jsxs(ru,{value:h.diameter,onValueChange:R=>w({...h,diameter:R}),children:[x.jsx(su,{children:x.jsx(iu,{})}),x.jsx(ou,{children:Jk.map(R=>x.jsxs(Kl,{value:R,children:[R,"mm"]},R))})]})]})]}),x.jsxs("div",{className:"space-y-2 w-full min-w-0",children:[x.jsx(ci,{children:"Color"}),x.jsx("div",{className:"w-full min-w-0 overflow-hidden",children:x.jsx("div",{className:"flex flex-nowrap gap-1.5 overflow-x-auto pb-1 min-w-0 -mx-0.5",children:Cv.map(R=>x.jsx("button",{type:"button",onClick:()=>g(R.name),className:`h-9 w-9 shrink-0 rounded-md border-2 transition-all ${h.color===R.name?"border-[#F26D00] ring-2 ring-[#F26D00]/30":"border-gray-200 hover:border-gray-300"}`,style:{backgroundColor:R.hex},title:R.name,children:x.jsx("span",{className:"sr-only",children:R.name})},R.name))})}),x.jsxs("div",{className:"flex gap-2 mt-2 w-full min-w-0",children:[x.jsx(Xi,{value:h.color,onChange:R=>w({...h,color:R.target.value}),placeholder:"Color name",className:"flex-1 min-w-0 w-0"}),x.jsx(Xi,{type:"color",value:h.colorHex,onChange:R=>w({...h,colorHex:R.target.value}),className:"w-14 h-9 shrink-0 rounded-md cursor-pointer p-0.5 border border-input"})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4 w-full min-w-0",children:[x.jsxs("div",{className:"space-y-2 min-w-0",children:[x.jsx(ci,{htmlFor:"totalWeight",children:"Total Weight (g)"}),x.jsx(Xi,{id:"totalWeight",type:"number",value:h.totalWeight,onChange:R=>w({...h,totalWeight:R.target.value}),min:"0",required:!0})]}),x.jsxs("div",{className:"space-y-2 min-w-0",children:[x.jsx(ci,{htmlFor:"remainingWeight",children:"Remaining (g)"}),x.jsx(Xi,{id:"remainingWeight",type:"number",value:h.remainingWeight,onChange:R=>w({...h,remainingWeight:R.target.value}),min:"0",max:h.totalWeight,required:!0})]}),x.jsxs("div",{className:"space-y-2 min-w-0",children:[x.jsx(ci,{htmlFor:"price",children:"Price ($)"}),x.jsx(Xi,{id:"price",type:"number",step:"0.01",value:h.price,onChange:R=>w({...h,price:R.target.value}),min:"0",placeholder:"Optional"})]})]}),x.jsxs("div",{className:"space-y-2 w-full min-w-0",children:[x.jsx(ci,{htmlFor:"name",children:"Description"}),x.jsx(Xi,{id:"name",value:h.name,onChange:R=>w({...h,name:R.target.value}),placeholder:"e.g., Matte Black PLA",className:"w-full min-w-0"})]})]})}),E=i?"Edit Filament":"Add New Filament",T=i?"Update the details of your filament spool.":"Add a new filament spool to your inventory.";return u?x.jsx(Wm,{open:e,onOpenChange:t,children:x.jsxs(zm,{className:"max-h-[92vh] w-full max-w-full rounded-t-2xl border-t border-[#F26D00]/20 bg-white overflow-hidden [&>div:first-child]:!h-1.5 [&>div:first-child]:!w-9 [&>div:first-child]:!mt-3 [&>div:first-child]:!min-h-0 [&>div:first-child]:!min-w-0",children:[x.jsxs(Gm,{className:"pb-2 flex-shrink-0",children:[x.jsx(Xm,{className:"text-xl text-gray-900",children:E}),x.jsx($m,{className:"text-sm text-gray-500",children:T})]}),x.jsxs("form",{onSubmit:y,className:"flex flex-col min-h-0 min-w-0 flex-1",children:[x.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-4 pb-4 min-w-0",children:b}),x.jsxs(xM,{className:"flex-row gap-2 border-t border-gray-100 pt-4 pb-6 px-4",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:[x.jsx(Ut,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1 rounded-xl border-gray-200",children:"Cancel"}),x.jsxs(Ut,{type:"submit",className:"flex-1 rounded-xl bg-[#F26D00] hover:bg-[#e56300] text-white",children:[i?"Update":"Add"," Filament"]})]})]})]})}):x.jsx(al,{open:e,onOpenChange:t,children:x.jsxs(ll,{className:"max-h-[85vh] overflow-y-auto",children:[x.jsxs(cl,{children:[x.jsx(ul,{children:E}),x.jsx(dl,{children:T})]}),x.jsxs("form",{onSubmit:y,children:[b,x.jsxs(Hf,{children:[x.jsx(Ut,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),x.jsxs(Ut,{type:"submit",children:[i?"Update":"Add"," Filament"]})]})]})]})})}var tL=Object.defineProperty,Af=Object.getOwnPropertySymbols,K5=Object.prototype.hasOwnProperty,q5=Object.prototype.propertyIsEnumerable,Ev=(e,t,n)=>t in e?tL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ip=(e,t)=>{for(var n in t||(t={}))K5.call(t,n)&&Ev(e,n,t[n]);if(Af)for(var n of Af(t))q5.call(t,n)&&Ev(e,n,t[n]);return e},Np=(e,t)=>{var n={};for(var i in e)K5.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Af)for(var i of Af(e))t.indexOf(i)<0&&q5.call(e,i)&&(n[i]=e[i]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var il;(e=>{const t=class ln{constructor(y,g,b,E){if(this.version=y,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],y<ln.MIN_VERSION||y>ln.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=y*4+17;let T=[];for(let O=0;O<this.size;O++)T.push(!1);for(let O=0;O<this.size;O++)this.modules.push(T.slice()),this.isFunction.push(T.slice());this.drawFunctionPatterns();const R=this.addEccAndInterleave(b);if(this.drawCodewords(R),E==-1){let O=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const F=this.getPenaltyScore();F<O&&(E=k,O=F),this.applyMask(k)}}c(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(y,g){const b=e.QrSegment.makeSegments(y);return ln.encodeSegments(b,g)}static encodeBinary(y,g){const b=e.QrSegment.makeBytes(y);return ln.encodeSegments([b],g)}static encodeSegments(y,g,b=1,E=40,T=-1,R=!0){if(!(ln.MIN_VERSION<=b&&b<=E&&E<=ln.MAX_VERSION)||T<-1||T>7)throw new RangeError("Invalid value");let O,k;for(O=b;;O++){const U=ln.getNumDataCodewords(O,g)*8,Z=h.getTotalBits(y,O);if(Z<=U){k=Z;break}if(O>=E)throw new RangeError("Data too long")}for(const U of[ln.Ecc.MEDIUM,ln.Ecc.QUARTILE,ln.Ecc.HIGH])R&&k<=ln.getNumDataCodewords(O,U)*8&&(g=U);let F=[];for(const U of y){n(U.mode.modeBits,4,F),n(U.numChars,U.mode.numCharCountBits(O),F);for(const Z of U.getData())F.push(Z)}c(F.length==k);const G=ln.getNumDataCodewords(O,g)*8;c(F.length<=G),n(0,Math.min(4,G-F.length),F),n(0,(8-F.length%8)%8,F),c(F.length%8==0);for(let U=236;F.length<G;U^=253)n(U,8,F);let z=[];for(;z.length*8<F.length;)z.push(0);return F.forEach((U,Z)=>z[Z>>>3]|=U<<7-(Z&7)),new ln(O,g,z,T)}getModule(y,g){return 0<=y&&y<this.size&&0<=g&&g<this.size&&this.modules[g][y]}getModules(){return this.modules}drawFunctionPatterns(){for(let b=0;b<this.size;b++)this.setFunctionModule(6,b,b%2==0),this.setFunctionModule(b,6,b%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const y=this.getAlignmentPatternPositions(),g=y.length;for(let b=0;b<g;b++)for(let E=0;E<g;E++)b==0&&E==0||b==0&&E==g-1||b==g-1&&E==0||this.drawAlignmentPattern(y[b],y[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(y){const g=this.errorCorrectionLevel.formatBits<<3|y;let b=g;for(let T=0;T<10;T++)b=b<<1^(b>>>9)*1335;const E=(g<<10|b)^21522;c(E>>>15==0);for(let T=0;T<=5;T++)this.setFunctionModule(8,T,i(E,T));this.setFunctionModule(8,7,i(E,6)),this.setFunctionModule(8,8,i(E,7)),this.setFunctionModule(7,8,i(E,8));for(let T=9;T<15;T++)this.setFunctionModule(14-T,8,i(E,T));for(let T=0;T<8;T++)this.setFunctionModule(this.size-1-T,8,i(E,T));for(let T=8;T<15;T++)this.setFunctionModule(8,this.size-15+T,i(E,T));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let y=this.version;for(let b=0;b<12;b++)y=y<<1^(y>>>11)*7973;const g=this.version<<12|y;c(g>>>18==0);for(let b=0;b<18;b++){const E=i(g,b),T=this.size-11+b%3,R=Math.floor(b/3);this.setFunctionModule(T,R,E),this.setFunctionModule(R,T,E)}}drawFinderPattern(y,g){for(let b=-4;b<=4;b++)for(let E=-4;E<=4;E++){const T=Math.max(Math.abs(E),Math.abs(b)),R=y+E,O=g+b;0<=R&&R<this.size&&0<=O&&O<this.size&&this.setFunctionModule(R,O,T!=2&&T!=4)}}drawAlignmentPattern(y,g){for(let b=-2;b<=2;b++)for(let E=-2;E<=2;E++)this.setFunctionModule(y+E,g+b,Math.max(Math.abs(E),Math.abs(b))!=1)}setFunctionModule(y,g,b){this.modules[g][y]=b,this.isFunction[g][y]=!0}addEccAndInterleave(y){const g=this.version,b=this.errorCorrectionLevel;if(y.length!=ln.getNumDataCodewords(g,b))throw new RangeError("Invalid argument");const E=ln.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][g],T=ln.ECC_CODEWORDS_PER_BLOCK[b.ordinal][g],R=Math.floor(ln.getNumRawDataModules(g)/8),O=E-R%E,k=Math.floor(R/E);let F=[];const G=ln.reedSolomonComputeDivisor(T);for(let U=0,Z=0;U<E;U++){let re=y.slice(Z,Z+k-T+(U<O?0:1));Z+=re.length;const le=ln.reedSolomonComputeRemainder(re,G);U<O&&re.push(0),F.push(re.concat(le))}let z=[];for(let U=0;U<F[0].length;U++)F.forEach((Z,re)=>{(U!=k-T||re>=O)&&z.push(Z[U])});return c(z.length==R),z}drawCodewords(y){if(y.length!=Math.floor(ln.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let b=this.size-1;b>=1;b-=2){b==6&&(b=5);for(let E=0;E<this.size;E++)for(let T=0;T<2;T++){const R=b-T,k=(b+1&2)==0?this.size-1-E:E;!this.isFunction[k][R]&&g<y.length*8&&(this.modules[k][R]=i(y[g>>>3],7-(g&7)),g++)}}c(g==y.length*8)}applyMask(y){if(y<0||y>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let b=0;b<this.size;b++){let E;switch(y){case 0:E=(b+g)%2==0;break;case 1:E=g%2==0;break;case 2:E=b%3==0;break;case 3:E=(b+g)%3==0;break;case 4:E=(Math.floor(b/3)+Math.floor(g/2))%2==0;break;case 5:E=b*g%2+b*g%3==0;break;case 6:E=(b*g%2+b*g%3)%2==0;break;case 7:E=((b+g)%2+b*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][b]&&E&&(this.modules[g][b]=!this.modules[g][b])}}getPenaltyScore(){let y=0;for(let T=0;T<this.size;T++){let R=!1,O=0,k=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[T][F]==R?(O++,O==5?y+=ln.PENALTY_N1:O>5&&y++):(this.finderPenaltyAddHistory(O,k),R||(y+=this.finderPenaltyCountPatterns(k)*ln.PENALTY_N3),R=this.modules[T][F],O=1);y+=this.finderPenaltyTerminateAndCount(R,O,k)*ln.PENALTY_N3}for(let T=0;T<this.size;T++){let R=!1,O=0,k=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[F][T]==R?(O++,O==5?y+=ln.PENALTY_N1:O>5&&y++):(this.finderPenaltyAddHistory(O,k),R||(y+=this.finderPenaltyCountPatterns(k)*ln.PENALTY_N3),R=this.modules[F][T],O=1);y+=this.finderPenaltyTerminateAndCount(R,O,k)*ln.PENALTY_N3}for(let T=0;T<this.size-1;T++)for(let R=0;R<this.size-1;R++){const O=this.modules[T][R];O==this.modules[T][R+1]&&O==this.modules[T+1][R]&&O==this.modules[T+1][R+1]&&(y+=ln.PENALTY_N2)}let g=0;for(const T of this.modules)g=T.reduce((R,O)=>R+(O?1:0),g);const b=this.size*this.size,E=Math.ceil(Math.abs(g*20-b*10)/b)-1;return c(0<=E&&E<=9),y+=E*ln.PENALTY_N4,c(0<=y&&y<=2568888),y}getAlignmentPatternPositions(){if(this.version==1)return[];{const y=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(y*2-2))*2;let b=[6];for(let E=this.size-7;b.length<y;E-=g)b.splice(1,0,E);return b}}static getNumRawDataModules(y){if(y<ln.MIN_VERSION||y>ln.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*y+128)*y+64;if(y>=2){const b=Math.floor(y/7)+2;g-=(25*b-10)*b-55,y>=7&&(g-=36)}return c(208<=g&&g<=29648),g}static getNumDataCodewords(y,g){return Math.floor(ln.getNumRawDataModules(y)/8)-ln.ECC_CODEWORDS_PER_BLOCK[g.ordinal][y]*ln.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][y]}static reedSolomonComputeDivisor(y){if(y<1||y>255)throw new RangeError("Degree out of range");let g=[];for(let E=0;E<y-1;E++)g.push(0);g.push(1);let b=1;for(let E=0;E<y;E++){for(let T=0;T<g.length;T++)g[T]=ln.reedSolomonMultiply(g[T],b),T+1<g.length&&(g[T]^=g[T+1]);b=ln.reedSolomonMultiply(b,2)}return g}static reedSolomonComputeRemainder(y,g){let b=g.map(E=>0);for(const E of y){const T=E^b.shift();b.push(0),g.forEach((R,O)=>b[O]^=ln.reedSolomonMultiply(R,T))}return b}static reedSolomonMultiply(y,g){if(y>>>8||g>>>8)throw new RangeError("Byte out of range");let b=0;for(let E=7;E>=0;E--)b=b<<1^(b>>>7)*285,b^=(g>>>E&1)*y;return c(b>>>8==0),b}finderPenaltyCountPatterns(y){const g=y[1];c(g<=this.size*3);const b=g>0&&y[2]==g&&y[3]==g*3&&y[4]==g&&y[5]==g;return(b&&y[0]>=g*4&&y[6]>=g?1:0)+(b&&y[6]>=g*4&&y[0]>=g?1:0)}finderPenaltyTerminateAndCount(y,g,b){return y&&(this.finderPenaltyAddHistory(g,b),g=0),g+=this.size,this.finderPenaltyAddHistory(g,b),this.finderPenaltyCountPatterns(b)}finderPenaltyAddHistory(y,g){g[0]==0&&(y+=this.size),g.pop(),g.unshift(y)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(w,y,g){if(y<0||y>31||w>>>y)throw new RangeError("Value out of range");for(let b=y-1;b>=0;b--)g.push(w>>>b&1)}function i(w,y){return(w>>>y&1)!=0}function c(w){if(!w)throw new Error("Assertion error")}const u=class wr{constructor(y,g,b){if(this.mode=y,this.numChars=g,this.bitData=b,g<0)throw new RangeError("Invalid argument");this.bitData=b.slice()}static makeBytes(y){let g=[];for(const b of y)n(b,8,g);return new wr(wr.Mode.BYTE,y.length,g)}static makeNumeric(y){if(!wr.isNumeric(y))throw new RangeError("String contains non-numeric characters");let g=[];for(let b=0;b<y.length;){const E=Math.min(y.length-b,3);n(parseInt(y.substring(b,b+E),10),E*3+1,g),b+=E}return new wr(wr.Mode.NUMERIC,y.length,g)}static makeAlphanumeric(y){if(!wr.isAlphanumeric(y))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],b;for(b=0;b+2<=y.length;b+=2){let E=wr.ALPHANUMERIC_CHARSET.indexOf(y.charAt(b))*45;E+=wr.ALPHANUMERIC_CHARSET.indexOf(y.charAt(b+1)),n(E,11,g)}return b<y.length&&n(wr.ALPHANUMERIC_CHARSET.indexOf(y.charAt(b)),6,g),new wr(wr.Mode.ALPHANUMERIC,y.length,g)}static makeSegments(y){return y==""?[]:wr.isNumeric(y)?[wr.makeNumeric(y)]:wr.isAlphanumeric(y)?[wr.makeAlphanumeric(y)]:[wr.makeBytes(wr.toUtf8ByteArray(y))]}static makeEci(y){let g=[];if(y<0)throw new RangeError("ECI assignment value out of range");if(y<128)n(y,8,g);else if(y<16384)n(2,2,g),n(y,14,g);else if(y<1e6)n(6,3,g),n(y,21,g);else throw new RangeError("ECI assignment value out of range");return new wr(wr.Mode.ECI,0,g)}static isNumeric(y){return wr.NUMERIC_REGEX.test(y)}static isAlphanumeric(y){return wr.ALPHANUMERIC_REGEX.test(y)}getData(){return this.bitData.slice()}static getTotalBits(y,g){let b=0;for(const E of y){const T=E.mode.numCharCountBits(g);if(E.numChars>=1<<T)return 1/0;b+=4+T+E.bitData.length}return b}static toUtf8ByteArray(y){y=encodeURI(y);let g=[];for(let b=0;b<y.length;b++)y.charAt(b)!="%"?g.push(y.charCodeAt(b)):(g.push(parseInt(y.substring(b+1,b+3),16)),b+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=u;e.QrSegment=u})(il||(il={}));(e=>{(t=>{const n=class{constructor(c,u){this.ordinal=c,this.formatBits=u}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(il||(il={}));(e=>{(t=>{const n=class{constructor(c,u){this.modeBits=c,this.numBitsCharCount=u}numCharCountBits(c){return this.numBitsCharCount[Math.floor((c+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(il||(il={}));var Ul=il;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var nL={L:Ul.QrCode.Ecc.LOW,M:Ul.QrCode.Ecc.MEDIUM,Q:Ul.QrCode.Ecc.QUARTILE,H:Ul.QrCode.Ecc.HIGH},Q5=128,J5="L",eE="#FFFFFF",tE="#000000",nE=!1,rE=1,rL=4,iL=0,sL=.1;function iE(e,t=0){const n=[];return e.forEach(function(i,c){let u=null;i.forEach(function(h,w){if(!h&&u!==null){n.push(`M${u+t} ${c+t}h${w-u}v1H${u+t}z`),u=null;return}if(w===i.length-1){if(!h)return;u===null?n.push(`M${w+t},${c+t} h1v1H${w+t}z`):n.push(`M${u+t},${c+t} h${w+1-u}v1H${u+t}z`);return}h&&u===null&&(u=w)})}),n.join("")}function sE(e,t){return e.slice().map((n,i)=>i<t.y||i>=t.y+t.h?n:n.map((c,u)=>u<t.x||u>=t.x+t.w?c:!1))}function oL(e,t,n,i){if(i==null)return null;const c=e.length+n*2,u=Math.floor(t*sL),h=c/t,w=(i.width||u)*h,y=(i.height||u)*h,g=i.x==null?e.length/2-w/2:i.x*h,b=i.y==null?e.length/2-y/2:i.y*h,E=i.opacity==null?1:i.opacity;let T=null;if(i.excavate){let O=Math.floor(g),k=Math.floor(b),F=Math.ceil(w+g-O),G=Math.ceil(y+b-k);T={x:O,y:k,w:F,h:G}}const R=i.crossOrigin;return{x:g,y:b,h:y,w,excavation:T,opacity:E,crossOrigin:R}}function aL(e,t){return t!=null?Math.max(Math.floor(t),0):e?rL:iL}function oE({value:e,level:t,minVersion:n,includeMargin:i,marginSize:c,imageSettings:u,size:h,boostLevel:w}){let y=Ee.useMemo(()=>{const O=(Array.isArray(e)?e:[e]).reduce((k,F)=>(k.push(...Ul.QrSegment.makeSegments(F)),k),[]);return Ul.QrCode.encodeSegments(O,nL[t],n,void 0,void 0,w)},[e,t,n,w]);const{cells:g,margin:b,numCells:E,calculatedImageSettings:T}=Ee.useMemo(()=>{let R=y.getModules();const O=aL(i,c),k=R.length+O*2,F=oL(R,h,O,u);return{cells:R,margin:O,numCells:k,calculatedImageSettings:F}},[y,h,u,i,c]);return{qrcode:y,margin:b,cells:g,numCells:E,calculatedImageSettings:T}}var lL=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),cL=Ee.forwardRef(function(t,n){const i=t,{value:c,size:u=Q5,level:h=J5,bgColor:w=eE,fgColor:y=tE,includeMargin:g=nE,minVersion:b=rE,boostLevel:E,marginSize:T,imageSettings:R}=i,k=Np(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:F}=k,G=Np(k,["style"]),z=R==null?void 0:R.src,U=Ee.useRef(null),Z=Ee.useRef(null),re=Ee.useCallback(Pe=>{U.current=Pe,typeof n=="function"?n(Pe):n&&(n.current=Pe)},[n]),[le,P]=Ee.useState(!1),{margin:L,cells:B,numCells:K,calculatedImageSettings:q}=oE({value:c,level:h,minVersion:b,boostLevel:E,includeMargin:g,marginSize:T,imageSettings:R,size:u});Ee.useEffect(()=>{if(U.current!=null){const Pe=U.current,ne=Pe.getContext("2d");if(!ne)return;let we=B;const xe=Z.current,oe=q!=null&&xe!==null&&xe.complete&&xe.naturalHeight!==0&&xe.naturalWidth!==0;oe&&q.excavation!=null&&(we=sE(B,q.excavation));const ce=window.devicePixelRatio||1;Pe.height=Pe.width=u*ce;const ue=u/K*ce;ne.scale(ue,ue),ne.fillStyle=w,ne.fillRect(0,0,K,K),ne.fillStyle=y,lL?ne.fill(new Path2D(iE(we,L))):B.forEach(function(J,de){J.forEach(function(ve,Re){ve&&ne.fillRect(Re+L,de+L,1,1)})}),q&&(ne.globalAlpha=q.opacity),oe&&ne.drawImage(xe,q.x+L,q.y+L,q.w,q.h)}}),Ee.useEffect(()=>{P(!1)},[z]);const ee=Ip({height:u,width:u},F);let X=null;return z!=null&&(X=Ee.createElement("img",{src:z,key:z,style:{display:"none"},onLoad:()=>{P(!0)},ref:Z,crossOrigin:q==null?void 0:q.crossOrigin})),Ee.createElement(Ee.Fragment,null,Ee.createElement("canvas",Ip({style:ee,height:u,width:u,ref:re,role:"img"},G)),X)});cL.displayName="QRCodeCanvas";var og=Ee.forwardRef(function(t,n){const i=t,{value:c,size:u=Q5,level:h=J5,bgColor:w=eE,fgColor:y=tE,includeMargin:g=nE,minVersion:b=rE,boostLevel:E,title:T,marginSize:R,imageSettings:O}=i,k=Np(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:F,cells:G,numCells:z,calculatedImageSettings:U}=oE({value:c,level:h,minVersion:b,boostLevel:E,includeMargin:g,marginSize:R,imageSettings:O,size:u});let Z=G,re=null;O!=null&&U!=null&&(U.excavation!=null&&(Z=sE(G,U.excavation)),re=Ee.createElement("image",{href:O.src,height:U.h,width:U.w,x:U.x+F,y:U.y+F,preserveAspectRatio:"none",opacity:U.opacity,crossOrigin:U.crossOrigin}));const le=iE(Z,F);return Ee.createElement("svg",Ip({height:u,width:u,viewBox:`0 0 ${z} ${z}`,ref:n,role:"img"},k),!!T&&Ee.createElement("title",null,T),Ee.createElement("path",{fill:w,d:`M0,0 h${z}v${z}H0z`,shapeRendering:"crispEdges"}),Ee.createElement("path",{fill:y,d:le,shapeRendering:"crispEdges"}),re)});og.displayName="QRCodeSVG";function uL({open:e,onOpenChange:t,filament:n}){const i=M.useRef(null);if(!n)return null;const c=JSON.stringify({id:n.id,name:n.name,material:n.material,color:n.color,colorHex:n.colorHex,totalWeight:n.totalWeight,remainingWeight:n.remainingWeight,manufacturer:n.manufacturer,diameter:n.diameter,price:n.price}),u=()=>{var T;const w=(T=i.current)==null?void 0:T.querySelector("svg");if(!w)return;const y=new XMLSerializer().serializeToString(w),g=document.createElement("canvas"),b=g.getContext("2d"),E=new Image;E.onload=()=>{g.width=E.width,g.height=E.height,b==null||b.drawImage(E,0,0),g.toBlob(R=>{if(R){const O=URL.createObjectURL(R),k=document.createElement("a");k.href=O,k.download=`${n.manufacturer}-${n.material}-QR.png`,k.click(),URL.revokeObjectURL(O)}})},E.src="data:image/svg+xml;base64,"+btoa(y)},h=()=>{var b;const w=window.open("","_blank");if(!w)return;const y=(b=i.current)==null?void 0:b.querySelector("svg");if(!y)return;const g=new XMLSerializer().serializeToString(y);w.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Print QR Code - ${n.manufacturer} ${n.material}</title>
          <style>
            body {
              margin: 0;
              padding: 20px;
              display: flex;
              flex-direction: column;
              align-items: center;
              font-family: system-ui, -apple-system, sans-serif;
            }
            .qr-container {
              text-align: center;
            }
            h1 {
              font-size: 24px;
              margin-bottom: 10px;
            }
            .details {
              margin: 20px 0;
              font-size: 14px;
            }
            .details div {
              margin: 5px 0;
            }
            @media print {
              body {
                padding: 10px;
              }
            }
          </style>
        </head>
        <body>
          <div class="qr-container">
            <h1>${n.manufacturer} - ${n.material}</h1>
            <div class="details">
              <div><strong>Color:</strong> ${n.color}</div>
              <div><strong>Diameter:</strong> ${n.diameter}mm</div>
              <div><strong>Weight:</strong> ${n.totalWeight}g</div>
              ${n.price?`<div><strong>Price:</strong> $${n.price.toFixed(2)}</div>`:""}
            </div>
            ${g}
          </div>
        </body>
      </html>
    `),w.document.close(),setTimeout(()=>{w.print()},250)};return x.jsx(al,{open:e,onOpenChange:t,children:x.jsxs(ll,{className:"max-h-[85vh] overflow-y-auto",bottomSheet:!0,children:[x.jsxs(cl,{children:[x.jsx(ul,{children:"Filament QR Code"}),x.jsx(dl,{children:"Scan this QR code to quickly identify this filament spool."})]}),x.jsxs("div",{className:"py-6 flex flex-col items-center gap-4",children:[x.jsx("div",{ref:i,className:"bg-white p-4 rounded-lg shadow-md",children:x.jsx(og,{value:c,size:256,level:"H",includeMargin:!0})}),x.jsxs("div",{className:"text-center space-y-1",children:[x.jsxs("p",{className:"font-semibold text-lg",children:[n.manufacturer," - ",n.material]}),x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("div",{className:"w-4 h-4 rounded border border-[#E5E5E5]",style:{backgroundColor:n.colorHex}}),x.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.color,"  ",n.diameter,"mm"]})]}),x.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.totalWeight,"g",n.price&&`  $${n.price.toFixed(2)}`]})]})]}),x.jsxs(Hf,{className:"flex-col sm:flex-row gap-2",children:[x.jsxs(Ut,{type:"button",variant:"outline",onClick:u,className:"w-full sm:w-auto",children:[x.jsx($C,{className:"mr-2 h-4 w-4"}),"Download"]}),x.jsxs(Ut,{type:"button",onClick:h,className:"w-full sm:w-auto",children:[x.jsx(YC,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})})}var ht;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ht||(ht={}));var bv=new Map([[ht.QR_CODE,"QR_CODE"],[ht.AZTEC,"AZTEC"],[ht.CODABAR,"CODABAR"],[ht.CODE_39,"CODE_39"],[ht.CODE_93,"CODE_93"],[ht.CODE_128,"CODE_128"],[ht.DATA_MATRIX,"DATA_MATRIX"],[ht.MAXICODE,"MAXICODE"],[ht.ITF,"ITF"],[ht.EAN_13,"EAN_13"],[ht.EAN_8,"EAN_8"],[ht.PDF_417,"PDF_417"],[ht.RSS_14,"RSS_14"],[ht.RSS_EXPANDED,"RSS_EXPANDED"],[ht.UPC_A,"UPC_A"],[ht.UPC_E,"UPC_E"],[ht.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Sv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Sv||(Sv={}));function dL(e){return Object.values(ht).includes(e)}var Tf;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Tf||(Tf={}));var fL=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Tf.SCAN_TYPE_CAMERA,Tf.SCAN_TYPE_FILE],e})(),aE=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!bv.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,bv.get(t))},e})(),Av=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Rp;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Rp||(Rp={}));var hL=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Rp.UNKWOWN_ERROR}},e})(),pL=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function Ao(e){return typeof e>"u"||e===null}var Hl=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),lE=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(c),h=Object.keys(t),w=0,y=h;w<y.length;w++){var g=y[w];if(u.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e})(),Yc={exports:{}},mL=Yc.exports,Tv;function gL(){return Tv||(Tv=1,(function(e,t){(function(n,i){i(t)})(mL,(function(n){function i(H){return H==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,r){H.__proto__=r}||function(H,r){for(var o in r)r.hasOwnProperty(o)&&(H[o]=r[o])};function u(H,r){c(H,r);function o(){this.constructor=H}H.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function h(H,r){var o=Object.setPrototypeOf;o?o(H,r):H.__proto__=r}function w(H,r){r===void 0&&(r=H.constructor);var o=Error.captureStackTrace;o&&o(H,r)}var y=(function(H){u(r,H);function r(o){var a=this.constructor,d=H.call(this,o)||this;return Object.defineProperty(d,"name",{value:a.name,enumerable:!1}),h(d,a.prototype),w(d),d}return r})(Error);class g extends y{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}g.kind="Exception";class b extends g{}b.kind="ArgumentException";class E extends g{}E.kind="IllegalArgumentException";class T{constructor(r){if(this.binarizer=r,r===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,o){return this.binarizer.getBlackRow(r,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,o,a,d){const f=this.binarizer.getLuminanceSource().crop(r,o,a,d);return new T(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends g{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class O{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(r,o,a,d,f){for(;f--;)a[d++]=r[o++]}static currentTimeMillis(){return Date.now()}}class F extends g{}F.kind="IndexOutOfBoundsException";class G extends F{constructor(r=void 0,o=void 0){super(o),this.index=r,this.message=o}}G.kind="ArrayIndexOutOfBoundsException";class z{static fill(r,o){for(let a=0,d=r.length;a<d;a++)r[a]=o}static fillWithin(r,o,a,d){z.rangeCheck(r.length,o,a);for(let f=o;f<a;f++)r[f]=d}static rangeCheck(r,o,a){if(o>a)throw new E("fromIndex("+o+") > toIndex("+a+")");if(o<0)throw new G(o);if(a>r)throw new G(a)}static asList(...r){return r}static create(r,o,a){return Array.from({length:r}).map(f=>Array.from({length:o}).fill(a))}static createInt32Array(r,o,a){return Array.from({length:r}).map(f=>Int32Array.from({length:o}).fill(a))}static equals(r,o){if(!r||!o||!r.length||!o.length||r.length!==o.length)return!1;for(let a=0,d=r.length;a<d;a++)if(r[a]!==o[a])return!1;return!0}static hashCode(r){if(r===null)return 0;let o=1;for(const a of r)o=31*o+a;return o}static fillUint8Array(r,o){for(let a=0;a!==r.length;a++)r[a]=o}static copyOf(r,o){return r.slice(0,o)}static copyOfUint8Array(r,o){if(r.length<=o){const a=new Uint8Array(o);return a.set(r),a}return r.slice(0,o)}static copyOfRange(r,o,a){const d=a-o,f=new Int32Array(d);return k.arraycopy(r,o,f,0,d),f}static binarySearch(r,o,a){a===void 0&&(a=z.numberComparator);let d=0,f=r.length-1;for(;d<=f;){const p=f+d>>1,v=a(o,r[p]);if(v>0)d=p+1;else if(v<0)f=p-1;else return p}return-d-1}static numberComparator(r,o){return r-o}}class U{static numberOfTrailingZeros(r){let o;if(r===0)return 32;let a=31;return o=r<<16,o!==0&&(a-=16,r=o),o=r<<8,o!==0&&(a-=8,r=o),o=r<<4,o!==0&&(a-=4,r=o),o=r<<2,o!==0&&(a-=2,r=o),a-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let o=1;return r>>>16||(o+=16,r<<=16),r>>>24||(o+=8,r<<=8),r>>>28||(o+=4,r<<=4),r>>>30||(o+=2,r<<=2),o-=r>>>31,o}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,o){return Math.trunc(r/o)}static parseInt(r,o=void 0){return parseInt(r,o)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(r,o){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,o==null?this.bits=Z.makeArray(r):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const o=Z.makeArray(r);k.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const o=this.size;if(r>=o)return o;const a=this.bits;let d=Math.floor(r/32),f=a[d];f&=~((1<<(r&31))-1);const p=a.length;for(;f===0;){if(++d===p)return o;f=a[d]}const v=d*32+U.numberOfTrailingZeros(f);return v>o?o:v}getNextUnset(r){const o=this.size;if(r>=o)return o;const a=this.bits;let d=Math.floor(r/32),f=~a[d];f&=~((1<<(r&31))-1);const p=a.length;for(;f===0;){if(++d===p)return o;f=~a[d]}const v=d*32+U.numberOfTrailingZeros(f);return v>o?o:v}setBulk(r,o){this.bits[Math.floor(r/32)]=o}setRange(r,o){if(o<r||r<0||o>this.size)throw new E;if(o===r)return;o--;const a=Math.floor(r/32),d=Math.floor(o/32),f=this.bits;for(let p=a;p<=d;p++){const v=p>a?0:r&31,I=(2<<(p<d?31:o&31))-(1<<v);f[p]|=I}}clear(){const r=this.bits.length,o=this.bits;for(let a=0;a<r;a++)o[a]=0}isRange(r,o,a){if(o<r||r<0||o>this.size)throw new E;if(o===r)return!0;o--;const d=Math.floor(r/32),f=Math.floor(o/32),p=this.bits;for(let v=d;v<=f;v++){const A=v>d?0:r&31,j=(2<<(v<f?31:o&31))-(1<<A)&4294967295;if((p[v]&j)!==(a?j:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,o){if(o<0||o>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let a=o;a>0;a--)this.appendBit((r>>a-1&1)===1)}appendBitArray(r){const o=r.size;this.ensureCapacity(this.size+o);for(let a=0;a<o;a++)this.appendBit(r.get(a))}xor(r){if(this.size!==r.size)throw new E("Sizes don't match");const o=this.bits;for(let a=0,d=o.length;a<d;a++)o[a]^=r.bits[a]}toBytes(r,o,a,d){for(let f=0;f<d;f++){let p=0;for(let v=0;v<8;v++)this.get(r)&&(p|=1<<7-v),r++;o[a+f]=p}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),a=o+1,d=this.bits;for(let f=0;f<a;f++){let p=d[f];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,r[o-f]=p}if(this.size!==a*32){const f=a*32-this.size;let p=r[0]>>>f;for(let v=1;v<a;v++){const A=r[v];p|=A<<32-f,r[v-1]=p,p=A>>>f}r[a-1]=p}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof Z))return!1;const o=r;return this.size===o.size&&z.equals(this.bits,o.bits)}hashCode(){return 31*this.size+z.hashCode(this.bits)}toString(){let r="";for(let o=0,a=this.size;o<a;o++)(o&7)===0&&(r+=" "),r+=this.get(o)?"X":".";return r}clone(){return new Z(this.size,this.bits.slice())}}var re;(function(H){H[H.OTHER=0]="OTHER",H[H.PURE_BARCODE=1]="PURE_BARCODE",H[H.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",H[H.TRY_HARDER=3]="TRY_HARDER",H[H.CHARACTER_SET=4]="CHARACTER_SET",H[H.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",H[H.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",H[H.ASSUME_GS1=7]="ASSUME_GS1",H[H.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",H[H.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",H[H.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(re||(re={}));var le=re;class P extends g{static getFormatInstance(){return new P}}P.kind="FormatException";var L;(function(H){H[H.Cp437=0]="Cp437",H[H.ISO8859_1=1]="ISO8859_1",H[H.ISO8859_2=2]="ISO8859_2",H[H.ISO8859_3=3]="ISO8859_3",H[H.ISO8859_4=4]="ISO8859_4",H[H.ISO8859_5=5]="ISO8859_5",H[H.ISO8859_6=6]="ISO8859_6",H[H.ISO8859_7=7]="ISO8859_7",H[H.ISO8859_8=8]="ISO8859_8",H[H.ISO8859_9=9]="ISO8859_9",H[H.ISO8859_10=10]="ISO8859_10",H[H.ISO8859_11=11]="ISO8859_11",H[H.ISO8859_13=12]="ISO8859_13",H[H.ISO8859_14=13]="ISO8859_14",H[H.ISO8859_15=14]="ISO8859_15",H[H.ISO8859_16=15]="ISO8859_16",H[H.SJIS=16]="SJIS",H[H.Cp1250=17]="Cp1250",H[H.Cp1251=18]="Cp1251",H[H.Cp1252=19]="Cp1252",H[H.Cp1256=20]="Cp1256",H[H.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",H[H.UTF8=22]="UTF8",H[H.ASCII=23]="ASCII",H[H.Big5=24]="Big5",H[H.GB18030=25]="GB18030",H[H.EUC_KR=26]="EUC_KR"})(L||(L={}));class B{constructor(r,o,a,...d){this.valueIdentifier=r,this.name=a,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=d,B.VALUE_IDENTIFIER_TO_ECI.set(r,this),B.NAME_TO_ECI.set(a,this);const f=this.values;for(let p=0,v=f.length;p!==v;p++){const A=f[p];B.VALUES_TO_ECI.set(A,this)}for(const p of d)B.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new P("incorect value");const o=B.VALUES_TO_ECI.get(r);if(o===void 0)throw new P("incorect value");return o}static getCharacterSetECIByName(r){const o=B.NAME_TO_ECI.get(r);if(o===void 0)throw new P("incorect value");return o}equals(r){if(!(r instanceof B))return!1;const o=r;return this.getName()===o.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(L.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(L.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(L.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(L.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(L.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(L.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(L.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(L.Big5,28,"Big5"),B.GB18030=new B(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(L.EUC_KR,30,"EUC_KR","EUC-KR");class K extends g{}K.kind="UnsupportedOperationException";class q{static decode(r,o){const a=this.encodingName(o);return this.customDecoder?this.customDecoder(r,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(r,a):new TextDecoder(a).decode(r)}static shouldDecodeOnFallback(r){return!q.isBrowser()&&r==="ISO-8859-1"}static encode(r,o){const a=this.encodingName(o);return this.customEncoder?this.customEncoder(r,a):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof B?r:B.getCharacterSetECIByName(r)}static decodeFallback(r,o){const a=this.encodingCharacterSet(o);if(q.isDecodeFallbackSupported(a)){let d="";for(let f=0,p=r.length;f<p;f++){let v=r[f].toString(16);v.length<2&&(v="0"+v),d+="%"+v}return decodeURIComponent(d)}if(a.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new K(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(B.UTF8)||r.equals(B.ISO8859_1)||r.equals(B.ASCII)}static encodeFallback(r){const a=btoa(unescape(encodeURIComponent(r))).split(""),d=[];for(let f=0;f<a.length;f++)d.push(a[f].charCodeAt(0));return new Uint8Array(d)}}class ee{static castAsNonUtf8Char(r,o=null){const a=o?o.getName():this.ISO88591;return q.decode(new Uint8Array([r]),a)}static guessEncoding(r,o){if(o!=null&&o.get(le.CHARACTER_SET)!==void 0)return o.get(le.CHARACTER_SET).toString();const a=r.length;let d=!0,f=!0,p=!0,v=0,A=0,I=0,j=0,W=0,Y=0,ie=0,fe=0,pe=0,ye=0,Me=0;const Ke=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let qe=0;qe<a&&(d||f||p);qe++){const ze=r[qe]&255;p&&(v>0?(ze&128)===0?p=!1:v--:(ze&128)!==0&&((ze&64)===0?p=!1:(v++,(ze&32)===0?A++:(v++,(ze&16)===0?I++:(v++,(ze&8)===0?j++:p=!1))))),d&&(ze>127&&ze<160?d=!1:ze>159&&(ze<192||ze===215||ze===247)&&Me++),f&&(W>0?ze<64||ze===127||ze>252?f=!1:W--:ze===128||ze===160||ze>239?f=!1:ze>160&&ze<224?(Y++,fe=0,ie++,ie>pe&&(pe=ie)):ze>127?(W++,ie=0,fe++,fe>ye&&(ye=fe)):(ie=0,fe=0))}return p&&v>0&&(p=!1),f&&W>0&&(f=!1),p&&(Ke||A+I+j>0)?ee.UTF8:f&&(ee.ASSUME_SHIFT_JIS||pe>=3||ye>=3)?ee.SHIFT_JIS:d&&f?pe===2&&Y===2||Me*10>=a?ee.SHIFT_JIS:ee.ISO88591:d?ee.ISO88591:f?ee.SHIFT_JIS:p?ee.UTF8:ee.PLATFORM_DEFAULT_ENCODING}static format(r,...o){let a=-1;function d(p,v,A,I,j,W){if(p==="%%")return"%";if(o[++a]===void 0)return;p=I?parseInt(I.substr(1)):void 0;let Y=j?parseInt(j.substr(1)):void 0,ie;switch(W){case"s":ie=o[a];break;case"c":ie=o[a][0];break;case"f":ie=parseFloat(o[a]).toFixed(p);break;case"p":ie=parseFloat(o[a]).toPrecision(p);break;case"e":ie=parseFloat(o[a]).toExponential(p);break;case"x":ie=parseInt(o[a]).toString(Y||16);break;case"d":ie=parseFloat(parseInt(o[a],Y||10).toPrecision(p)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(Y);let fe=parseInt(A),pe=A&&A[0]+""=="0"?"0":" ";for(;ie.length<fe;)ie=v!==void 0?ie+pe:pe+ie;return ie}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(f,d)}static getBytes(r,o){return q.encode(r,o)}static getCharCode(r,o=0){return r.charCodeAt(o)}static getCharAt(r){return String.fromCharCode(r)}}ee.SHIFT_JIS=B.SJIS.getName(),ee.GB2312="GB2312",ee.ISO88591=B.ISO8859_1.getName(),ee.EUC_JP="EUC_JP",ee.UTF8=B.UTF8.getName(),ee.PLATFORM_DEFAULT_ENCODING=ee.UTF8,ee.ASSUME_SHIFT_JIS=!1;class X{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ee.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,o,a){for(let d=o;o<o+a;d++)this.append(r[d]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+1)}substring(r,o){return this.value.substring(r,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+o.length)}}class Pe{constructor(r,o,a,d){if(this.width=r,this.height=o,this.rowSize=a,this.bits=d,o==null&&(o=r),this.height=o,r<1||o<1)throw new E("Both dimensions must be greater than 0");a==null&&(a=Math.floor((r+31)/32)),this.rowSize=a,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const o=r.length,a=r[0].length,d=new Pe(a,o);for(let f=0;f<o;f++){const p=r[f];for(let v=0;v<a;v++)p[v]&&d.set(v,f)}return d}static parseFromString(r,o,a){if(r===null)throw new E("stringRepresentation cannot be null");const d=new Array(r.length);let f=0,p=0,v=-1,A=0,I=0;for(;I<r.length;)if(r.charAt(I)===`
`||r.charAt(I)==="\r"){if(f>p){if(v===-1)v=f-p;else if(f-p!==v)throw new E("row lengths do not match");p=f,A++}I++}else if(r.substring(I,I+o.length)===o)I+=o.length,d[f]=!0,f++;else if(r.substring(I,I+a.length)===a)I+=a.length,d[f]=!1,f++;else throw new E("illegal character encountered: "+r.substring(I));if(f>p){if(v===-1)v=f-p;else if(f-p!==v)throw new E("row lengths do not match");A++}const j=new Pe(v,A);for(let W=0;W<f;W++)d[W]&&j.set(Math.floor(W%v),Math.floor(W/v));return j}get(r,o){const a=o*this.rowSize+Math.floor(r/32);return(this.bits[a]>>>(r&31)&1)!==0}set(r,o){const a=o*this.rowSize+Math.floor(r/32);this.bits[a]|=1<<(r&31)&4294967295}unset(r,o){const a=o*this.rowSize+Math.floor(r/32);this.bits[a]&=~(1<<(r&31)&4294967295)}flip(r,o){const a=o*this.rowSize+Math.floor(r/32);this.bits[a]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new E("input matrix dimensions do not match");const o=new Z(Math.floor(this.width/32)+1),a=this.rowSize,d=this.bits;for(let f=0,p=this.height;f<p;f++){const v=f*a,A=r.getRow(f,o).getBitArray();for(let I=0;I<a;I++)d[v+I]^=A[I]}}clear(){const r=this.bits,o=r.length;for(let a=0;a<o;a++)r[a]=0}setRegion(r,o,a,d){if(o<0||r<0)throw new E("Left and top must be nonnegative");if(d<1||a<1)throw new E("Height and width must be at least 1");const f=r+a,p=o+d;if(p>this.height||f>this.width)throw new E("The region must fit inside the matrix");const v=this.rowSize,A=this.bits;for(let I=o;I<p;I++){const j=I*v;for(let W=r;W<f;W++)A[j+Math.floor(W/32)]|=1<<(W&31)&4294967295}}getRow(r,o){o==null||o.getSize()<this.width?o=new Z(this.width):o.clear();const a=this.rowSize,d=this.bits,f=r*a;for(let p=0;p<a;p++)o.setBulk(p*32,d[f+p]);return o}setRow(r,o){k.arraycopy(o.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),o=this.getHeight();let a=new Z(r),d=new Z(r);for(let f=0,p=Math.floor((o+1)/2);f<p;f++)a=this.getRow(f,a),d=this.getRow(o-1-f,d),a.reverse(),d.reverse(),this.setRow(f,d),this.setRow(o-1-f,a)}getEnclosingRectangle(){const r=this.width,o=this.height,a=this.rowSize,d=this.bits;let f=r,p=o,v=-1,A=-1;for(let I=0;I<o;I++)for(let j=0;j<a;j++){const W=d[I*a+j];if(W!==0){if(I<p&&(p=I),I>A&&(A=I),j*32<f){let Y=0;for(;(W<<31-Y&4294967295)===0;)Y++;j*32+Y<f&&(f=j*32+Y)}if(j*32+31>v){let Y=31;for(;!(W>>>Y);)Y--;j*32+Y>v&&(v=j*32+Y)}}}return v<f||A<p?null:Int32Array.from([f,p,v-f+1,A-p+1])}getTopLeftOnBit(){const r=this.rowSize,o=this.bits;let a=0;for(;a<o.length&&o[a]===0;)a++;if(a===o.length)return null;const d=a/r;let f=a%r*32;const p=o[a];let v=0;for(;(p<<31-v&4294967295)===0;)v++;return f+=v,Int32Array.from([f,d])}getBottomRightOnBit(){const r=this.rowSize,o=this.bits;let a=o.length-1;for(;a>=0&&o[a]===0;)a--;if(a<0)return null;const d=Math.floor(a/r);let f=Math.floor(a%r)*32;const p=o[a];let v=31;for(;!(p>>>v);)v--;return f+=v,Int32Array.from([f,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof Pe))return!1;const o=r;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&z.equals(this.bits,o.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+z.hashCode(this.bits),r}toString(r="X ",o="  ",a=`
`){return this.buildToString(r,o,a)}buildToString(r,o,a){let d=new X;for(let f=0,p=this.height;f<p;f++){for(let v=0,A=this.width;v<A;v++)d.append(this.get(v,f)?r:o);d.append(a)}return d.toString()}clone(){return new Pe(this.width,this.height,this.rowSize,this.bits.slice())}}class ne extends g{static getNotFoundInstance(){return new ne}}ne.kind="NotFoundException";class we extends O{constructor(r){super(r),this.luminances=we.EMPTY,this.buckets=new Int32Array(we.LUMINANCE_BUCKETS)}getBlackRow(r,o){const a=this.getLuminanceSource(),d=a.getWidth();o==null||o.getSize()<d?o=new Z(d):o.clear(),this.initArrays(d);const f=a.getRow(r,this.luminances),p=this.buckets;for(let A=0;A<d;A++)p[(f[A]&255)>>we.LUMINANCE_SHIFT]++;const v=we.estimateBlackPoint(p);if(d<3)for(let A=0;A<d;A++)(f[A]&255)<v&&o.set(A);else{let A=f[0]&255,I=f[1]&255;for(let j=1;j<d-1;j++){const W=f[j+1]&255;(I*4-A-W)/2<v&&o.set(j),A=I,I=W}}return o}getBlackMatrix(){const r=this.getLuminanceSource(),o=r.getWidth(),a=r.getHeight(),d=new Pe(o,a);this.initArrays(o);const f=this.buckets;for(let A=1;A<5;A++){const I=Math.floor(a*A/5),j=r.getRow(I,this.luminances),W=Math.floor(o*4/5);for(let Y=Math.floor(o/5);Y<W;Y++){const ie=j[Y]&255;f[ie>>we.LUMINANCE_SHIFT]++}}const p=we.estimateBlackPoint(f),v=r.getMatrix();for(let A=0;A<a;A++){const I=A*o;for(let j=0;j<o;j++)(v[I+j]&255)<p&&d.set(j,A)}return d}createBinarizer(r){return new we(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const o=this.buckets;for(let a=0;a<we.LUMINANCE_BUCKETS;a++)o[a]=0}static estimateBlackPoint(r){const o=r.length;let a=0,d=0,f=0;for(let j=0;j<o;j++)r[j]>f&&(d=j,f=r[j]),r[j]>a&&(a=r[j]);let p=0,v=0;for(let j=0;j<o;j++){const W=j-d,Y=r[j]*W*W;Y>v&&(p=j,v=Y)}if(d>p){const j=d;d=p,p=j}if(p-d<=o/16)throw new ne;let A=p-1,I=-1;for(let j=p-1;j>d;j--){const W=j-d,Y=W*W*(p-j)*(a-r[j]);Y>I&&(A=j,I=Y)}return A<<we.LUMINANCE_SHIFT}}we.LUMINANCE_BITS=5,we.LUMINANCE_SHIFT=8-we.LUMINANCE_BITS,we.LUMINANCE_BUCKETS=1<<we.LUMINANCE_BITS,we.EMPTY=Uint8ClampedArray.from([0]);class xe extends we{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),o=r.getWidth(),a=r.getHeight();if(o>=xe.MINIMUM_DIMENSION&&a>=xe.MINIMUM_DIMENSION){const d=r.getMatrix();let f=o>>xe.BLOCK_SIZE_POWER;(o&xe.BLOCK_SIZE_MASK)!==0&&f++;let p=a>>xe.BLOCK_SIZE_POWER;(a&xe.BLOCK_SIZE_MASK)!==0&&p++;const v=xe.calculateBlackPoints(d,f,p,o,a),A=new Pe(o,a);xe.calculateThresholdForBlock(d,f,p,o,a,v,A),this.matrix=A}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new xe(r)}static calculateThresholdForBlock(r,o,a,d,f,p,v){const A=f-xe.BLOCK_SIZE,I=d-xe.BLOCK_SIZE;for(let j=0;j<a;j++){let W=j<<xe.BLOCK_SIZE_POWER;W>A&&(W=A);const Y=xe.cap(j,2,a-3);for(let ie=0;ie<o;ie++){let fe=ie<<xe.BLOCK_SIZE_POWER;fe>I&&(fe=I);const pe=xe.cap(ie,2,o-3);let ye=0;for(let Ke=-2;Ke<=2;Ke++){const qe=p[Y+Ke];ye+=qe[pe-2]+qe[pe-1]+qe[pe]+qe[pe+1]+qe[pe+2]}const Me=ye/25;xe.thresholdBlock(r,fe,W,Me,d,v)}}}static cap(r,o,a){return r<o?o:r>a?a:r}static thresholdBlock(r,o,a,d,f,p){for(let v=0,A=a*f+o;v<xe.BLOCK_SIZE;v++,A+=f)for(let I=0;I<xe.BLOCK_SIZE;I++)(r[A+I]&255)<=d&&p.set(o+I,a+v)}static calculateBlackPoints(r,o,a,d,f){const p=f-xe.BLOCK_SIZE,v=d-xe.BLOCK_SIZE,A=new Array(a);for(let I=0;I<a;I++){A[I]=new Int32Array(o);let j=I<<xe.BLOCK_SIZE_POWER;j>p&&(j=p);for(let W=0;W<o;W++){let Y=W<<xe.BLOCK_SIZE_POWER;Y>v&&(Y=v);let ie=0,fe=255,pe=0;for(let Me=0,Ke=j*d+Y;Me<xe.BLOCK_SIZE;Me++,Ke+=d){for(let qe=0;qe<xe.BLOCK_SIZE;qe++){const ze=r[Ke+qe]&255;ie+=ze,ze<fe&&(fe=ze),ze>pe&&(pe=ze)}if(pe-fe>xe.MIN_DYNAMIC_RANGE)for(Me++,Ke+=d;Me<xe.BLOCK_SIZE;Me++,Ke+=d)for(let qe=0;qe<xe.BLOCK_SIZE;qe++)ie+=r[Ke+qe]&255}let ye=ie>>xe.BLOCK_SIZE_POWER*2;if(pe-fe<=xe.MIN_DYNAMIC_RANGE&&(ye=fe/2,I>0&&W>0)){const Me=(A[I-1][W]+2*A[I][W-1]+A[I-1][W-1])/4;fe<Me&&(ye=Me)}A[I][W]=ye}}return A}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class oe{constructor(r,o){this.width=r,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,o,a,d){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let o=new X;for(let a=0;a<this.height;a++){const d=this.getRow(a,r);for(let f=0;f<this.width;f++){const p=d[f]&255;let v;p<64?v="#":p<128?v="+":p<192?v=".":v=" ",o.append(v)}o.append(`
`)}return o.toString()}}class ce extends oe{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,o){const a=this.delegate.getRow(r,o),d=this.getWidth();for(let f=0;f<d;f++)a[f]=255-(a[f]&255);return a}getMatrix(){const r=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(o);for(let d=0;d<o;d++)a[d]=255-(r[d]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(r,o,a,d){return new ce(this.delegate.crop(r,o,a,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ce(this.delegate.rotateCounterClockwise45())}}class ue extends oe{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ue.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const o=r.getContext("2d").getImageData(0,0,r.width,r.height);return ue.toGrayscaleBuffer(o.data,r.width,r.height)}static toGrayscaleBuffer(r,o,a){const d=new Uint8ClampedArray(o*a);for(let f=0,p=0,v=r.length;f<v;f+=4,p++){let A;if(r[f+3]===0)A=255;else{const j=r[f],W=r[f+1],Y=r[f+2];A=306*j+601*W+117*Y+512>>10}d[p]=A}return d}getRow(r,o){if(r<0||r>=this.getHeight())throw new E("Requested row is outside the image: "+r);const a=this.getWidth(),d=r*a;return o===null?o=this.buffer.slice(d,d+a):(o.length<a&&(o=new Uint8ClampedArray(a)),o.set(this.buffer.slice(d,d+a))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,o,a,d){return super.crop(r,o,a,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const o=this.getTempCanvasElement(),a=o.getContext("2d"),d=r*ue.DEGREE_TO_RADIANS,f=this.canvas.width,p=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(d))*f+Math.abs(Math.sin(d))*p),A=Math.ceil(Math.abs(Math.sin(d))*f+Math.abs(Math.cos(d))*p);return o.width=v,o.height=A,a.translate(v/2,A/2),a.rotate(d),a.drawImage(this.canvas,f/-2,p/-2),this.buffer=ue.makeBufferFromCanvasImageData(o),this}invert(){return new ce(this)}}ue.DEGREE_TO_RADIANS=Math.PI/180;class J{constructor(r,o,a){this.deviceId=r,this.label=o,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||Sd||self||window||void 0)&&(globalThis||Sd||self||window||void 0).__awaiter||function(H,r,o,a){function d(f){return f instanceof o?f:new o(function(p){p(f)})}return new(o||(o=Promise))(function(f,p){function v(j){try{I(a.next(j))}catch(W){p(W)}}function A(j){try{I(a.throw(j))}catch(W){p(W)}}function I(j){j.done?f(j.value):d(j.value).then(v,A)}I((a=a.apply(H,r||[])).next())})};class ve{constructor(r,o=500,a){this.reader=r,this.timeBetweenScansMillis=o,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const a of r){const d=a.kind==="video"?"videoinput":a.kind;if(d!=="videoinput")continue;const f=a.deviceId||a.id,p=a.label||`Video device ${o.length+1}`,v=a.groupId,A={deviceId:f,label:p,kind:d,groupId:v};o.push(A)}return o})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new J(o.deviceId,o.label))})}findDeviceById(r){return de(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(a=>a.deviceId===r):null})}decodeFromInputVideoDevice(r,o){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,o)})}decodeOnceFromVideoDevice(r,o){return de(this,void 0,void 0,function*(){this.reset();let a;r?a={deviceId:{exact:r}}:a={facingMode:"environment"};const d={video:a};return yield this.decodeOnceFromConstraints(d,o)})}decodeOnceFromConstraints(r,o){return de(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(a,o)})}decodeOnceFromStream(r,o){return de(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(r,o);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(r,o,a){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,o,a)})}decodeFromVideoDevice(r,o,a){return de(this,void 0,void 0,function*(){let d;r?d={deviceId:{exact:r}}:d={facingMode:"environment"};const f={video:d};return yield this.decodeFromConstraints(f,o,a)})}decodeFromConstraints(r,o,a){return de(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(d,o,a)})}decodeFromStream(r,o,a){return de(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(r,o);return yield this.decodeContinuously(d,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,o){return de(this,void 0,void 0,function*(){const a=this.prepareVideoElement(o);return this.addVideoSource(a,r),this.videoElement=a,this.stream=r,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(r){return new Promise((o,a)=>this.playVideoOnLoad(r,()=>o()))}playVideoOnLoad(r,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",o),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,o){const a=document.getElementById(r);if(!a)throw new b(`element with id '${r}' not found`);if(a.nodeName.toLowerCase()!==o.toLowerCase())throw new b(`element with id '${r}' must be an ${o} element`);return a}decodeFromImage(r,o){if(!r&&!o)throw new b("either imageElement with a src set or an url must be provided");return o&&!r?this.decodeFromImageUrl(o):this.decodeFromImageElement(r)}decodeFromVideo(r,o){if(!r&&!o)throw new b("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,o,a){if(r===void 0&&o===void 0)throw new b("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrlContinuously(o,a):this.decodeFromVideoElementContinuously(r,a)}decodeFromImageElement(r){if(!r)throw new b("An image element must be provided.");this.reset();const o=this.prepareImageElement(r);this.imageElement=o;let a;return this.isImageLoaded(o)?a=this.decodeOnce(o,!1,!0):a=this._decodeOnLoadImage(o),a}decodeFromVideoElement(r){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(r,o){const a=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(a,o)}_decodeFromVideoElementSetup(r){if(!r)throw new b("A video element must be provided.");this.reset();const o=this.prepareVideoElement(r);return this.videoElement=o,o}decodeFromImageUrl(r){if(!r)throw new b("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const a=this._decodeOnLoadImage(o);return o.src=r,a}decodeFromVideoUrl(r){if(!r)throw new b("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElement(o);return o.src=r,a}decodeFromVideoUrlContinuously(r,o){if(!r)throw new b("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(a,o);return a.src=r,d}_decodeOnLoadImage(r){return new Promise((o,a)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(o,a),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,o){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,o)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let o;return typeof r>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(o=r),o}prepareVideoElement(r){let o;return!r&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(o=r),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(r,o=!0,a=!0){this._stopAsyncDecode=!1;const d=(f,p)=>{if(this._stopAsyncDecode){p(new ne("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(r);f(v)}catch(v){const A=o&&v instanceof ne,j=(v instanceof R||v instanceof P)&&a;if(A||j)return setTimeout(d,this._timeBetweenDecodingAttempts,f,p);p(v)}};return new Promise((f,p)=>d(f,p))}decodeContinuously(r,o){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(r);o(d,null),setTimeout(a,this.timeBetweenScansMillis)}catch(d){o(null,d);const f=d instanceof R||d instanceof P,p=d instanceof ne;(f||p)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(r){const o=this.createBinaryBitmap(r);return this.decodeBitmap(o)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,o,a){o||(o={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(r,o,a=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const o=this.getCaptureCanvas(r),a=new ue(o),d=new xe(a);return new T(d)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const o=this.createCaptureCanvas(r);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let a,d;return typeof r<"u"&&(r instanceof HTMLVideoElement?(a=r.videoWidth,d=r.videoHeight):r instanceof HTMLImageElement&&(a=r.naturalWidth||r.width,d=r.naturalHeight||r.height)),o.style.width=a+"px",o.style.height=d+"px",o.width=a,o.height=d,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,o){try{r.srcObject=o}catch{r.src=URL.createObjectURL(o)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(r,o,a=o==null?0:8*o.length,d,f,p=k.currentTimeMillis()){this.text=r,this.rawBytes=o,this.numBits=a,this.resultPoints=d,this.format=f,this.timestamp=p,this.text=r,this.rawBytes=o,a==null?this.numBits=o==null?0:8*o.length:this.numBits=a,this.resultPoints=d,this.format=f,this.resultMetadata=null,p==null?this.timestamp=k.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,o)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const o=this.resultPoints;if(o===null)this.resultPoints=r;else if(r!==null&&r.length>0){const a=new Array(o.length+r.length);k.arraycopy(o,0,a,0,o.length),k.arraycopy(r,0,a,o.length,r.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ge;(function(H){H[H.AZTEC=0]="AZTEC",H[H.CODABAR=1]="CODABAR",H[H.CODE_39=2]="CODE_39",H[H.CODE_93=3]="CODE_93",H[H.CODE_128=4]="CODE_128",H[H.DATA_MATRIX=5]="DATA_MATRIX",H[H.EAN_8=6]="EAN_8",H[H.EAN_13=7]="EAN_13",H[H.ITF=8]="ITF",H[H.MAXICODE=9]="MAXICODE",H[H.PDF_417=10]="PDF_417",H[H.QR_CODE=11]="QR_CODE",H[H.RSS_14=12]="RSS_14",H[H.RSS_EXPANDED=13]="RSS_EXPANDED",H[H.UPC_A=14]="UPC_A",H[H.UPC_E=15]="UPC_E",H[H.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var Ie=Ge,Le;(function(H){H[H.OTHER=0]="OTHER",H[H.ORIENTATION=1]="ORIENTATION",H[H.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",H[H.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",H[H.ISSUE_NUMBER=4]="ISSUE_NUMBER",H[H.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",H[H.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",H[H.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",H[H.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",H[H.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",H[H.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Le||(Le={}));var Fe=Le;class Ue{constructor(r,o,a,d,f=-1,p=-1){this.rawBytes=r,this.text=o,this.byteSegments=a,this.ecLevel=d,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=p,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Se{exp(r){return this.expTable[r]}log(r){if(r===0)throw new E;return this.logTable[r]}static addOrSubtract(r,o){return r^o}}class Ve{constructor(r,o){if(o.length===0)throw new E;this.field=r;const a=o.length;if(a>1&&o[0]===0){let d=1;for(;d<a&&o[d]===0;)d++;d===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-d),k.arraycopy(o,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const o=this.coefficients;let a;if(r===1){a=0;for(let p=0,v=o.length;p!==v;p++){const A=o[p];a=Se.addOrSubtract(a,A)}return a}a=o[0];const d=o.length,f=this.field;for(let p=1;p<d;p++)a=Se.addOrSubtract(f.multiply(r,a),o[p]);return a}addOrSubtract(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,a=r.coefficients;if(o.length>a.length){const p=o;o=a,a=p}let d=new Int32Array(a.length);const f=a.length-o.length;k.arraycopy(a,0,d,0,f);for(let p=f;p<a.length;p++)d[p]=Se.addOrSubtract(o[p-f],a[p]);return new Ve(this.field,d)}multiply(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const o=this.coefficients,a=o.length,d=r.coefficients,f=d.length,p=new Int32Array(a+f-1),v=this.field;for(let A=0;A<a;A++){const I=o[A];for(let j=0;j<f;j++)p[A+j]=Se.addOrSubtract(p[A+j],v.multiply(I,d[j]))}return new Ve(v,p)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const o=this.coefficients.length,a=this.field,d=new Int32Array(o),f=this.coefficients;for(let p=0;p<o;p++)d[p]=a.multiply(f[p],r);return new Ve(a,d)}multiplyByMonomial(r,o){if(r<0)throw new E;if(o===0)return this.field.getZero();const a=this.coefficients,d=a.length,f=new Int32Array(d+r),p=this.field;for(let v=0;v<d;v++)f[v]=p.multiply(a[v],o);return new Ve(p,f)}divide(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new E("Divide by 0");const o=this.field;let a=o.getZero(),d=this;const f=r.getCoefficient(r.getDegree()),p=o.inverse(f);for(;d.getDegree()>=r.getDegree()&&!d.isZero();){const v=d.getDegree()-r.getDegree(),A=o.multiply(d.getCoefficient(d.getDegree()),p),I=r.multiplyByMonomial(v,A),j=o.buildMonomial(v,A);a=a.addOrSubtract(j),d=d.addOrSubtract(I)}return[a,d]}toString(){let r="";for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);if(a!==0){if(a<0?(r+=" - ",a=-a):r.length>0&&(r+=" + "),o===0||a!==1){const d=this.field.log(a);d===0?r+="1":d===1?r+="a":(r+="a^",r+=d)}o!==0&&(o===1?r+="x":(r+="x^",r+=o))}}return r}}class Ye extends g{}Ye.kind="ArithmeticException";class tt extends Se{constructor(r,o,a){super(),this.primitive=r,this.size=o,this.generatorBase=a;const d=new Int32Array(o);let f=1;for(let v=0;v<o;v++)d[v]=f,f*=2,f>=o&&(f^=r,f&=o-1);this.expTable=d;const p=new Int32Array(o);for(let v=0;v<o-1;v++)p[d[v]]=v;this.logTable=p,this.zero=new Ve(this,Int32Array.from([0])),this.one=new Ve(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new E;if(o===0)return this.zero;const a=new Int32Array(r+1);return a[0]=o,new Ve(this,a)}inverse(r){if(r===0)throw new Ye;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}tt.AZTEC_DATA_12=new tt(4201,4096,1),tt.AZTEC_DATA_10=new tt(1033,1024,1),tt.AZTEC_DATA_6=new tt(67,64,1),tt.AZTEC_PARAM=new tt(19,16,1),tt.QR_CODE_FIELD_256=new tt(285,256,0),tt.DATA_MATRIX_FIELD_256=new tt(301,256,1),tt.AZTEC_DATA_8=tt.DATA_MATRIX_FIELD_256,tt.MAXICODE_FIELD_64=tt.AZTEC_DATA_6;class Je extends g{}Je.kind="ReedSolomonException";class tn extends g{}tn.kind="IllegalStateException";class nn{constructor(r){this.field=r}decode(r,o){const a=this.field,d=new Ve(a,r),f=new Int32Array(o);let p=!0;for(let ie=0;ie<o;ie++){const fe=d.evaluateAt(a.exp(ie+a.getGeneratorBase()));f[f.length-1-ie]=fe,fe!==0&&(p=!1)}if(p)return;const v=new Ve(a,f),A=this.runEuclideanAlgorithm(a.buildMonomial(o,1),v,o),I=A[0],j=A[1],W=this.findErrorLocations(I),Y=this.findErrorMagnitudes(j,W);for(let ie=0;ie<W.length;ie++){const fe=r.length-1-a.log(W[ie]);if(fe<0)throw new Je("Bad error location");r[fe]=tt.addOrSubtract(r[fe],Y[ie])}}runEuclideanAlgorithm(r,o,a){if(r.getDegree()<o.getDegree()){const ie=r;r=o,o=ie}const d=this.field;let f=r,p=o,v=d.getZero(),A=d.getOne();for(;p.getDegree()>=(a/2|0);){let ie=f,fe=v;if(f=p,v=A,f.isZero())throw new Je("r_{i-1} was zero");p=ie;let pe=d.getZero();const ye=f.getCoefficient(f.getDegree()),Me=d.inverse(ye);for(;p.getDegree()>=f.getDegree()&&!p.isZero();){const Ke=p.getDegree()-f.getDegree(),qe=d.multiply(p.getCoefficient(p.getDegree()),Me);pe=pe.addOrSubtract(d.buildMonomial(Ke,qe)),p=p.addOrSubtract(f.multiplyByMonomial(Ke,qe))}if(A=pe.multiply(v).addOrSubtract(fe),p.getDegree()>=f.getDegree())throw new tn("Division algorithm failed to reduce polynomial?")}const I=A.getCoefficient(0);if(I===0)throw new Je("sigmaTilde(0) was zero");const j=d.inverse(I),W=A.multiplyScalar(j),Y=p.multiplyScalar(j);return[W,Y]}findErrorLocations(r){const o=r.getDegree();if(o===1)return Int32Array.from([r.getCoefficient(1)]);const a=new Int32Array(o);let d=0;const f=this.field;for(let p=1;p<f.getSize()&&d<o;p++)r.evaluateAt(p)===0&&(a[d]=f.inverse(p),d++);if(d!==o)throw new Je("Error locator degree does not match number of roots");return a}findErrorMagnitudes(r,o){const a=o.length,d=new Int32Array(a),f=this.field;for(let p=0;p<a;p++){const v=f.inverse(o[p]);let A=1;for(let I=0;I<a;I++)if(p!==I){const j=f.multiply(o[I],v),W=(j&1)===0?j|1:j&-2;A=f.multiply(A,W)}d[p]=f.multiply(r.evaluateAt(v),f.inverse(A)),f.getGeneratorBase()!==0&&(d[p]=f.multiply(d[p],v))}return d}}var Gt;(function(H){H[H.UPPER=0]="UPPER",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.DIGIT=3]="DIGIT",H[H.PUNCT=4]="PUNCT",H[H.BINARY=5]="BINARY"})(Gt||(Gt={}));class Zt{decode(r){this.ddata=r;let o=r.getBits(),a=this.extractBits(o),d=this.correctBits(a),f=Zt.convertBoolArrayToByteArray(d),p=Zt.getEncodedData(d),v=new Ue(f,p,null,null);return v.setNumBits(d.length),v}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let o=r.length,a=Gt.UPPER,d=Gt.UPPER,f="",p=0;for(;p<o;)if(d===Gt.BINARY){if(o-p<5)break;let v=Zt.readCode(r,p,5);if(p+=5,v===0){if(o-p<11)break;v=Zt.readCode(r,p,11)+31,p+=11}for(let A=0;A<v;A++){if(o-p<8){p=o;break}const I=Zt.readCode(r,p,8);f+=ee.castAsNonUtf8Char(I),p+=8}d=a}else{let v=d===Gt.DIGIT?4:5;if(o-p<v)break;let A=Zt.readCode(r,p,v);p+=v;let I=Zt.getCharacter(d,A);I.startsWith("CTRL_")?(a=d,d=Zt.getTable(I.charAt(5)),I.charAt(6)==="L"&&(a=d)):(f+=I,d=a)}return f}static getTable(r){switch(r){case"L":return Gt.LOWER;case"P":return Gt.PUNCT;case"M":return Gt.MIXED;case"D":return Gt.DIGIT;case"B":return Gt.BINARY;case"U":default:return Gt.UPPER}}static getCharacter(r,o){switch(r){case Gt.UPPER:return Zt.UPPER_TABLE[o];case Gt.LOWER:return Zt.LOWER_TABLE[o];case Gt.MIXED:return Zt.MIXED_TABLE[o];case Gt.PUNCT:return Zt.PUNCT_TABLE[o];case Gt.DIGIT:return Zt.DIGIT_TABLE[o];default:throw new tn("Bad table")}}correctBits(r){let o,a;this.ddata.getNbLayers()<=2?(a=6,o=tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,o=tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,o=tt.AZTEC_DATA_10):(a=12,o=tt.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=r.length/a;if(f<d)throw new P;let p=r.length%a,v=new Int32Array(f);for(let Y=0;Y<f;Y++,p+=a)v[Y]=Zt.readCode(r,p,a);try{new nn(o).decode(v,f-d)}catch(Y){throw new P(Y)}let A=(1<<a)-1,I=0;for(let Y=0;Y<d;Y++){let ie=v[Y];if(ie===0||ie===A)throw new P;(ie===1||ie===A-1)&&I++}let j=new Array(d*a-I),W=0;for(let Y=0;Y<d;Y++){let ie=v[Y];if(ie===1||ie===A-1)j.fill(ie>1,W,W+a-1),W+=a-1;else for(let fe=a-1;fe>=0;--fe)j[W++]=(ie&1<<fe)!==0}return j}extractBits(r){let o=this.ddata.isCompact(),a=this.ddata.getNbLayers(),d=(o?11:14)+a*4,f=new Int32Array(d),p=new Array(this.totalBitsInLayer(a,o));if(o)for(let v=0;v<f.length;v++)f[v]=v;else{let v=d+1+2*U.truncDivision(U.truncDivision(d,2)-1,15),A=d/2,I=U.truncDivision(v,2);for(let j=0;j<A;j++){let W=j+U.truncDivision(j,15);f[A-j-1]=I-W-1,f[A+j]=I+W+1}}for(let v=0,A=0;v<a;v++){let I=(a-v)*4+(o?9:12),j=v*2,W=d-1-j;for(let Y=0;Y<I;Y++){let ie=Y*2;for(let fe=0;fe<2;fe++)p[A+ie+fe]=r.get(f[j+fe],f[j+Y]),p[A+2*I+ie+fe]=r.get(f[j+Y],f[W-fe]),p[A+4*I+ie+fe]=r.get(f[W-fe],f[W-Y]),p[A+6*I+ie+fe]=r.get(f[W-Y],f[j+fe])}A+=I*8}return p}static readCode(r,o,a){let d=0;for(let f=o;f<o+a;f++)d<<=1,r[f]&&(d|=1);return d}static readByte(r,o){let a=r.length-o;return a>=8?Zt.readCode(r,o,8):Zt.readCode(r,o,a)<<8-a}static convertBoolArrayToByteArray(r){let o=new Uint8Array((r.length+7)/8);for(let a=0;a<o.length;a++)o[a]=Zt.readByte(r,8*a);return o}totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}Zt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Zt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Zt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Zt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Zt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,o,a,d){const f=r-a,p=o-d;return Math.sqrt(f*f+p*p)}static sum(r){let o=0;for(let a=0,d=r.length;a!==d;a++){const f=r[a];o+=f}return o}}class on{static floatToIntBits(r){return r}}on.MAX_VALUE=Number.MAX_SAFE_INTEGER;class rt{constructor(r,o){this.x=r,this.y=o}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof rt){const o=r;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*on.floatToIntBits(this.x)+on.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const o=this.distance(r[0],r[1]),a=this.distance(r[1],r[2]),d=this.distance(r[0],r[2]);let f,p,v;if(a>=o&&a>=d?(p=r[0],f=r[1],v=r[2]):d>=a&&d>=o?(p=r[1],f=r[0],v=r[2]):(p=r[2],f=r[0],v=r[1]),this.crossProductZ(f,p,v)<0){const A=f;f=v,v=A}r[0]=f,r[1]=p,r[2]=v}static distance(r,o){return it.distance(r.x,r.y,o.x,o.y)}static crossProductZ(r,o,a){const d=o.x,f=o.y;return(a.x-d)*(r.y-f)-(a.y-f)*(r.x-d)}}class Ln{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class ir extends Ln{constructor(r,o,a,d,f){super(r,o),this.compact=a,this.nbDatablocks=d,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Un{constructor(r,o,a,d){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),o==null&&(o=Un.INIT_SIZE),a==null&&(a=r.getWidth()/2|0),d==null&&(d=r.getHeight()/2|0);const f=o/2|0;if(this.leftInit=a-f,this.rightInit=a+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}detect(){let r=this.leftInit,o=this.rightInit,a=this.upInit,d=this.downInit,f=!1,p=!0,v=!1,A=!1,I=!1,j=!1,W=!1;const Y=this.width,ie=this.height;for(;p;){p=!1;let fe=!0;for(;(fe||!A)&&o<Y;)fe=this.containsBlackPoint(a,d,o,!1),fe?(o++,p=!0,A=!0):A||o++;if(o>=Y){f=!0;break}let pe=!0;for(;(pe||!I)&&d<ie;)pe=this.containsBlackPoint(r,o,d,!0),pe?(d++,p=!0,I=!0):I||d++;if(d>=ie){f=!0;break}let ye=!0;for(;(ye||!j)&&r>=0;)ye=this.containsBlackPoint(a,d,r,!1),ye?(r--,p=!0,j=!0):j||r--;if(r<0){f=!0;break}let Me=!0;for(;(Me||!W)&&a>=0;)Me=this.containsBlackPoint(r,o,a,!0),Me?(a--,p=!0,W=!0):W||a--;if(a<0){f=!0;break}p&&(v=!0)}if(!f&&v){const fe=o-r;let pe=null;for(let qe=1;pe===null&&qe<fe;qe++)pe=this.getBlackPointOnSegment(r,d-qe,r+qe,d);if(pe==null)throw new ne;let ye=null;for(let qe=1;ye===null&&qe<fe;qe++)ye=this.getBlackPointOnSegment(r,a+qe,r+qe,a);if(ye==null)throw new ne;let Me=null;for(let qe=1;Me===null&&qe<fe;qe++)Me=this.getBlackPointOnSegment(o,a+qe,o-qe,a);if(Me==null)throw new ne;let Ke=null;for(let qe=1;Ke===null&&qe<fe;qe++)Ke=this.getBlackPointOnSegment(o,d-qe,o-qe,d);if(Ke==null)throw new ne;return this.centerEdges(Ke,pe,Me,ye)}else throw new ne}getBlackPointOnSegment(r,o,a,d){const f=it.round(it.distance(r,o,a,d)),p=(a-r)/f,v=(d-o)/f,A=this.image;for(let I=0;I<f;I++){const j=it.round(r+I*p),W=it.round(o+I*v);if(A.get(j,W))return new rt(j,W)}return null}centerEdges(r,o,a,d){const f=r.getX(),p=r.getY(),v=o.getX(),A=o.getY(),I=a.getX(),j=a.getY(),W=d.getX(),Y=d.getY(),ie=Un.CORR;return f<this.width/2?[new rt(W-ie,Y+ie),new rt(v+ie,A+ie),new rt(I-ie,j-ie),new rt(f+ie,p-ie)]:[new rt(W+ie,Y+ie),new rt(v+ie,A-ie),new rt(I-ie,j+ie),new rt(f-ie,p-ie)]}containsBlackPoint(r,o,a,d){const f=this.image;if(d){for(let p=r;p<=o;p++)if(f.get(p,a))return!0}else for(let p=r;p<=o;p++)if(f.get(a,p))return!0;return!1}}Un.INIT_SIZE=10,Un.CORR=1;class sr{static checkAndNudgePoints(r,o){const a=r.getWidth(),d=r.getHeight();let f=!0;for(let p=0;p<o.length&&f;p+=2){const v=Math.floor(o[p]),A=Math.floor(o[p+1]);if(v<-1||v>a||A<-1||A>d)throw new ne;f=!1,v===-1?(o[p]=0,f=!0):v===a&&(o[p]=a-1,f=!0),A===-1?(o[p+1]=0,f=!0):A===d&&(o[p+1]=d-1,f=!0)}f=!0;for(let p=o.length-2;p>=0&&f;p-=2){const v=Math.floor(o[p]),A=Math.floor(o[p+1]);if(v<-1||v>a||A<-1||A>d)throw new ne;f=!1,v===-1?(o[p]=0,f=!0):v===a&&(o[p]=a-1,f=!0),A===-1?(o[p+1]=0,f=!0):A===d&&(o[p+1]=d-1,f=!0)}}}class jn{constructor(r,o,a,d,f,p,v,A,I){this.a11=r,this.a21=o,this.a31=a,this.a12=d,this.a22=f,this.a32=p,this.a13=v,this.a23=A,this.a33=I}static quadrilateralToQuadrilateral(r,o,a,d,f,p,v,A,I,j,W,Y,ie,fe,pe,ye){const Me=jn.quadrilateralToSquare(r,o,a,d,f,p,v,A);return jn.squareToQuadrilateral(I,j,W,Y,ie,fe,pe,ye).times(Me)}transformPoints(r){const o=r.length,a=this.a11,d=this.a12,f=this.a13,p=this.a21,v=this.a22,A=this.a23,I=this.a31,j=this.a32,W=this.a33;for(let Y=0;Y<o;Y+=2){const ie=r[Y],fe=r[Y+1],pe=f*ie+A*fe+W;r[Y]=(a*ie+p*fe+I)/pe,r[Y+1]=(d*ie+v*fe+j)/pe}}transformPointsWithValues(r,o){const a=this.a11,d=this.a12,f=this.a13,p=this.a21,v=this.a22,A=this.a23,I=this.a31,j=this.a32,W=this.a33,Y=r.length;for(let ie=0;ie<Y;ie++){const fe=r[ie],pe=o[ie],ye=f*fe+A*pe+W;r[ie]=(a*fe+p*pe+I)/ye,o[ie]=(d*fe+v*pe+j)/ye}}static squareToQuadrilateral(r,o,a,d,f,p,v,A){const I=r-a+f-v,j=o-d+p-A;if(I===0&&j===0)return new jn(a-r,f-a,r,d-o,p-d,o,0,0,1);{const W=a-f,Y=v-f,ie=d-p,fe=A-p,pe=W*fe-Y*ie,ye=(I*fe-Y*j)/pe,Me=(W*j-I*ie)/pe;return new jn(a-r+ye*a,v-r+Me*v,r,d-o+ye*d,A-o+Me*A,o,ye,Me,1)}}static quadrilateralToSquare(r,o,a,d,f,p,v,A){return jn.squareToQuadrilateral(r,o,a,d,f,p,v,A).buildAdjoint()}buildAdjoint(){return new jn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new jn(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class $r extends sr{sampleGrid(r,o,a,d,f,p,v,A,I,j,W,Y,ie,fe,pe,ye,Me,Ke,qe){const ze=jn.quadrilateralToQuadrilateral(d,f,p,v,A,I,j,W,Y,ie,fe,pe,ye,Me,Ke,qe);return this.sampleGridWithTransform(r,o,a,ze)}sampleGridWithTransform(r,o,a,d){if(o<=0||a<=0)throw new ne;const f=new Pe(o,a),p=new Float32Array(2*o);for(let v=0;v<a;v++){const A=p.length,I=v+.5;for(let j=0;j<A;j+=2)p[j]=j/2+.5,p[j+1]=I;d.transformPoints(p),sr.checkAndNudgePoints(r,p);try{for(let j=0;j<A;j+=2)r.get(Math.floor(p[j]),Math.floor(p[j+1]))&&f.set(j/2,v)}catch{throw new ne}}return f}}class mn{static setGridSampler(r){mn.gridSampler=r}static getInstance(){return mn.gridSampler}}mn.gridSampler=new $r;class un{constructor(r,o){this.x=r,this.y=o}toResultPoint(){return new rt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class or{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let o=this.getMatrixCenter(),a=this.getBullsEyeCorners(o);if(r){let p=a[0];a[0]=a[2],a[2]=p}this.extractParameters(a);let d=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),f=this.getMatrixCornerPoints(a);return new ir(d,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new ne;let o=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(r[0],r[1],o),this.sampleLine(r[1],r[2],o),this.sampleLine(r[2],r[3],o),this.sampleLine(r[3],r[0],o)]);this.shift=this.getRotation(a,o);let d=0;for(let p=0;p<4;p++){let v=a[(this.shift+p)%4];this.compact?(d<<=7,d+=v>>1&127):(d<<=10,d+=(v>>2&992)+(v>>1&31))}let f=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(r,o){let a=0;r.forEach((d,f,p)=>{let v=(d>>o-2<<1)+(d&1);a=(a<<3)+v}),a=((a&1)<<11)+(a>>1);for(let d=0;d<4;d++)if(U.bitCount(a^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new ne}getCorrectedParameterData(r,o){let a,d;o?(a=7,d=2):(a=10,d=4);let f=a-d,p=new Int32Array(a);for(let A=a-1;A>=0;--A)p[A]=r&15,r>>=4;try{new nn(tt.AZTEC_PARAM).decode(p,f)}catch{throw new ne}let v=0;for(let A=0;A<d;A++)v=(v<<4)+p[A];return v}getBullsEyeCorners(r){let o=r,a=r,d=r,f=r,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let W=this.getFirstDifferent(o,p,1,-1),Y=this.getFirstDifferent(a,p,1,1),ie=this.getFirstDifferent(d,p,-1,1),fe=this.getFirstDifferent(f,p,-1,-1);if(this.nbCenterLayers>2){let pe=this.distancePoint(fe,W)*this.nbCenterLayers/(this.distancePoint(f,o)*(this.nbCenterLayers+2));if(pe<.75||pe>1.25||!this.isWhiteOrBlackRectangle(W,Y,ie,fe))break}o=W,a=Y,d=ie,f=fe,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;let v=new rt(o.getX()+.5,o.getY()-.5),A=new rt(a.getX()+.5,a.getY()+.5),I=new rt(d.getX()-.5,d.getY()+.5),j=new rt(f.getX()-.5,f.getY()-.5);return this.expandSquare([v,A,I,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,o,a,d;try{let v=new Un(this.image).detect();r=v[0],o=v[1],a=v[2],d=v[3]}catch{let A=this.image.getWidth()/2,I=this.image.getHeight()/2;r=this.getFirstDifferent(new un(A+7,I-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new un(A+7,I+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new un(A-7,I+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new un(A-7,I-7),!1,-1,-1).toResultPoint()}let f=it.round((r.getX()+d.getX()+o.getX()+a.getX())/4),p=it.round((r.getY()+d.getY()+o.getY()+a.getY())/4);try{let v=new Un(this.image,15,f,p).detect();r=v[0],o=v[1],a=v[2],d=v[3]}catch{r=this.getFirstDifferent(new un(f+7,p-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new un(f+7,p+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new un(f-7,p+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new un(f-7,p-7),!1,-1,-1).toResultPoint()}return f=it.round((r.getX()+d.getX()+o.getX()+a.getX())/4),p=it.round((r.getY()+d.getY()+o.getY()+a.getY())/4),new un(f,p)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,o,a,d,f){let p=mn.getInstance(),v=this.getDimension(),A=v/2-this.nbCenterLayers,I=v/2+this.nbCenterLayers;return p.sampleGrid(r,v,v,A,A,I,A,I,I,A,I,o.getX(),o.getY(),a.getX(),a.getY(),d.getX(),d.getY(),f.getX(),f.getY())}sampleLine(r,o,a){let d=0,f=this.distanceResultPoint(r,o),p=f/a,v=r.getX(),A=r.getY(),I=p*(o.getX()-r.getX())/f,j=p*(o.getY()-r.getY())/f;for(let W=0;W<a;W++)this.image.get(it.round(v+W*I),it.round(A+W*j))&&(d|=1<<a-W-1);return d}isWhiteOrBlackRectangle(r,o,a,d){let f=3;r=new un(r.getX()-f,r.getY()+f),o=new un(o.getX()-f,o.getY()-f),a=new un(a.getX()+f,a.getY()-f),d=new un(d.getX()+f,d.getY()+f);let p=this.getColor(d,r);if(p===0)return!1;let v=this.getColor(r,o);return v!==p||(v=this.getColor(o,a),v!==p)?!1:(v=this.getColor(a,d),v===p)}getColor(r,o){let a=this.distancePoint(r,o),d=(o.getX()-r.getX())/a,f=(o.getY()-r.getY())/a,p=0,v=r.getX(),A=r.getY(),I=this.image.get(r.getX(),r.getY()),j=Math.ceil(a);for(let Y=0;Y<j;Y++)v+=d,A+=f,this.image.get(it.round(v),it.round(A))!==I&&p++;let W=p/a;return W>.1&&W<.9?0:W<=.1===I?1:-1}getFirstDifferent(r,o,a,d){let f=r.getX()+a,p=r.getY()+d;for(;this.isValid(f,p)&&this.image.get(f,p)===o;)f+=a,p+=d;for(f-=a,p-=d;this.isValid(f,p)&&this.image.get(f,p)===o;)f+=a;for(f-=a;this.isValid(f,p)&&this.image.get(f,p)===o;)p+=d;return p-=d,new un(f,p)}expandSquare(r,o,a){let d=a/(2*o),f=r[0].getX()-r[2].getX(),p=r[0].getY()-r[2].getY(),v=(r[0].getX()+r[2].getX())/2,A=(r[0].getY()+r[2].getY())/2,I=new rt(v+d*f,A+d*p),j=new rt(v-d*f,A-d*p);f=r[1].getX()-r[3].getX(),p=r[1].getY()-r[3].getY(),v=(r[1].getX()+r[3].getX())/2,A=(r[1].getY()+r[3].getY())/2;let W=new rt(v+d*f,A+d*p),Y=new rt(v-d*f,A-d*p);return[I,W,j,Y]}isValid(r,o){return r>=0&&r<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(r){let o=it.round(r.getX()),a=it.round(r.getY());return this.isValid(o,a)}distancePoint(r,o){return it.distance(r.getX(),r.getY(),o.getX(),o.getY())}distanceResultPoint(r,o){return it.distance(r.getX(),r.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Ir{decode(r,o=null){let a=null,d=new or(r.getBlackMatrix()),f=null,p=null;try{let j=d.detectMirror(!1);f=j.getPoints(),this.reportFoundResultPoints(o,f),p=new Zt().decode(j)}catch(j){a=j}if(p==null)try{let j=d.detectMirror(!0);f=j.getPoints(),this.reportFoundResultPoints(o,f),p=new Zt().decode(j)}catch(j){throw a??j}let v=new Re(p.getText(),p.getRawBytes(),p.getNumBits(),f,Ie.AZTEC,k.currentTimeMillis()),A=p.getByteSegments();A!=null&&v.putMetadata(Fe.BYTE_SEGMENTS,A);let I=p.getECLevel();return I!=null&&v.putMetadata(Fe.ERROR_CORRECTION_LEVEL,I),v}reportFoundResultPoints(r,o){if(r!=null){let a=r.get(le.NEED_RESULT_POINT_CALLBACK);a!=null&&o.forEach((d,f,p)=>{a.foundPossibleResultPoint(d)})}}reset(){}}class hr extends ve{constructor(r=500){super(new Ir,r)}}class dn{decode(r,o){try{return this.doDecode(r,o)}catch{if(o&&o.get(le.TRY_HARDER)===!0&&r.isRotateSupported()){const f=r.rotateCounterClockwise(),p=this.doDecode(f,o),v=p.getResultMetadata();let A=270;v!==null&&v.get(Fe.ORIENTATION)===!0&&(A=A+v.get(Fe.ORIENTATION)%360),p.putMetadata(Fe.ORIENTATION,A);const I=p.getResultPoints();if(I!==null){const j=f.getHeight();for(let W=0;W<I.length;W++)I[W]=new rt(j-I[W].getY()-1,I[W].getX())}return p}else throw new ne}}reset(){}doDecode(r,o){const a=r.getWidth(),d=r.getHeight();let f=new Z(a);const p=o&&o.get(le.TRY_HARDER)===!0,v=Math.max(1,d>>(p?8:5));let A;p?A=d:A=15;const I=Math.trunc(d/2);for(let j=0;j<A;j++){const W=Math.trunc((j+1)/2),Y=(j&1)===0,ie=I+v*(Y?W:-W);if(ie<0||ie>=d)break;try{f=r.getBlackRow(ie,f)}catch{continue}for(let fe=0;fe<2;fe++){if(fe===1&&(f.reverse(),o&&o.get(le.NEED_RESULT_POINT_CALLBACK)===!0)){const pe=new Map;o.forEach((ye,Me)=>pe.set(Me,ye)),pe.delete(le.NEED_RESULT_POINT_CALLBACK),o=pe}try{const pe=this.decodeRow(ie,f,o);if(fe===1){pe.putMetadata(Fe.ORIENTATION,180);const ye=pe.getResultPoints();ye!==null&&(ye[0]=new rt(a-ye[0].getX()-1,ye[0].getY()),ye[1]=new rt(a-ye[1].getX()-1,ye[1].getY()))}return pe}catch{}}}throw new ne}static recordPattern(r,o,a){const d=a.length;for(let I=0;I<d;I++)a[I]=0;const f=r.getSize();if(o>=f)throw new ne;let p=!r.get(o),v=0,A=o;for(;A<f;){if(r.get(A)!==p)a[v]++;else{if(++v===d)break;a[v]=1,p=!p}A++}if(!(v===d||v===d-1&&A===f))throw new ne}static recordPatternInReverse(r,o,a){let d=a.length,f=r.get(o);for(;o>0&&d>=0;)r.get(--o)!==f&&(d--,f=!f);if(d>=0)throw new ne;dn.recordPattern(r,o+1,a)}static patternMatchVariance(r,o,a){const d=r.length;let f=0,p=0;for(let I=0;I<d;I++)f+=r[I],p+=o[I];if(f<p)return Number.POSITIVE_INFINITY;const v=f/p;a*=v;let A=0;for(let I=0;I<d;I++){const j=r[I],W=o[I]*v,Y=j>W?j-W:W-j;if(Y>a)return Number.POSITIVE_INFINITY;A+=Y}return A/f}}class Xe extends dn{static findStartPattern(r){const o=r.getSize(),a=r.getNextSet(0);let d=0,f=Int32Array.from([0,0,0,0,0,0]),p=a,v=!1;const A=6;for(let I=a;I<o;I++)if(r.get(I)!==v)f[d]++;else{if(d===A-1){let j=Xe.MAX_AVG_VARIANCE,W=-1;for(let Y=Xe.CODE_START_A;Y<=Xe.CODE_START_C;Y++){const ie=dn.patternMatchVariance(f,Xe.CODE_PATTERNS[Y],Xe.MAX_INDIVIDUAL_VARIANCE);ie<j&&(j=ie,W=Y)}if(W>=0&&r.isRange(Math.max(0,p-(I-p)/2),p,!1))return Int32Array.from([p,I,W]);p+=f[0]+f[1],f=f.slice(2,f.length-1),f[d-1]=0,f[d]=0,d--}else d++;f[d]=1,v=!v}throw new ne}static decodeCode(r,o,a){dn.recordPattern(r,a,o);let d=Xe.MAX_AVG_VARIANCE,f=-1;for(let p=0;p<Xe.CODE_PATTERNS.length;p++){const v=Xe.CODE_PATTERNS[p],A=this.patternMatchVariance(o,v,Xe.MAX_INDIVIDUAL_VARIANCE);A<d&&(d=A,f=p)}if(f>=0)return f;throw new ne}decodeRow(r,o,a){const d=a&&a.get(le.ASSUME_GS1)===!0,f=Xe.findStartPattern(o),p=f[2];let v=0;const A=new Uint8Array(20);A[v++]=p;let I;switch(p){case Xe.CODE_START_A:I=Xe.CODE_CODE_A;break;case Xe.CODE_START_B:I=Xe.CODE_CODE_B;break;case Xe.CODE_START_C:I=Xe.CODE_CODE_C;break;default:throw new P}let j=!1,W=!1,Y="",ie=f[0],fe=f[1];const pe=Int32Array.from([0,0,0,0,0,0]);let ye=0,Me=0,Ke=p,qe=0,ze=!0,Qt=!1,zt=!1;for(;!j;){const ys=W;switch(W=!1,ye=Me,Me=Xe.decodeCode(o,pe,fe),A[v++]=Me,Me!==Xe.CODE_STOP&&(ze=!0),Me!==Xe.CODE_STOP&&(qe++,Ke+=qe*Me),ie=fe,fe+=pe.reduce((Bo,pc)=>Bo+pc,0),Me){case Xe.CODE_START_A:case Xe.CODE_START_B:case Xe.CODE_START_C:throw new P}switch(I){case Xe.CODE_CODE_A:if(Me<64)zt===Qt?Y+=String.fromCharCode(32+Me):Y+=String.fromCharCode(32+Me+128),zt=!1;else if(Me<96)zt===Qt?Y+=String.fromCharCode(Me-64):Y+=String.fromCharCode(Me+64),zt=!1;else switch(Me!==Xe.CODE_STOP&&(ze=!1),Me){case Xe.CODE_FNC_1:d&&(Y.length===0?Y+="]C1":Y+="");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_A:!Qt&&zt?(Qt=!0,zt=!1):Qt&&zt?(Qt=!1,zt=!1):zt=!0;break;case Xe.CODE_SHIFT:W=!0,I=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_B:I=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_C:I=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:j=!0;break}break;case Xe.CODE_CODE_B:if(Me<96)zt===Qt?Y+=String.fromCharCode(32+Me):Y+=String.fromCharCode(32+Me+128),zt=!1;else switch(Me!==Xe.CODE_STOP&&(ze=!1),Me){case Xe.CODE_FNC_1:d&&(Y.length===0?Y+="]C1":Y+="");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_B:!Qt&&zt?(Qt=!0,zt=!1):Qt&&zt?(Qt=!1,zt=!1):zt=!0;break;case Xe.CODE_SHIFT:W=!0,I=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_A:I=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_C:I=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:j=!0;break}break;case Xe.CODE_CODE_C:if(Me<100)Me<10&&(Y+="0"),Y+=Me;else switch(Me!==Xe.CODE_STOP&&(ze=!1),Me){case Xe.CODE_FNC_1:d&&(Y.length===0?Y+="]C1":Y+="");break;case Xe.CODE_CODE_A:I=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_B:I=Xe.CODE_CODE_B;break;case Xe.CODE_STOP:j=!0;break}break}ys&&(I=I===Xe.CODE_CODE_A?Xe.CODE_CODE_B:Xe.CODE_CODE_A)}const ri=fe-ie;if(fe=o.getNextUnset(fe),!o.isRange(fe,Math.min(o.getSize(),fe+(fe-ie)/2),!1))throw new ne;if(Ke-=qe*ye,Ke%103!==ye)throw new R;const Fi=Y.length;if(Fi===0)throw new ne;Fi>0&&ze&&(I===Xe.CODE_CODE_C?Y=Y.substring(0,Fi-2):Y=Y.substring(0,Fi-1));const Sr=(f[1]+f[0])/2,Rn=ie+ri/2,ar=A.length,Kr=new Uint8Array(ar);for(let ys=0;ys<ar;ys++)Kr[ys]=A[ys];const po=[new rt(Sr,r),new rt(Rn,r)];return new Re(Y,Kr,0,po,Ie.CODE_128,new Date().getTime())}}Xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Xe.MAX_AVG_VARIANCE=.25,Xe.MAX_INDIVIDUAL_VARIANCE=.7,Xe.CODE_SHIFT=98,Xe.CODE_CODE_C=99,Xe.CODE_CODE_B=100,Xe.CODE_CODE_A=101,Xe.CODE_FNC_1=102,Xe.CODE_FNC_2=97,Xe.CODE_FNC_3=96,Xe.CODE_FNC_4_A=101,Xe.CODE_FNC_4_B=100,Xe.CODE_START_A=103,Xe.CODE_START_B=104,Xe.CODE_START_C=105,Xe.CODE_STOP=106;class En extends dn{constructor(r=!1,o=!1){super(),this.usingCheckDigit=r,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,o,a){let d=this.counters;d.fill(0),this.decodeRowResult="";let f=En.findAsteriskPattern(o,d),p=o.getNextSet(f[1]),v=o.getSize(),A,I;do{En.recordPattern(o,p,d);let pe=En.toNarrowWidePattern(d);if(pe<0)throw new ne;A=En.patternToChar(pe),this.decodeRowResult+=A,I=p;for(let ye of d)p+=ye;p=o.getNextSet(p)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let pe of d)j+=pe;let W=p-I-j;if(p!==v&&W*2<j)throw new ne;if(this.usingCheckDigit){let pe=this.decodeRowResult.length-1,ye=0;for(let Me=0;Me<pe;Me++)ye+=En.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Me));if(this.decodeRowResult.charAt(pe)!==En.ALPHABET_STRING.charAt(ye%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,pe)}if(this.decodeRowResult.length===0)throw new ne;let Y;this.extendedMode?Y=En.decodeExtended(this.decodeRowResult):Y=this.decodeRowResult;let ie=(f[1]+f[0])/2,fe=I+j/2;return new Re(Y,null,0,[new rt(ie,r),new rt(fe,r)],Ie.CODE_39,new Date().getTime())}static findAsteriskPattern(r,o){let a=r.getSize(),d=r.getNextSet(0),f=0,p=d,v=!1,A=o.length;for(let I=d;I<a;I++)if(r.get(I)!==v)o[f]++;else{if(f===A-1){if(this.toNarrowWidePattern(o)===En.ASTERISK_ENCODING&&r.isRange(Math.max(0,p-Math.floor((I-p)/2)),p,!1))return[p,I];p+=o[0]+o[1],o.copyWithin(0,2,2+f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,v=!v}throw new ne}static toNarrowWidePattern(r){let o=r.length,a=0,d;do{let f=2147483647;for(let A of r)A<f&&A>a&&(f=A);a=f,d=0;let p=0,v=0;for(let A=0;A<o;A++){let I=r[A];I>a&&(v|=1<<o-1-A,d++,p+=I)}if(d===3){for(let A=0;A<o&&d>0;A++){let I=r[A];if(I>a&&(d--,I*2>=p))return-1}return v}}while(d>3);return-1}static patternToChar(r){for(let o=0;o<En.CHARACTER_ENCODINGS.length;o++)if(En.CHARACTER_ENCODINGS[o]===r)return En.ALPHABET_STRING.charAt(o);if(r===En.ASTERISK_ENCODING)return"*";throw new ne}static decodeExtended(r){let o=r.length,a="";for(let d=0;d<o;d++){let f=r.charAt(d);if(f==="+"||f==="$"||f==="%"||f==="/"){let p=r.charAt(d+1),v="\0";switch(f){case"+":if(p>="A"&&p<="Z")v=String.fromCharCode(p.charCodeAt(0)+32);else throw new P;break;case"$":if(p>="A"&&p<="Z")v=String.fromCharCode(p.charCodeAt(0)-64);else throw new P;break;case"%":if(p>="A"&&p<="E")v=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")v=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")v=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")v=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")v="\0";else if(p==="V")v="@";else if(p==="W")v="`";else if(p==="X"||p==="Y"||p==="Z")v="";else throw new P;break;case"/":if(p>="A"&&p<="O")v=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")v=":";else throw new P;break}a+=v,d++}else a+=f}return a}}En.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",En.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],En.ASTERISK_ENCODING=148;class Wt extends dn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,o,a){let d=this.decodeStart(o),f=this.decodeEnd(o),p=new X;Wt.decodeMiddle(o,d[1],f[0],p);let v=p.toString(),A=null;a!=null&&(A=a.get(le.ALLOWED_LENGTHS)),A==null&&(A=Wt.DEFAULT_ALLOWED_LENGTHS);let I=v.length,j=!1,W=0;for(let fe of A){if(I===fe){j=!0;break}fe>W&&(W=fe)}if(!j&&I>W&&(j=!0),!j)throw new P;const Y=[new rt(d[1],r),new rt(f[0],r)];return new Re(v,null,0,Y,Ie.ITF,new Date().getTime())}static decodeMiddle(r,o,a,d){let f=new Int32Array(10),p=new Int32Array(5),v=new Int32Array(5);for(f.fill(0),p.fill(0),v.fill(0);o<a;){dn.recordPattern(r,o,f);for(let I=0;I<5;I++){let j=2*I;p[I]=f[j],v[I]=f[j+1]}let A=Wt.decodeDigit(p);d.append(A.toString()),A=this.decodeDigit(v),d.append(A.toString()),f.forEach(function(I){o+=I})}}decodeStart(r){let o=Wt.skipWhiteSpace(r),a=Wt.findGuardPattern(r,o,Wt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a}validateQuietZone(r,o){let a=this.narrowLineWidth*10;a=a<o?a:o;for(let d=o-1;a>0&&d>=0&&!r.get(d);d--)a--;if(a!==0)throw new ne}static skipWhiteSpace(r){const o=r.getSize(),a=r.getNextSet(0);if(a===o)throw new ne;return a}decodeEnd(r){r.reverse();try{let o=Wt.skipWhiteSpace(r),a;try{a=Wt.findGuardPattern(r,o,Wt.END_PATTERN_REVERSED[0])}catch(f){f instanceof ne&&(a=Wt.findGuardPattern(r,o,Wt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);let d=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-d,a}finally{r.reverse()}}static findGuardPattern(r,o,a){let d=a.length,f=new Int32Array(d),p=r.getSize(),v=!1,A=0,I=o;f.fill(0);for(let j=o;j<p;j++)if(r.get(j)!==v)f[A]++;else{if(A===d-1){if(dn.patternMatchVariance(f,a,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return[I,j];I+=f[0]+f[1],k.arraycopy(f,2,f,0,A-1),f[A-1]=0,f[A]=0,A--}else A++;f[A]=1,v=!v}throw new ne}static decodeDigit(r){let o=Wt.MAX_AVG_VARIANCE,a=-1,d=Wt.PATTERNS.length;for(let f=0;f<d;f++){let p=Wt.PATTERNS[f],v=dn.patternMatchVariance(r,p,Wt.MAX_INDIVIDUAL_VARIANCE);v<o?(o=v,a=f):v===o&&(a=-1)}if(a>=0)return a%10;throw new ne}}Wt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Wt.MAX_AVG_VARIANCE=.38,Wt.MAX_INDIVIDUAL_VARIANCE=.5,Wt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Wt.START_PATTERN=Int32Array.from([1,1,1,1]),Wt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class fn extends dn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let o=!1,a,d=0,f=Int32Array.from([0,0,0]);for(;!o;){f=Int32Array.from([0,0,0]),a=fn.findGuardPattern(r,d,!1,this.START_END_PATTERN,f);let p=a[0];d=a[1];let v=p-(d-p);v>=0&&(o=r.isRange(v,p,!1))}return a}static checkChecksum(r){return fn.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let a=parseInt(r.charAt(o-1),10);return fn.getStandardUPCEANChecksum(r.substring(0,o-1))===a}static getStandardUPCEANChecksum(r){let o=r.length,a=0;for(let d=o-1;d>=0;d-=2){let f=r.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new P;a+=f}a*=3;for(let d=o-2;d>=0;d-=2){let f=r.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new P;a+=f}return(1e3-a)%10}static decodeEnd(r,o){return fn.findGuardPattern(r,o,!1,fn.START_END_PATTERN,new Int32Array(fn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,o,a,d){return this.findGuardPattern(r,o,a,d,new Int32Array(d.length))}static findGuardPattern(r,o,a,d,f){let p=r.getSize();o=a?r.getNextUnset(o):r.getNextSet(o);let v=0,A=o,I=d.length,j=a;for(let W=o;W<p;W++)if(r.get(W)!==j)f[v]++;else{if(v===I-1){if(dn.patternMatchVariance(f,d,fn.MAX_INDIVIDUAL_VARIANCE)<fn.MAX_AVG_VARIANCE)return Int32Array.from([A,W]);A+=f[0]+f[1];let Y=f.slice(2,f.length-1);for(let ie=0;ie<v-1;ie++)f[ie]=Y[ie];f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,j=!j}throw new ne}static decodeDigit(r,o,a,d){this.recordPattern(r,a,o);let f=this.MAX_AVG_VARIANCE,p=-1,v=d.length;for(let A=0;A<v;A++){let I=d[A],j=dn.patternMatchVariance(o,I,fn.MAX_INDIVIDUAL_VARIANCE);j<f&&(f=j,p=A)}if(p>=0)return p;throw new ne}}fn.MAX_AVG_VARIANCE=.48,fn.MAX_INDIVIDUAL_VARIANCE=.7,fn.START_END_PATTERN=Int32Array.from([1,1,1]),fn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),fn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),fn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Cr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,a){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(o,a,d),p=d.toString(),v=Cr.parseExtensionString(p),A=[new rt((a[0]+a[1])/2,r),new rt(f,r)],I=new Re(p,null,0,A,Ie.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&I.putAllMetadata(v),I}decodeMiddle(r,o,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),p=o[1],v=0;for(let I=0;I<5&&p<f;I++){let j=fn.decodeDigit(r,d,p,fn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+j%10);for(let W of d)p+=W;j>=10&&(v|=1<<4-I),I!==4&&(p=r.getNextSet(p),p=r.getNextUnset(p))}if(a.length!==5)throw new ne;let A=this.determineCheckDigit(v);if(Cr.extensionChecksum(a.toString())!==A)throw new ne;return p}static extensionChecksum(r){let o=r.length,a=0;for(let d=o-2;d>=0;d-=2)a+=r.charAt(d).charCodeAt(0)-48;a*=3;for(let d=o-1;d>=0;d-=2)a+=r.charAt(d).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(r){for(let o=0;o<10;o++)if(r===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ne}static parseExtensionString(r){if(r.length!==5)return null;let o=Cr.parseExtension5String(r);return o==null?null:new Map([[Fe.SUGGESTED_PRICE,o]])}static parseExtension5String(r){let o;switch(r.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let a=parseInt(r.substring(1)),d=(a/100).toString(),f=a%100,p=f<10?"0"+f:f.toString();return o+d+"."+p}}class ct{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,a){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(o,a,d),p=d.toString(),v=ct.parseExtensionString(p),A=[new rt((a[0]+a[1])/2,r),new rt(f,r)],I=new Re(p,null,0,A,Ie.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&I.putAllMetadata(v),I}decodeMiddle(r,o,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),p=o[1],v=0;for(let A=0;A<2&&p<f;A++){let I=fn.decodeDigit(r,d,p,fn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+I%10);for(let j of d)p+=j;I>=10&&(v|=1<<1-A),A!==1&&(p=r.getNextSet(p),p=r.getNextUnset(p))}if(a.length!==2)throw new ne;if(parseInt(a.toString())%4!==v)throw new ne;return p}static parseExtensionString(r){return r.length!==2?null:new Map([[Fe.ISSUE_NUMBER,parseInt(r)]])}}class Bt{static decodeRow(r,o,a){let d=fn.findGuardPattern(o,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Cr().decodeRow(r,o,d)}catch{return new ct().decodeRow(r,o,d)}}}Bt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class lt extends fn{constructor(){super(),this.decodeRowStringBuffer="",lt.L_AND_G_PATTERNS=lt.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let o=lt.L_PATTERNS[r-10],a=new Int32Array(o.length);for(let d=0;d<o.length;d++)a[d]=o[o.length-d-1];lt.L_AND_G_PATTERNS[r]=a}}decodeRow(r,o,a){let d=lt.findStartGuardPattern(o),f=a==null?null:a.get(le.NEED_RESULT_POINT_CALLBACK);if(f!=null){const ze=new rt((d[0]+d[1])/2,r);f.foundPossibleResultPoint(ze)}let p=this.decodeMiddle(o,d,this.decodeRowStringBuffer),v=p.rowOffset,A=p.resultString;if(f!=null){const ze=new rt(v,r);f.foundPossibleResultPoint(ze)}let I=this.decodeEnd(o,v);if(f!=null){const ze=new rt((I[0]+I[1])/2,r);f.foundPossibleResultPoint(ze)}let j=I[1],W=j+(j-I[0]);if(W>=o.getSize()||!o.isRange(j,W,!1))throw new ne;let Y=A.toString();if(Y.length<8)throw new P;if(!lt.checkChecksum(Y))throw new R;let ie=(d[1]+d[0])/2,fe=(I[1]+I[0])/2,pe=this.getBarcodeFormat(),ye=[new rt(ie,r),new rt(fe,r)],Me=new Re(Y,null,0,ye,pe,new Date().getTime()),Ke=0;try{let ze=Bt.decodeRow(r,o,I[1]);Me.putMetadata(Fe.UPC_EAN_EXTENSION,ze.getText()),Me.putAllMetadata(ze.getResultMetadata()),Me.addResultPoints(ze.getResultPoints()),Ke=ze.getText().length}catch{}let qe=a==null?null:a.get(le.ALLOWED_EAN_EXTENSIONS);if(qe!=null){let ze=!1;for(let Qt in qe)if(Ke.toString()===Qt){ze=!0;break}if(!ze)throw new ne}return Me}decodeEnd(r,o){return lt.findGuardPattern(r,o,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return lt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let a=parseInt(r.charAt(o-1),10);return lt.getStandardUPCEANChecksum(r.substring(0,o-1))===a}static getStandardUPCEANChecksum(r){let o=r.length,a=0;for(let d=o-1;d>=0;d-=2){let f=r.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new P;a+=f}a*=3;for(let d=o-2;d>=0;d-=2){let f=r.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new P;a+=f}return(1e3-a)%10}}class ut extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,a){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),p=o[1],v=0;for(let I=0;I<6&&p<f;I++){let j=lt.decodeDigit(r,d,p,lt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+j%10);for(let W of d)p+=W;j>=10&&(v|=1<<5-I)}a=ut.determineFirstDigit(a,v),p=lt.findGuardPattern(r,p,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<6&&p<f;I++){let j=lt.decodeDigit(r,d,p,lt.L_PATTERNS);a+=String.fromCharCode(48+j);for(let W of d)p+=W}return{rowOffset:p,resultString:a}}getBarcodeFormat(){return Ie.EAN_13}static determineFirstDigit(r,o){for(let a=0;a<10;a++)if(o===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new ne}}ut.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class gn extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,a){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),p=o[1];for(let A=0;A<4&&p<f;A++){let I=lt.decodeDigit(r,d,p,lt.L_PATTERNS);a+=String.fromCharCode(48+I);for(let j of d)p+=j}p=lt.findGuardPattern(r,p,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<4&&p<f;A++){let I=lt.decodeDigit(r,d,p,lt.L_PATTERNS);a+=String.fromCharCode(48+I);for(let j of d)p+=j}return{rowOffset:p,resultString:a}}getBarcodeFormat(){return Ie.EAN_8}}class dt extends lt{constructor(){super(...arguments),this.ean13Reader=new ut}getBarcodeFormat(){return Ie.UPC_A}decode(r,o){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,o,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,o,a))}decodeMiddle(r,o,a){return this.ean13Reader.decodeMiddle(r,o,a)}maybeReturnResult(r){let o=r.getText();if(o.charAt(0)==="0"){let a=new Re(o.substring(1),null,null,r.getResultPoints(),Ie.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new ne}reset(){this.ean13Reader.reset()}}class Tt extends lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,o,a){const d=this.decodeMiddleCounters.map(I=>I);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const f=r.getSize();let p=o[1],v=0;for(let I=0;I<6&&p<f;I++){const j=Tt.decodeDigit(r,d,p,Tt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+j%10);for(let W of d)p+=W;j>=10&&(v|=1<<5-I)}let A=Tt.determineNumSysAndCheckDigit(a,v);return{rowOffset:p,resultString:A}}decodeEnd(r,o){return Tt.findGuardPatternWithoutCounters(r,o,!0,Tt.MIDDLE_END_PATTERN)}checkChecksum(r){return lt.checkChecksum(Tt.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,o){for(let a=0;a<=1;a++)for(let d=0;d<10;d++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][d]){let f=String.fromCharCode(48+a),p=String.fromCharCode(48+d);return f+r+p}throw ne.getNotFoundInstance()}getBarcodeFormat(){return Ie.UPC_E}static convertUPCEtoUPCA(r){const o=r.slice(1,7).split("").map(f=>f.charCodeAt(0)),a=new X;a.append(r.charAt(0));let d=o[5];switch(d){case 0:case 1:case 2:a.appendChars(o,0,2),a.append(d),a.append("0000"),a.appendChars(o,2,3);break;case 3:a.appendChars(o,0,3),a.append("00000"),a.appendChars(o,3,2);break;case 4:a.appendChars(o,0,4),a.append("00000"),a.append(o[4]);break;default:a.appendChars(o,0,5),a.append("0000"),a.append(d);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()}}Tt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class an extends dn{constructor(r){super();let o=r==null?null:r.get(le.POSSIBLE_FORMATS),a=[];i(o)?(a.push(new ut),a.push(new dt),a.push(new gn),a.push(new Tt)):(o.indexOf(Ie.EAN_13)>-1&&a.push(new ut),o.indexOf(Ie.UPC_A)>-1&&a.push(new dt),o.indexOf(Ie.EAN_8)>-1&&a.push(new gn),o.indexOf(Ie.UPC_E)>-1&&a.push(new Tt)),this.readers=a}decodeRow(r,o,a){for(let d of this.readers)try{const f=d.decodeRow(r,o,a),p=f.getBarcodeFormat()===Ie.EAN_13&&f.getText().charAt(0)==="0",v=a==null?null:a.get(le.POSSIBLE_FORMATS),A=v==null||v.includes(Ie.UPC_A);if(p&&A){const I=f.getRawBytes(),j=new Re(f.getText().substring(1),I,I?I.length:null,f.getResultPoints(),Ie.UPC_A);return j.putAllMetadata(f.getResultMetadata()),j}return f}catch{}throw new ne}reset(){for(let r of this.readers)r.reset()}}class Dt extends dn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,o){for(let a=0;a<o.length;a++)if(dn.patternMatchVariance(r,o[a],Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return a;throw new ne}static count(r){return it.sum(new Int32Array(r))}static increment(r,o){let a=0,d=o[0];for(let f=1;f<r.length;f++)o[f]>d&&(d=o[f],a=f);r[a]++}static decrement(r,o){let a=0,d=o[0];for(let f=1;f<r.length;f++)o[f]<d&&(d=o[f],a=f);r[a]--}static isFinderPattern(r){let o=r[0]+r[1],a=o+r[2]+r[3],d=o/a;if(d>=Dt.MIN_FINDER_PATTERN_RATIO&&d<=Dt.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let v of r)v>p&&(p=v),v<f&&(f=v);return p<10*f}return!1}}Dt.MAX_AVG_VARIANCE=.2,Dt.MAX_INDIVIDUAL_VARIANCE=.45,Dt.MIN_FINDER_PATTERN_RATIO=9.5/12,Dt.MAX_FINDER_PATTERN_RATIO=12.5/14;class xn{constructor(r,o){this.value=r,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof xn))return!1;const o=r;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class qt{constructor(r,o,a,d,f){this.value=r,this.startEnd=o,this.value=r,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new rt(a,f)),this.resultPoints.push(new rt(d,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof qt))return!1;const o=r;return this.value===o.value}hashCode(){return this.value}}class Xt{constructor(){}static getRSSvalue(r,o,a){let d=0;for(let A of r)d+=A;let f=0,p=0,v=r.length;for(let A=0;A<v-1;A++){let I;for(I=1,p|=1<<A;I<r[A];I++,p&=~(1<<A)){let j=Xt.combins(d-I-1,v-A-2);if(a&&p===0&&d-I-(v-A-1)>=v-A-1&&(j-=Xt.combins(d-I-(v-A),v-A-2)),v-A-1>1){let W=0;for(let Y=d-I-(v-A-2);Y>o;Y--)W+=Xt.combins(d-I-Y-1,v-A-3);j-=W*(v-1-A)}else d-I>o&&j--;f+=j}d-=I}return f}static combins(r,o){let a,d;r-o>o?(d=o,a=r-o):(d=r-o,a=o);let f=1,p=1;for(let v=r;v>a;v--)f*=v,p<=d&&(f/=p,p++);for(;p<=d;)f/=p,p++;return f}}class Er{static buildBitArray(r){let o=r.length*2-1;r[r.length-1].getRightChar()==null&&(o-=1);let a=12*o,d=new Z(a),f=0,v=r[0].getRightChar().getValue();for(let A=11;A>=0;--A)(v&1<<A)!=0&&d.set(f),f++;for(let A=1;A<r.length;++A){let I=r[A],j=I.getLeftChar().getValue();for(let W=11;W>=0;--W)(j&1<<W)!=0&&d.set(f),f++;if(I.getRightChar()!=null){let W=I.getRightChar().getValue();for(let Y=11;Y>=0;--Y)(W&1<<Y)!=0&&d.set(f),f++}}return d}}class se{constructor(r,o){o?this.decodedInformation=null:(this.finished=r,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class me{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Ce extends me{constructor(r,o){super(r),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Ce.FNC1}}Ce.FNC1="$";class je extends me{constructor(r,o,a){super(r),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class He extends me{constructor(r,o,a){if(super(r),o<0||o>10||a<0||a>10)throw new P;this.firstDigit=o,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===He.FNC1}isSecondDigitFNC1(){return this.secondDigit===He.FNC1}isAnyFNC1(){return this.firstDigit===He.FNC1||this.secondDigit===He.FNC1}}He.FNC1=10;class ke{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new ne;let o=r.substring(0,2);for(let f of ke.TWO_DIGIT_DATA_LENGTH)if(f[0]===o)return f[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(2,f[2],r):ke.processFixedAI(2,f[1],r);if(r.length<3)throw new ne;let a=r.substring(0,3);for(let f of ke.THREE_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(3,f[2],r):ke.processFixedAI(3,f[1],r);for(let f of ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,f[2],r):ke.processFixedAI(4,f[1],r);if(r.length<4)throw new ne;let d=r.substring(0,4);for(let f of ke.FOUR_DIGIT_DATA_LENGTH)if(f[0]===d)return f[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,f[2],r):ke.processFixedAI(4,f[1],r);throw new ne}static processFixedAI(r,o,a){if(a.length<r)throw new ne;let d=a.substring(0,r);if(a.length<r+o)throw new ne;let f=a.substring(r,r+o),p=a.substring(r+o),v="("+d+")"+f,A=ke.parseFieldsInGeneralPurpose(p);return A==null?v:v+A}static processVariableAI(r,o,a){let d=a.substring(0,r),f;a.length<r+o?f=a.length:f=r+o;let p=a.substring(r,f),v=a.substring(f),A="("+d+")"+p,I=ke.parseFieldsInGeneralPurpose(v);return I==null?A:A+I}}ke.VARIABLE_LENGTH=[],ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ke.VARIABLE_LENGTH,20],["22",ke.VARIABLE_LENGTH,29],["30",ke.VARIABLE_LENGTH,8],["37",ke.VARIABLE_LENGTH,8],["90",ke.VARIABLE_LENGTH,30],["91",ke.VARIABLE_LENGTH,30],["92",ke.VARIABLE_LENGTH,30],["93",ke.VARIABLE_LENGTH,30],["94",ke.VARIABLE_LENGTH,30],["95",ke.VARIABLE_LENGTH,30],["96",ke.VARIABLE_LENGTH,30],["97",ke.VARIABLE_LENGTH,3],["98",ke.VARIABLE_LENGTH,30],["99",ke.VARIABLE_LENGTH,30]],ke.THREE_DIGIT_DATA_LENGTH=[["240",ke.VARIABLE_LENGTH,30],["241",ke.VARIABLE_LENGTH,30],["242",ke.VARIABLE_LENGTH,6],["250",ke.VARIABLE_LENGTH,30],["251",ke.VARIABLE_LENGTH,30],["253",ke.VARIABLE_LENGTH,17],["254",ke.VARIABLE_LENGTH,20],["400",ke.VARIABLE_LENGTH,30],["401",ke.VARIABLE_LENGTH,30],["402",17],["403",ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ke.VARIABLE_LENGTH,20],["421",ke.VARIABLE_LENGTH,15],["422",3],["423",ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ke.VARIABLE_LENGTH,15],["391",ke.VARIABLE_LENGTH,18],["392",ke.VARIABLE_LENGTH,15],["393",ke.VARIABLE_LENGTH,18],["703",ke.VARIABLE_LENGTH,30]],ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ke.VARIABLE_LENGTH,20],["8003",ke.VARIABLE_LENGTH,30],["8004",ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ke.VARIABLE_LENGTH,30],["8008",ke.VARIABLE_LENGTH,12],["8018",18],["8020",ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ke.VARIABLE_LENGTH,70],["8200",ke.VARIABLE_LENGTH,70]];class gt{constructor(r){this.buffer=new X,this.information=r}decodeAllCodes(r,o){let a=o,d=null;do{let f=this.decodeGeneralPurposeField(a,d),p=ke.parseFieldsInGeneralPurpose(f.getNewString());if(p!=null&&r.append(p),f.isRemaining()?d=""+f.getRemainingValue():d=null,a===f.getNewPosition())break;a=f.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let o=r;o<r+3;++o)if(this.information.get(o))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(r,4);return f===0?new He(this.information.getSize(),He.FNC1,He.FNC1):new He(this.information.getSize(),f-1,He.FNC1)}let o=this.extractNumericValueFromBitArray(r,7),a=(o-8)/11,d=(o-8)%11;return new He(r+7,a,d)}extractNumericValueFromBitArray(r,o){return gt.extractNumericValueFromBitArray(this.information,r,o)}static extractNumericValueFromBitArray(r,o,a){let d=0;for(let f=0;f<a;++f)r.get(o+f)&&(d|=1<<a-f-1);return d}decodeGeneralPurposeField(r,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(r);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new je(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new je(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,o;do{let a=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),r=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),r=o.isFinished()):(o=this.parseNumericBlock(),r=o.isFinished()),!(a!==this.current.getPosition())&&!r)break}while(!r);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let o;return r.isSecondDigitFNC1()?o=new je(this.current.getPosition(),this.buffer.toString()):o=new je(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new se(!0,o)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let o=new je(this.current.getPosition(),this.buffer.toString());return new se(!0,o)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new se(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new je(this.current.getPosition(),this.buffer.toString());return new se(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new se(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new je(this.current.getPosition(),this.buffer.toString());return new se(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new se(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,7);if(a>=64&&a<116)return!0;if(r+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(r,8);return d>=232&&d<253}decodeIsoIec646(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new Ce(r+5,Ce.FNC1);if(o>=5&&o<15)return new Ce(r+5,"0"+(o-5));let a=this.extractNumericValueFromBitArray(r,7);if(a>=64&&a<90)return new Ce(r+7,""+(a+1));if(a>=90&&a<116)return new Ce(r+7,""+(a+7));let d=this.extractNumericValueFromBitArray(r,8),f;switch(d){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new P}return new Ce(r+8,f)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,6);return a>=16&&a<63}decodeAlphanumeric(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new Ce(r+5,Ce.FNC1);if(o>=5&&o<15)return new Ce(r+5,"0"+(o-5));let a=this.extractNumericValueFromBitArray(r,6);if(a>=32&&a<58)return new Ce(r+6,""+(a+33));let d;switch(a){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new tn("Decoding invalid alphanumeric value: "+a)}return new Ce(r+6,d)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<5&&o+r<this.information.getSize();++o)if(o===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+o))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let o=r;o<r+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<4&&o+r<this.information.getSize();++o)if(this.information.get(r+o))return!1;return!0}}class st{constructor(r){this.information=r,this.generalDecoder=new gt(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nt extends st{constructor(r){super(r)}encodeCompressedGtin(r,o){r.append("(01)");let a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,o,a)}encodeCompressedGtinWithoutAI(r,o,a){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*d,10);f/100===0&&r.append("0"),f/10===0&&r.append("0"),r.append(f)}nt.appendCheckDigit(r,a)}static appendCheckDigit(r,o){let a=0;for(let d=0;d<13;d++){let f=r.charAt(d+o).charCodeAt(0)-48;a+=(d&1)===0?3*f:f}a=10-a%10,a===10&&(a=0),r.append(a)}}nt.GTIN_SIZE=40;class ot extends nt{constructor(r){super(r)}parseInformation(){let r=new X;r.append("(01)");let o=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(ot.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,ot.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(r,ot.HEADER_SIZE+44)}}ot.HEADER_SIZE=4;class _t extends st{constructor(r){super(r)}parseInformation(){let r=new X;return this.getGeneralDecoder().decodeAllCodes(r,_t.HEADER_SIZE)}}_t.HEADER_SIZE=5;class pt extends nt{constructor(r){super(r)}encodeCompressedWeight(r,o,a){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o,a);this.addWeightCode(r,d);let f=this.checkWeight(d),p=1e5;for(let v=0;v<5;++v)f/p===0&&r.append("0"),p/=10;r.append(f)}}class It extends pt{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=It.HEADER_SIZE+pt.GTIN_SIZE+It.WEIGHT_SIZE)throw new ne;let r=new X;return this.encodeCompressedGtin(r,It.HEADER_SIZE),this.encodeCompressedWeight(r,It.HEADER_SIZE+pt.GTIN_SIZE,It.WEIGHT_SIZE),r.toString()}}It.HEADER_SIZE=5,It.WEIGHT_SIZE=15;class Kt extends It{constructor(r){super(r)}addWeightCode(r,o){r.append("(3103)")}checkWeight(r){return r}}class Bn extends It{constructor(r){super(r)}addWeightCode(r,o){o<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class wn extends nt{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+nt.GTIN_SIZE)throw new ne;let r=new X;this.encodeCompressedGtin(r,wn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+nt.GTIN_SIZE,wn.LAST_DIGIT_SIZE);r.append("(392"),r.append(o),r.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+nt.GTIN_SIZE+wn.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2;class rn extends nt{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<rn.HEADER_SIZE+nt.GTIN_SIZE)throw new ne;let r=new X;this.encodeCompressedGtin(r,rn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(rn.HEADER_SIZE+nt.GTIN_SIZE,rn.LAST_DIGIT_SIZE);r.append("(393"),r.append(o),r.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(rn.HEADER_SIZE+nt.GTIN_SIZE+rn.LAST_DIGIT_SIZE,rn.FIRST_THREE_DIGITS_SIZE);a/100==0&&r.append("0"),a/10==0&&r.append("0"),r.append(a);let d=this.getGeneralDecoder().decodeGeneralPurposeField(rn.HEADER_SIZE+nt.GTIN_SIZE+rn.LAST_DIGIT_SIZE+rn.FIRST_THREE_DIGITS_SIZE,null);return r.append(d.getNewString()),r.toString()}}rn.HEADER_SIZE=8,rn.LAST_DIGIT_SIZE=2,rn.FIRST_THREE_DIGITS_SIZE=10;class Et extends pt{constructor(r,o,a){super(r),this.dateCode=a,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new ne;let r=new X;return this.encodeCompressedGtin(r,Et.HEADER_SIZE),this.encodeCompressedWeight(r,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(r,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Et.DATE_SIZE);if(a==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let d=a%32;a/=32;let f=a%12+1;a/=12;let p=a;p/10==0&&r.append("0"),r.append(p),f/10==0&&r.append("0"),r.append(f),d/10==0&&r.append("0"),r.append(d)}addWeightCode(r,o){r.append("("),r.append(this.firstAIdigits),r.append(o/1e5),r.append(")")}checkWeight(r){return r%1e5}}Et.HEADER_SIZE=8,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function Xn(H){try{if(H.get(1))return new ot(H);if(!H.get(2))return new _t(H);switch(gt.extractNumericValueFromBitArray(H,1,4)){case 4:return new Kt(H);case 5:return new Bn(H)}switch(gt.extractNumericValueFromBitArray(H,1,5)){case 12:return new wn(H);case 13:return new rn(H)}switch(gt.extractNumericValueFromBitArray(H,1,7)){case 56:return new Et(H,"310","11");case 57:return new Et(H,"320","11");case 58:return new Et(H,"310","13");case 59:return new Et(H,"320","13");case 60:return new Et(H,"310","15");case 61:return new Et(H,"320","15");case 62:return new Et(H,"310","17");case 63:return new Et(H,"320","17")}}catch(r){throw console.log(r),new tn("unknown decoder: "+H)}}class Yt{constructor(r,o,a,d){this.leftchar=r,this.rightchar=o,this.finderpattern=a,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,o){return r instanceof Yt?Yt.equalsOrNull(r.leftchar,o.leftchar)&&Yt.equalsOrNull(r.rightchar,o.rightchar)&&Yt.equalsOrNull(r.finderpattern,o.finderpattern):!1}static equalsOrNull(r,o){return r===null?o===null:Yt.equals(r,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Mi{constructor(r,o,a){this.pairs=r,this.rowNumber=o,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,o){return r instanceof Mi?this.checkEqualitity(r,o)&&r.wasReversed===o.wasReversed:!1}checkEqualitity(r,o){if(!r||!o)return;let a;return r.forEach((d,f)=>{o.forEach(p=>{d.getLeftChar().getValue()===p.getLeftChar().getValue()&&d.getRightChar().getValue()===p.getRightChar().getValue()&&d.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(a=!0)})}),a}}class Be extends Dt{constructor(r){super(...arguments),this.pairs=new Array(Be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,o,a){this.pairs.length=0,this.startFromEven=!1;try{return Be.constructResult(this.decodeRow2pairs(r,o))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,Be.constructResult(this.decodeRow2pairs(r,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,o){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,r))}catch(f){if(f instanceof ne){if(!this.pairs.length)throw new ne;a=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(r,!1),d){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new ne}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return r&&(this.rows=this.rows.reverse()),o}checkRows(r,o){for(let a=o;a<this.rows.length;a++){let d=this.rows[a];this.pairs.length=0;for(let p of r)this.pairs.push(p.getPairs());if(this.pairs.push(d.getPairs()),!Be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(r);f.push(d);try{return this.checkRows(f,a+1)}catch(p){this.verbose&&console.log(p)}}throw new ne}static isValidSequence(r){for(let o of Be.FINDER_PATTERN_SEQUENCES){if(r.length>o.length)continue;let a=!0;for(let d=0;d<r.length;d++)if(r[d].getFinderPattern().getValue()!=o[d]){a=!1;break}if(a)return!0}return!1}storeRow(r,o){let a=0,d=!1,f=!1;for(;a<this.rows.length;){let p=this.rows[a];if(p.getRowNumber()>r){f=p.isEquivalent(this.pairs);break}d=p.isEquivalent(this.pairs),a++}f||d||Be.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Mi(this.pairs,r,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,o){for(let a of o)if(a.getPairs().length!==r.length){for(let d of a.getPairs())for(let f of r)if(Yt.equals(d,f))break}}static isPartialRow(r,o){for(let a of o){let d=!0;for(let f of r){let p=!1;for(let v of a.getPairs())if(f.equals(v)){p=!0;break}if(!p){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(r){let o=Er.buildBitArray(r),d=Xn(o).parseInformation(),f=r[0].getFinderPattern().getResultPoints(),p=r[r.length-1].getFinderPattern().getResultPoints(),v=[f[0],f[1],p[0],p[1]];return new Re(d,null,null,v,Ie.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),o=r.getLeftChar(),a=r.getRightChar();if(a==null)return!1;let d=a.getChecksumPortion(),f=2;for(let v=1;v<this.pairs.size();++v){let A=this.pairs.get(v);d+=A.getLeftChar().getChecksumPortion(),f++;let I=A.getRightChar();I!=null&&(d+=I.getChecksumPortion(),f++)}return d%=211,211*(f-4)+d==o.getValue()}static getNextSecondBar(r,o){let a;return r.get(o)?(a=r.getNextUnset(o),a=r.getNextSet(a)):(a=r.getNextSet(o),a=r.getNextUnset(a)),a}retrieveNextPair(r,o,a){let d=o.length%2==0;this.startFromEven&&(d=!d);let f,p=!0,v=-1;do this.findNextPair(r,o,v),f=this.parseFoundFinderPattern(r,a,d),f==null?v=Be.getNextSecondBar(r,this.startEnd[0]):p=!1;while(p);let A=this.decodeDataCharacter(r,f,d,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ne;let I;try{I=this.decodeDataCharacter(r,f,d,!1)}catch(j){I=null,this.verbose&&console.log(j)}return new Yt(A,I,f,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,o,a){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),p;a>=0?p=a:this.isEmptyPair(o)?p=0:p=o[o.length-1].getFinderPattern().getStartEnd()[1];let v=o.length%2!=0;this.startFromEven&&(v=!v);let A=!1;for(;p<f&&(A=!r.get(p),!!A);)p++;let I=0,j=p;for(let W=p;W<f;W++)if(r.get(W)!=A)d[I]++;else{if(I==3){if(v&&Be.reverseCounters(d),Be.isFinderPattern(d)){this.startEnd[0]=j,this.startEnd[1]=W;return}v&&Be.reverseCounters(d),j+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,I--}else I++;d[I]=1,A=!A}throw new ne}static reverseCounters(r){let o=r.length;for(let a=0;a<o/2;++a){let d=r[a];r[a]=r[o-a-1],r[o-a-1]=d}}parseFoundFinderPattern(r,o,a){let d,f,p;if(a){let I=this.startEnd[0]-1;for(;I>=0&&!r.get(I);)I--;I++,d=this.startEnd[0]-I,f=I,p=this.startEnd[1]}else f=this.startEnd[0],p=r.getNextUnset(this.startEnd[1]+1),d=p-this.startEnd[1];let v=this.getDecodeFinderCounters();k.arraycopy(v,0,v,1,v.length-1),v[0]=d;let A;try{A=this.parseFinderValue(v,Be.FINDER_PATTERNS)}catch{return null}return new qt(A,[f,p],f,p,o)}decodeDataCharacter(r,o,a,d){let f=this.getDataCharacterCounters();for(let Rn=0;Rn<f.length;Rn++)f[Rn]=0;if(d)Be.recordPatternInReverse(r,o.getStartEnd()[0],f);else{Be.recordPattern(r,o.getStartEnd()[1],f);for(let Rn=0,ar=f.length-1;Rn<ar;Rn++,ar--){let Kr=f[Rn];f[Rn]=f[ar],f[ar]=Kr}}let p=17,v=it.sum(new Int32Array(f))/p,A=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(v-A)/A>.3)throw new ne;let I=this.getOddCounts(),j=this.getEvenCounts(),W=this.getOddRoundingErrors(),Y=this.getEvenRoundingErrors();for(let Rn=0;Rn<f.length;Rn++){let ar=1*f[Rn]/v,Kr=ar+.5;if(Kr<1){if(ar<.3)throw new ne;Kr=1}else if(Kr>8){if(ar>8.7)throw new ne;Kr=8}let po=Rn/2;(Rn&1)==0?(I[po]=Kr,W[po]=ar-Kr):(j[po]=Kr,Y[po]=ar-Kr)}this.adjustOddEvenCounts(p);let ie=4*o.getValue()+(a?0:2)+(d?0:1)-1,fe=0,pe=0;for(let Rn=I.length-1;Rn>=0;Rn--){if(Be.isNotA1left(o,a,d)){let ar=Be.WEIGHTS[ie][2*Rn];pe+=I[Rn]*ar}fe+=I[Rn]}let ye=0;for(let Rn=j.length-1;Rn>=0;Rn--)if(Be.isNotA1left(o,a,d)){let ar=Be.WEIGHTS[ie][2*Rn+1];ye+=j[Rn]*ar}let Me=pe+ye;if((fe&1)!=0||fe>13||fe<4)throw new ne;let Ke=(13-fe)/2,qe=Be.SYMBOL_WIDEST[Ke],ze=9-qe,Qt=Xt.getRSSvalue(I,qe,!0),zt=Xt.getRSSvalue(j,ze,!1),ri=Be.EVEN_TOTAL_SUBSET[Ke],Fi=Be.GSUM[Ke],Sr=Qt*ri+zt+Fi;return new xn(Sr,Me)}static isNotA1left(r,o,a){return!(r.getValue()==0&&o&&a)}adjustOddEvenCounts(r){let o=it.sum(new Int32Array(this.getOddCounts())),a=it.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1;o>13?f=!0:o<4&&(d=!0);let p=!1,v=!1;a>13?v=!0:a<4&&(p=!0);let A=o+a-r,I=(o&1)==1,j=(a&1)==0;if(A==1)if(I){if(j)throw new ne;f=!0}else{if(!j)throw new ne;v=!0}else if(A==-1)if(I){if(j)throw new ne;d=!0}else{if(!j)throw new ne;p=!0}else if(A==0){if(I){if(!j)throw new ne;o<a?(d=!0,v=!0):(f=!0,p=!0)}else if(j)throw new ne}else throw new ne;if(d){if(f)throw new ne;Be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(v)throw new ne;Be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Be.SYMBOL_WIDEST=[7,5,4,3,1],Be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Be.GSUM=[0,348,1388,2948,3988],Be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Be.FINDER_PAT_A=0,Be.FINDER_PAT_B=1,Be.FINDER_PAT_C=2,Be.FINDER_PAT_D=3,Be.FINDER_PAT_E=4,Be.FINDER_PAT_F=5,Be.FINDER_PATTERN_SEQUENCES=[[Be.FINDER_PAT_A,Be.FINDER_PAT_A],[Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B],[Be.FINDER_PAT_A,Be.FINDER_PAT_C,Be.FINDER_PAT_B,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_C],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_E,Be.FINDER_PAT_B,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F],[Be.FINDER_PAT_A,Be.FINDER_PAT_A,Be.FINDER_PAT_B,Be.FINDER_PAT_B,Be.FINDER_PAT_C,Be.FINDER_PAT_D,Be.FINDER_PAT_D,Be.FINDER_PAT_E,Be.FINDER_PAT_E,Be.FINDER_PAT_F,Be.FINDER_PAT_F]],Be.MAX_PAIRS=11;class Fr extends xn{constructor(r,o,a){super(r,o),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class yn extends Dt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,o,a){const d=this.decodePair(o,!1,r,a);yn.addOrTally(this.possibleLeftPairs,d),o.reverse();let f=this.decodePair(o,!0,r,a);yn.addOrTally(this.possibleRightPairs,f),o.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&yn.checkChecksum(p,v))return yn.constructResult(p,v)}throw new ne}static addOrTally(r,o){if(o==null)return;let a=!1;for(let d of r)if(d.getValue()===o.getValue()){d.incrementCount(),a=!0;break}a||r.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,o){let a=4537077*r.getValue()+o.getValue(),d=new String(a).toString(),f=new X;for(let I=13-d.length;I>0;I--)f.append("0");f.append(d);let p=0;for(let I=0;I<13;I++){let j=f.charAt(I).charCodeAt(0)-48;p+=(I&1)===0?3*j:j}p=10-p%10,p===10&&(p=0),f.append(p.toString());let v=r.getFinderPattern().getResultPoints(),A=o.getFinderPattern().getResultPoints();return new Re(f.toString(),null,0,[v[0],v[1],A[0],A[1]],Ie.RSS_14,new Date().getTime())}static checkChecksum(r,o){let a=(r.getChecksumPortion()+16*o.getChecksumPortion())%79,d=9*r.getFinderPattern().getValue()+o.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,a===d}decodePair(r,o,a,d){try{let f=this.findFinderPattern(r,o),p=this.parseFoundFinderPattern(r,a,o,f),v=d==null?null:d.get(le.NEED_RESULT_POINT_CALLBACK);if(v!=null){let j=(f[0]+f[1])/2;o&&(j=r.getSize()-1-j),v.foundPossibleResultPoint(new rt(j,a))}let A=this.decodeDataCharacter(r,p,!0),I=this.decodeDataCharacter(r,p,!1);return new Fr(1597*A.getValue()+I.getValue(),A.getChecksumPortion()+4*I.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(r,o,a){let d=this.getDataCharacterCounters();for(let ye=0;ye<d.length;ye++)d[ye]=0;if(a)dn.recordPatternInReverse(r,o.getStartEnd()[0],d);else{dn.recordPattern(r,o.getStartEnd()[1]+1,d);for(let ye=0,Me=d.length-1;ye<Me;ye++,Me--){let Ke=d[ye];d[ye]=d[Me],d[Me]=Ke}}let f=a?16:15,p=it.sum(new Int32Array(d))/f,v=this.getOddCounts(),A=this.getEvenCounts(),I=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let ye=0;ye<d.length;ye++){let Me=d[ye]/p,Ke=Math.floor(Me+.5);Ke<1?Ke=1:Ke>8&&(Ke=8);let qe=Math.floor(ye/2);(ye&1)===0?(v[qe]=Ke,I[qe]=Me-Ke):(A[qe]=Ke,j[qe]=Me-Ke)}this.adjustOddEvenCounts(a,f);let W=0,Y=0;for(let ye=v.length-1;ye>=0;ye--)Y*=9,Y+=v[ye],W+=v[ye];let ie=0,fe=0;for(let ye=A.length-1;ye>=0;ye--)ie*=9,ie+=A[ye],fe+=A[ye];let pe=Y+3*ie;if(a){if((W&1)!==0||W>12||W<4)throw new ne;let ye=(12-W)/2,Me=yn.OUTSIDE_ODD_WIDEST[ye],Ke=9-Me,qe=Xt.getRSSvalue(v,Me,!1),ze=Xt.getRSSvalue(A,Ke,!0),Qt=yn.OUTSIDE_EVEN_TOTAL_SUBSET[ye],zt=yn.OUTSIDE_GSUM[ye];return new xn(qe*Qt+ze+zt,pe)}else{if((fe&1)!==0||fe>10||fe<4)throw new ne;let ye=(10-fe)/2,Me=yn.INSIDE_ODD_WIDEST[ye],Ke=9-Me,qe=Xt.getRSSvalue(v,Me,!0),ze=Xt.getRSSvalue(A,Ke,!1),Qt=yn.INSIDE_ODD_TOTAL_SUBSET[ye],zt=yn.INSIDE_GSUM[ye];return new xn(ze*Qt+qe+zt,pe)}}findFinderPattern(r,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let d=r.getSize(),f=!1,p=0;for(;p<d&&(f=!r.get(p),o!==f);)p++;let v=0,A=p;for(let I=p;I<d;I++)if(r.get(I)!==f)a[v]++;else{if(v===3){if(Dt.isFinderPattern(a))return[A,I];A+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,v--}else v++;a[v]=1,f=!f}throw new ne}parseFoundFinderPattern(r,o,a,d){let f=r.get(d[0]),p=d[0]-1;for(;p>=0&&f!==r.get(p);)p--;p++;const v=d[0]-p,A=this.getDecodeFinderCounters(),I=new Int32Array(A.length);k.arraycopy(A,0,I,1,A.length-1),I[0]=v;const j=this.parseFinderValue(I,yn.FINDER_PATTERNS);let W=p,Y=d[1];return a&&(W=r.getSize()-1-W,Y=r.getSize()-1-Y),new qt(j,[p,d[1]],W,Y,o)}adjustOddEvenCounts(r,o){let a=it.sum(new Int32Array(this.getOddCounts())),d=it.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1,v=!1,A=!1;r?(a>12?p=!0:a<4&&(f=!0),d>12?A=!0:d<4&&(v=!0)):(a>11?p=!0:a<5&&(f=!0),d>10?A=!0:d<4&&(v=!0));let I=a+d-o,j=(a&1)===(r?1:0),W=(d&1)===1;if(I===1)if(j){if(W)throw new ne;p=!0}else{if(!W)throw new ne;A=!0}else if(I===-1)if(j){if(W)throw new ne;f=!0}else{if(!W)throw new ne;v=!0}else if(I===0){if(j){if(!W)throw new ne;a<d?(f=!0,A=!0):(p=!0,v=!0)}else if(W)throw new ne}else throw new ne;if(f){if(p)throw new ne;Dt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&Dt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(A)throw new ne;Dt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&Dt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],yn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],yn.OUTSIDE_GSUM=[0,161,961,2015,2715],yn.INSIDE_GSUM=[0,336,1036,1516],yn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],yn.INSIDE_ODD_WIDEST=[2,4,6,8],yn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Vr extends dn{constructor(r,o){super(),this.readers=[],this.verbose=o===!0;const a=r?r.get(le.POSSIBLE_FORMATS):null,d=r&&r.get(le.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(Ie.EAN_13)||a.includes(Ie.UPC_A)||a.includes(Ie.EAN_8)||a.includes(Ie.UPC_E))&&this.readers.push(new an(r)),a.includes(Ie.CODE_39)&&this.readers.push(new En(d)),a.includes(Ie.CODE_128)&&this.readers.push(new Xe),a.includes(Ie.ITF)&&this.readers.push(new Wt),a.includes(Ie.RSS_14)&&this.readers.push(new yn),a.includes(Ie.RSS_EXPANDED)&&this.readers.push(new Be(this.verbose))):(this.readers.push(new an(r)),this.readers.push(new En),this.readers.push(new an(r)),this.readers.push(new Xe),this.readers.push(new Wt),this.readers.push(new yn),this.readers.push(new Be(this.verbose)))}decodeRow(r,o,a){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(r,o,a)}catch{}throw new ne}reset(){this.readers.forEach(r=>r.reset())}}class ei extends ve{constructor(r=500,o){super(new Vr(o),r,o)}}class $t{constructor(r,o,a){this.ecCodewords=r,this.ecBlocks=[o],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Lt{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class at{constructor(r,o,a,d,f,p){this.versionNumber=r,this.symbolSizeRows=o,this.symbolSizeColumns=a,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=f,this.ecBlocks=p;let v=0;const A=p.getECCodewords(),I=p.getECBlocks();for(let j of I)v+=j.getCount()*(j.getDataCodewords()+A);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,o){if((r&1)!==0||(o&1)!==0)throw new P;for(let a of at.VERSIONS)if(a.symbolSizeRows===r&&a.symbolSizeColumns===o)return a;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new at(1,10,10,8,8,new $t(5,new Lt(1,3))),new at(2,12,12,10,10,new $t(7,new Lt(1,5))),new at(3,14,14,12,12,new $t(10,new Lt(1,8))),new at(4,16,16,14,14,new $t(12,new Lt(1,12))),new at(5,18,18,16,16,new $t(14,new Lt(1,18))),new at(6,20,20,18,18,new $t(18,new Lt(1,22))),new at(7,22,22,20,20,new $t(20,new Lt(1,30))),new at(8,24,24,22,22,new $t(24,new Lt(1,36))),new at(9,26,26,24,24,new $t(28,new Lt(1,44))),new at(10,32,32,14,14,new $t(36,new Lt(1,62))),new at(11,36,36,16,16,new $t(42,new Lt(1,86))),new at(12,40,40,18,18,new $t(48,new Lt(1,114))),new at(13,44,44,20,20,new $t(56,new Lt(1,144))),new at(14,48,48,22,22,new $t(68,new Lt(1,174))),new at(15,52,52,24,24,new $t(42,new Lt(2,102))),new at(16,64,64,14,14,new $t(56,new Lt(2,140))),new at(17,72,72,16,16,new $t(36,new Lt(4,92))),new at(18,80,80,18,18,new $t(48,new Lt(4,114))),new at(19,88,88,20,20,new $t(56,new Lt(4,144))),new at(20,96,96,22,22,new $t(68,new Lt(4,174))),new at(21,104,104,24,24,new $t(56,new Lt(6,136))),new at(22,120,120,18,18,new $t(68,new Lt(6,175))),new at(23,132,132,20,20,new $t(62,new Lt(8,163))),new at(24,144,144,22,22,new $t(62,new Lt(8,156),new Lt(2,155))),new at(25,8,18,6,16,new $t(7,new Lt(1,5))),new at(26,8,32,6,14,new $t(11,new Lt(1,10))),new at(27,12,26,10,24,new $t(14,new Lt(1,16))),new at(28,12,36,10,16,new $t(18,new Lt(1,22))),new at(29,16,36,14,16,new $t(24,new Lt(1,32))),new at(30,16,48,14,22,new $t(28,new Lt(1,49)))]}}at.VERSIONS=at.buildVersions();class vn{constructor(r){const o=r.getHeight();if(o<8||o>144||(o&1)!==0)throw new P;this.version=vn.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new Pe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const o=r.getHeight(),a=r.getWidth();return at.getVersionForDimensions(o,a)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let o=0,a=4,d=0;const f=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let v=!1,A=!1,I=!1,j=!1;do if(a===f&&d===0&&!v)r[o++]=this.readCorner1(f,p)&255,a-=2,d+=2,v=!0;else if(a===f-2&&d===0&&(p&3)!==0&&!A)r[o++]=this.readCorner2(f,p)&255,a-=2,d+=2,A=!0;else if(a===f+4&&d===2&&(p&7)===0&&!I)r[o++]=this.readCorner3(f,p)&255,a-=2,d+=2,I=!0;else if(a===f-2&&d===0&&(p&7)===4&&!j)r[o++]=this.readCorner4(f,p)&255,a-=2,d+=2,j=!0;else{do a<f&&d>=0&&!this.readMappingMatrix.get(d,a)&&(r[o++]=this.readUtah(a,d,f,p)&255),a-=2,d+=2;while(a>=0&&d<p);a+=1,d+=3;do a>=0&&d<p&&!this.readMappingMatrix.get(d,a)&&(r[o++]=this.readUtah(a,d,f,p)&255),a+=2,d-=2;while(a<f&&d>=0);a+=3,d+=1}while(a<f||d<p);if(o!==this.version.getTotalCodewords())throw new P;return r}readModule(r,o,a,d){return r<0&&(r+=a,o+=4-(a+4&7)),o<0&&(o+=d,r+=4-(d+4&7)),this.readMappingMatrix.set(o,r),this.mappingBitMatrix.get(o,r)}readUtah(r,o,a,d){let f=0;return this.readModule(r-2,o-2,a,d)&&(f|=1),f<<=1,this.readModule(r-2,o-1,a,d)&&(f|=1),f<<=1,this.readModule(r-1,o-2,a,d)&&(f|=1),f<<=1,this.readModule(r-1,o-1,a,d)&&(f|=1),f<<=1,this.readModule(r-1,o,a,d)&&(f|=1),f<<=1,this.readModule(r,o-2,a,d)&&(f|=1),f<<=1,this.readModule(r,o-1,a,d)&&(f|=1),f<<=1,this.readModule(r,o,a,d)&&(f|=1),f}readCorner1(r,o){let a=0;return this.readModule(r-1,0,r,o)&&(a|=1),a<<=1,this.readModule(r-1,1,r,o)&&(a|=1),a<<=1,this.readModule(r-1,2,r,o)&&(a|=1),a<<=1,this.readModule(0,o-2,r,o)&&(a|=1),a<<=1,this.readModule(0,o-1,r,o)&&(a|=1),a<<=1,this.readModule(1,o-1,r,o)&&(a|=1),a<<=1,this.readModule(2,o-1,r,o)&&(a|=1),a<<=1,this.readModule(3,o-1,r,o)&&(a|=1),a}readCorner2(r,o){let a=0;return this.readModule(r-3,0,r,o)&&(a|=1),a<<=1,this.readModule(r-2,0,r,o)&&(a|=1),a<<=1,this.readModule(r-1,0,r,o)&&(a|=1),a<<=1,this.readModule(0,o-4,r,o)&&(a|=1),a<<=1,this.readModule(0,o-3,r,o)&&(a|=1),a<<=1,this.readModule(0,o-2,r,o)&&(a|=1),a<<=1,this.readModule(0,o-1,r,o)&&(a|=1),a<<=1,this.readModule(1,o-1,r,o)&&(a|=1),a}readCorner3(r,o){let a=0;return this.readModule(r-1,0,r,o)&&(a|=1),a<<=1,this.readModule(r-1,o-1,r,o)&&(a|=1),a<<=1,this.readModule(0,o-3,r,o)&&(a|=1),a<<=1,this.readModule(0,o-2,r,o)&&(a|=1),a<<=1,this.readModule(0,o-1,r,o)&&(a|=1),a<<=1,this.readModule(1,o-3,r,o)&&(a|=1),a<<=1,this.readModule(1,o-2,r,o)&&(a|=1),a<<=1,this.readModule(1,o-1,r,o)&&(a|=1),a}readCorner4(r,o){let a=0;return this.readModule(r-3,0,r,o)&&(a|=1),a<<=1,this.readModule(r-2,0,r,o)&&(a|=1),a<<=1,this.readModule(r-1,0,r,o)&&(a|=1),a<<=1,this.readModule(0,o-2,r,o)&&(a|=1),a<<=1,this.readModule(0,o-1,r,o)&&(a|=1),a<<=1,this.readModule(1,o-1,r,o)&&(a|=1),a<<=1,this.readModule(2,o-1,r,o)&&(a|=1),a<<=1,this.readModule(3,o-1,r,o)&&(a|=1),a}extractDataRegion(r){const o=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(r.getHeight()!==o)throw new E("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),p=o/d|0,v=a/f|0,A=p*d,I=v*f,j=new Pe(I,A);for(let W=0;W<p;++W){const Y=W*d;for(let ie=0;ie<v;++ie){const fe=ie*f;for(let pe=0;pe<d;++pe){const ye=W*(d+2)+1+pe,Me=Y+pe;for(let Ke=0;Ke<f;++Ke){const qe=ie*(f+2)+1+Ke;if(r.get(qe,ye)){const ze=fe+Ke;j.set(ze,Me)}}}}}return j}}class br{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o){const a=o.getECBlocks();let d=0;const f=a.getECBlocks();for(let pe of f)d+=pe.getCount();const p=new Array(d);let v=0;for(let pe of f)for(let ye=0;ye<pe.getCount();ye++){const Me=pe.getDataCodewords(),Ke=a.getECCodewords()+Me;p[v++]=new br(Me,new Uint8Array(Ke))}const I=p[0].codewords.length-a.getECCodewords(),j=I-1;let W=0;for(let pe=0;pe<j;pe++)for(let ye=0;ye<v;ye++)p[ye].codewords[pe]=r[W++];const Y=o.getVersionNumber()===24,ie=Y?8:v;for(let pe=0;pe<ie;pe++)p[pe].codewords[I-1]=r[W++];const fe=p[0].codewords.length;for(let pe=I;pe<fe;pe++)for(let ye=0;ye<v;ye++){const Me=Y?(ye+8)%v:ye,Ke=Y&&Me>7?pe-1:pe;p[Me].codewords[Ke]=r[W++]}if(W!==r.length)throw new E;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class qn{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new E(""+r);let o=0,a=this.bitOffset,d=this.byteOffset;const f=this.bytes;if(a>0){const p=8-a,v=r<p?r:p,A=p-v,I=255>>8-v<<A;o=(f[d]&I)>>A,r-=v,a+=v,a===8&&(a=0,d++)}if(r>0){for(;r>=8;)o=o<<8|f[d]&255,d++,r-=8;if(r>0){const p=8-r,v=255>>p<<p;o=o<<r|(f[d]&v)>>p,a+=r}}return this.bitOffset=a,this.byteOffset=d,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var jt;(function(H){H[H.PAD_ENCODE=0]="PAD_ENCODE",H[H.ASCII_ENCODE=1]="ASCII_ENCODE",H[H.C40_ENCODE=2]="C40_ENCODE",H[H.TEXT_ENCODE=3]="TEXT_ENCODE",H[H.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",H[H.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",H[H.BASE256_ENCODE=6]="BASE256_ENCODE"})(jt||(jt={}));class Qn{static decode(r){const o=new qn(r),a=new X,d=new X,f=new Array;let p=jt.ASCII_ENCODE;do if(p===jt.ASCII_ENCODE)p=this.decodeAsciiSegment(o,a,d);else{switch(p){case jt.C40_ENCODE:this.decodeC40Segment(o,a);break;case jt.TEXT_ENCODE:this.decodeTextSegment(o,a);break;case jt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,a);break;case jt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,a);break;case jt.BASE256_ENCODE:this.decodeBase256Segment(o,a,f);break;default:throw new P}p=jt.ASCII_ENCODE}while(p!==jt.PAD_ENCODE&&o.available()>0);return d.length()>0&&a.append(d.toString()),new Ue(r,a.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(r,o,a){let d=!1;do{let f=r.readBits(8);if(f===0)throw new P;if(f<=128)return d&&(f+=128),o.append(String.fromCharCode(f-1)),jt.ASCII_ENCODE;if(f===129)return jt.PAD_ENCODE;if(f<=229){const p=f-130;p<10&&o.append("0"),o.append(""+p)}else switch(f){case 230:return jt.C40_ENCODE;case 231:return jt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:o.append("[)>05"),a.insert(0,"");break;case 237:o.append("[)>06"),a.insert(0,"");break;case 238:return jt.ANSIX12_ENCODE;case 239:return jt.TEXT_ENCODE;case 240:return jt.EDIFACT_ENCODE;case 241:break;default:if(f!==254||r.available()!==0)throw new P;break}}while(r.available()>0);return jt.ASCII_ENCODE}static decodeC40Segment(r,o){let a=!1;const d=[];let f=0;do{if(r.available()===8)return;const p=r.readBits(8);if(p===254)return;this.parseTwoBytes(p,r.readBits(8),d);for(let v=0;v<3;v++){const A=d[v];switch(f){case 0:if(A<3)f=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){const I=this.C40_BASIC_SET_CHARS[A];a?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),a=!1):o.append(I)}else throw new P;break;case 1:a?(o.append(String.fromCharCode(A+128)),a=!1):o.append(String.fromCharCode(A)),f=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){const I=this.C40_SHIFT2_SET_CHARS[A];a?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),a=!1):o.append(I)}else switch(A){case 27:o.append("");break;case 30:a=!0;break;default:throw new P}f=0;break;case 3:a?(o.append(String.fromCharCode(A+224)),a=!1):o.append(String.fromCharCode(A+96)),f=0;break;default:throw new P}}}while(r.available()>0)}static decodeTextSegment(r,o){let a=!1,d=[],f=0;do{if(r.available()===8)return;const p=r.readBits(8);if(p===254)return;this.parseTwoBytes(p,r.readBits(8),d);for(let v=0;v<3;v++){const A=d[v];switch(f){case 0:if(A<3)f=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){const I=this.TEXT_BASIC_SET_CHARS[A];a?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),a=!1):o.append(I)}else throw new P;break;case 1:a?(o.append(String.fromCharCode(A+128)),a=!1):o.append(String.fromCharCode(A)),f=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){const I=this.TEXT_SHIFT2_SET_CHARS[A];a?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),a=!1):o.append(I)}else switch(A){case 27:o.append("");break;case 30:a=!0;break;default:throw new P}f=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){const I=this.TEXT_SHIFT3_SET_CHARS[A];a?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),a=!1):o.append(I),f=0}else throw new P;break;default:throw new P}}}while(r.available()>0)}static decodeAnsiX12Segment(r,o){const a=[];do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),a);for(let f=0;f<3;f++){const p=a[f];switch(p){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(p<14)o.append(String.fromCharCode(p+44));else if(p<40)o.append(String.fromCharCode(p+51));else throw new P;break}}}while(r.available()>0)}static parseTwoBytes(r,o,a){let d=(r<<8)+o-1,f=Math.floor(d/1600);a[0]=f,d-=f*1600,f=Math.floor(d/40),a[1]=f,a[2]=d-f*40}static decodeEdifactSegment(r,o){do{if(r.available()<=16)return;for(let a=0;a<4;a++){let d=r.readBits(6);if(d===31){const f=8-r.getBitOffset();f!==8&&r.readBits(f);return}(d&32)===0&&(d|=64),o.append(String.fromCharCode(d))}}while(r.available()>0)}static decodeBase256Segment(r,o,a){let d=1+r.getByteOffset();const f=this.unrandomize255State(r.readBits(8),d++);let p;if(f===0?p=r.available()/8|0:f<250?p=f:p=250*(f-249)+this.unrandomize255State(r.readBits(8),d++),p<0)throw new P;const v=new Uint8Array(p);for(let A=0;A<p;A++){if(r.available()<8)throw new P;v[A]=this.unrandomize255State(r.readBits(8),d++)}a.push(v);try{o.append(q.decode(v,ee.ISO88591))}catch(A){throw new tn("Platform does not support required encoding: "+A.message)}}static unrandomize255State(r,o){const a=149*o%255+1,d=r-a;return d>=0?d:d+256}}Qn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Qn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Qn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Qn.TEXT_SHIFT2_SET_CHARS=Qn.C40_SHIFT2_SET_CHARS,Qn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Oi{constructor(){this.rsDecoder=new nn(tt.DATA_MATRIX_FIELD_256)}decode(r){const o=new vn(r),a=o.getVersion(),d=o.readCodewords(),f=br.getDataBlocks(d,a);let p=0;for(let I of f)p+=I.getNumDataCodewords();const v=new Uint8Array(p),A=f.length;for(let I=0;I<A;I++){const j=f[I],W=j.getCodewords(),Y=j.getNumDataCodewords();this.correctErrors(W,Y);for(let ie=0;ie<Y;ie++)v[ie*A+I]=W[ie]}return Qn.decode(v)}correctErrors(r,o){const a=new Int32Array(r);try{this.rsDecoder.decode(a,r.length-o)}catch{throw new R}for(let d=0;d<o;d++)r[d]=a[d]}}class Nt{constructor(r){this.image=r,this.rectangleDetector=new Un(this.image)}detect(){const r=this.rectangleDetector.detect();let o=this.detectSolid1(r);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ne;o=this.shiftToModuleCenter(o);const a=o[0],d=o[1],f=o[2],p=o[3];let v=this.transitionsBetween(a,p)+1,A=this.transitionsBetween(f,p)+1;(v&1)===1&&(v+=1),(A&1)===1&&(A+=1),4*v<7*A&&4*A<7*v&&(v=A=Math.max(v,A));let I=Nt.sampleGrid(this.image,a,d,f,p,v,A);return new Ln(I,[a,d,f,p])}static shiftPoint(r,o,a){let d=(o.getX()-r.getX())/(a+1),f=(o.getY()-r.getY())/(a+1);return new rt(r.getX()+d,r.getY()+f)}static moveAway(r,o,a){let d=r.getX(),f=r.getY();return d<o?d-=1:d+=1,f<a?f-=1:f+=1,new rt(d,f)}detectSolid1(r){let o=r[0],a=r[1],d=r[3],f=r[2],p=this.transitionsBetween(o,a),v=this.transitionsBetween(a,d),A=this.transitionsBetween(d,f),I=this.transitionsBetween(f,o),j=p,W=[f,o,a,d];return j>v&&(j=v,W[0]=o,W[1]=a,W[2]=d,W[3]=f),j>A&&(j=A,W[0]=a,W[1]=d,W[2]=f,W[3]=o),j>I&&(W[0]=d,W[1]=f,W[2]=o,W[3]=a),W}detectSolid2(r){let o=r[0],a=r[1],d=r[2],f=r[3],p=this.transitionsBetween(o,f),v=Nt.shiftPoint(a,d,(p+1)*4),A=Nt.shiftPoint(d,a,(p+1)*4),I=this.transitionsBetween(v,o),j=this.transitionsBetween(A,f);return I<j?(r[0]=o,r[1]=a,r[2]=d,r[3]=f):(r[0]=a,r[1]=d,r[2]=f,r[3]=o),r}correctTopRight(r){let o=r[0],a=r[1],d=r[2],f=r[3],p=this.transitionsBetween(o,f),v=this.transitionsBetween(a,f),A=Nt.shiftPoint(o,a,(v+1)*4),I=Nt.shiftPoint(d,a,(p+1)*4);p=this.transitionsBetween(A,f),v=this.transitionsBetween(I,f);let j=new rt(f.getX()+(d.getX()-a.getX())/(p+1),f.getY()+(d.getY()-a.getY())/(p+1)),W=new rt(f.getX()+(o.getX()-a.getX())/(v+1),f.getY()+(o.getY()-a.getY())/(v+1));if(!this.isValid(j))return this.isValid(W)?W:null;if(!this.isValid(W))return j;let Y=this.transitionsBetween(A,j)+this.transitionsBetween(I,j),ie=this.transitionsBetween(A,W)+this.transitionsBetween(I,W);return Y>ie?j:W}shiftToModuleCenter(r){let o=r[0],a=r[1],d=r[2],f=r[3],p=this.transitionsBetween(o,f)+1,v=this.transitionsBetween(d,f)+1,A=Nt.shiftPoint(o,a,v*4),I=Nt.shiftPoint(d,a,p*4);p=this.transitionsBetween(A,f)+1,v=this.transitionsBetween(I,f)+1,(p&1)===1&&(p+=1),(v&1)===1&&(v+=1);let j=(o.getX()+a.getX()+d.getX()+f.getX())/4,W=(o.getY()+a.getY()+d.getY()+f.getY())/4;o=Nt.moveAway(o,j,W),a=Nt.moveAway(a,j,W),d=Nt.moveAway(d,j,W),f=Nt.moveAway(f,j,W);let Y,ie;return A=Nt.shiftPoint(o,a,v*4),A=Nt.shiftPoint(A,f,p*4),Y=Nt.shiftPoint(a,o,v*4),Y=Nt.shiftPoint(Y,d,p*4),I=Nt.shiftPoint(d,f,v*4),I=Nt.shiftPoint(I,a,p*4),ie=Nt.shiftPoint(f,d,v*4),ie=Nt.shiftPoint(ie,o,p*4),[A,Y,I,ie]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,o,a,d,f,p,v){return mn.getInstance().sampleGrid(r,p,v,.5,.5,p-.5,.5,p-.5,v-.5,.5,v-.5,o.getX(),o.getY(),f.getX(),f.getY(),d.getX(),d.getY(),a.getX(),a.getY())}transitionsBetween(r,o){let a=Math.trunc(r.getX()),d=Math.trunc(r.getY()),f=Math.trunc(o.getX()),p=Math.trunc(o.getY()),v=Math.abs(p-d)>Math.abs(f-a);if(v){let pe=a;a=d,d=pe,pe=f,f=p,p=pe}let A=Math.abs(f-a),I=Math.abs(p-d),j=-A/2,W=d<p?1:-1,Y=a<f?1:-1,ie=0,fe=this.image.get(v?d:a,v?a:d);for(let pe=a,ye=d;pe!==f;pe+=Y){let Me=this.image.get(v?ye:pe,v?pe:ye);if(Me!==fe&&(ie++,fe=Me),j+=I,j>0){if(ye===p)break;ye+=W,j-=A}}return ie}}class Ur{constructor(){this.decoder=new Oi}decode(r,o=null){let a,d;if(o!=null&&o.has(le.PURE_BARCODE)){const I=Ur.extractPureBits(r.getBlackMatrix());a=this.decoder.decode(I),d=Ur.NO_POINTS}else{const I=new Nt(r.getBlackMatrix()).detect();a=this.decoder.decode(I.getBits()),d=I.getPoints()}const f=a.getRawBytes(),p=new Re(a.getText(),f,8*f.length,d,Ie.DATA_MATRIX,k.currentTimeMillis()),v=a.getByteSegments();v!=null&&p.putMetadata(Fe.BYTE_SEGMENTS,v);const A=a.getECLevel();return A!=null&&p.putMetadata(Fe.ERROR_CORRECTION_LEVEL,A),p}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),a=r.getBottomRightOnBit();if(o==null||a==null)throw new ne;const d=this.moduleSize(o,r);let f=o[1];const p=a[1];let v=o[0];const I=(a[0]-v+1)/d,j=(p-f+1)/d;if(I<=0||j<=0)throw new ne;const W=d/2;f+=W,v+=W;const Y=new Pe(I,j);for(let ie=0;ie<j;ie++){const fe=f+ie*d;for(let pe=0;pe<I;pe++)r.get(v+pe*d,fe)&&Y.set(pe,ie)}return Y}static moduleSize(r,o){const a=o.getWidth();let d=r[0];const f=r[1];for(;d<a&&o.get(d,f);)d++;if(d===a)throw new ne;const p=d-r[0];if(p===0)throw new ne;return p}}Ur.NO_POINTS=[];class oo extends ve{constructor(r=500){super(new Ur,r)}}var bi;(function(H){H[H.L=0]="L",H[H.M=1]="M",H[H.Q=2]="Q",H[H.H=3]="H"})(bi||(bi={}));class Tn{constructor(r,o,a){this.value=r,this.stringValue=o,this.bits=a,Tn.FOR_BITS.set(a,this),Tn.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return Tn.L;case"M":return Tn.M;case"Q":return Tn.Q;case"H":return Tn.H;default:throw new b(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof Tn))return!1;const o=r;return this.value===o.value}static forBits(r){if(r<0||r>=Tn.FOR_BITS.size)throw new E;return Tn.FOR_BITS.get(r)}}Tn.FOR_BITS=new Map,Tn.FOR_VALUE=new Map,Tn.L=new Tn(bi.L,"L",1),Tn.M=new Tn(bi.M,"M",0),Tn.Q=new Tn(bi.Q,"Q",3),Tn.H=new Tn(bi.H,"H",2);class pr{constructor(r){this.errorCorrectionLevel=Tn.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,o){return U.bitCount(r^o)}static decodeFormatInformation(r,o){const a=pr.doDecodeFormatInformation(r,o);return a!==null?a:pr.doDecodeFormatInformation(r^pr.FORMAT_INFO_MASK_QR,o^pr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,o){let a=Number.MAX_SAFE_INTEGER,d=0;for(const f of pr.FORMAT_INFO_DECODE_LOOKUP){const p=f[0];if(p===r||p===o)return new pr(f[1]);let v=pr.numBitsDiffering(r,p);v<a&&(d=f[1],a=v),r!==o&&(v=pr.numBitsDiffering(o,p),v<a&&(d=f[1],a=v))}return a<=3?new pr(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof pr))return!1;const o=r;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}pr.FORMAT_INFO_MASK_QR=21522,pr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ae{constructor(r,...o){this.ecCodewordsPerBlock=r,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const o=this.ecBlocks;for(const a of o)r+=a.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class te{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class bt{constructor(r,o,...a){this.versionNumber=r,this.alignmentPatternCenters=o,this.ecBlocks=a;let d=0;const f=a[0].getECCodewordsPerBlock(),p=a[0].getECBlocks();for(const v of p)d+=v.getCount()*(v.getDataCodewords()+f);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new P;try{return this.getVersionForNumber((r-17)/4)}catch{throw new P}}static getVersionForNumber(r){if(r<1||r>40)throw new E;return bt.VERSIONS[r-1]}static decodeVersionInformation(r){let o=Number.MAX_SAFE_INTEGER,a=0;for(let d=0;d<bt.VERSION_DECODE_INFO.length;d++){const f=bt.VERSION_DECODE_INFO[d];if(f===r)return bt.getVersionForNumber(d+7);const p=pr.numBitsDiffering(r,f);p<o&&(a=d+7,o=p)}return o<=3?bt.getVersionForNumber(a):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),o=new Pe(r);o.setRegion(0,0,9,9),o.setRegion(r-8,0,8,9),o.setRegion(0,r-8,9,8);const a=this.alignmentPatternCenters.length;for(let d=0;d<a;d++){const f=this.alignmentPatternCenters[d]-2;for(let p=0;p<a;p++)d===0&&(p===0||p===a-1)||d===a-1&&p===0||o.setRegion(this.alignmentPatternCenters[p]-2,f,5,5)}return o.setRegion(6,9,1,r-17),o.setRegion(9,6,r-17,1),this.versionNumber>6&&(o.setRegion(r-11,0,3,6),o.setRegion(0,r-11,6,3)),o}toString(){return""+this.versionNumber}}bt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),bt.VERSIONS=[new bt(1,new Int32Array(0),new Ae(7,new te(1,19)),new Ae(10,new te(1,16)),new Ae(13,new te(1,13)),new Ae(17,new te(1,9))),new bt(2,Int32Array.from([6,18]),new Ae(10,new te(1,34)),new Ae(16,new te(1,28)),new Ae(22,new te(1,22)),new Ae(28,new te(1,16))),new bt(3,Int32Array.from([6,22]),new Ae(15,new te(1,55)),new Ae(26,new te(1,44)),new Ae(18,new te(2,17)),new Ae(22,new te(2,13))),new bt(4,Int32Array.from([6,26]),new Ae(20,new te(1,80)),new Ae(18,new te(2,32)),new Ae(26,new te(2,24)),new Ae(16,new te(4,9))),new bt(5,Int32Array.from([6,30]),new Ae(26,new te(1,108)),new Ae(24,new te(2,43)),new Ae(18,new te(2,15),new te(2,16)),new Ae(22,new te(2,11),new te(2,12))),new bt(6,Int32Array.from([6,34]),new Ae(18,new te(2,68)),new Ae(16,new te(4,27)),new Ae(24,new te(4,19)),new Ae(28,new te(4,15))),new bt(7,Int32Array.from([6,22,38]),new Ae(20,new te(2,78)),new Ae(18,new te(4,31)),new Ae(18,new te(2,14),new te(4,15)),new Ae(26,new te(4,13),new te(1,14))),new bt(8,Int32Array.from([6,24,42]),new Ae(24,new te(2,97)),new Ae(22,new te(2,38),new te(2,39)),new Ae(22,new te(4,18),new te(2,19)),new Ae(26,new te(4,14),new te(2,15))),new bt(9,Int32Array.from([6,26,46]),new Ae(30,new te(2,116)),new Ae(22,new te(3,36),new te(2,37)),new Ae(20,new te(4,16),new te(4,17)),new Ae(24,new te(4,12),new te(4,13))),new bt(10,Int32Array.from([6,28,50]),new Ae(18,new te(2,68),new te(2,69)),new Ae(26,new te(4,43),new te(1,44)),new Ae(24,new te(6,19),new te(2,20)),new Ae(28,new te(6,15),new te(2,16))),new bt(11,Int32Array.from([6,30,54]),new Ae(20,new te(4,81)),new Ae(30,new te(1,50),new te(4,51)),new Ae(28,new te(4,22),new te(4,23)),new Ae(24,new te(3,12),new te(8,13))),new bt(12,Int32Array.from([6,32,58]),new Ae(24,new te(2,92),new te(2,93)),new Ae(22,new te(6,36),new te(2,37)),new Ae(26,new te(4,20),new te(6,21)),new Ae(28,new te(7,14),new te(4,15))),new bt(13,Int32Array.from([6,34,62]),new Ae(26,new te(4,107)),new Ae(22,new te(8,37),new te(1,38)),new Ae(24,new te(8,20),new te(4,21)),new Ae(22,new te(12,11),new te(4,12))),new bt(14,Int32Array.from([6,26,46,66]),new Ae(30,new te(3,115),new te(1,116)),new Ae(24,new te(4,40),new te(5,41)),new Ae(20,new te(11,16),new te(5,17)),new Ae(24,new te(11,12),new te(5,13))),new bt(15,Int32Array.from([6,26,48,70]),new Ae(22,new te(5,87),new te(1,88)),new Ae(24,new te(5,41),new te(5,42)),new Ae(30,new te(5,24),new te(7,25)),new Ae(24,new te(11,12),new te(7,13))),new bt(16,Int32Array.from([6,26,50,74]),new Ae(24,new te(5,98),new te(1,99)),new Ae(28,new te(7,45),new te(3,46)),new Ae(24,new te(15,19),new te(2,20)),new Ae(30,new te(3,15),new te(13,16))),new bt(17,Int32Array.from([6,30,54,78]),new Ae(28,new te(1,107),new te(5,108)),new Ae(28,new te(10,46),new te(1,47)),new Ae(28,new te(1,22),new te(15,23)),new Ae(28,new te(2,14),new te(17,15))),new bt(18,Int32Array.from([6,30,56,82]),new Ae(30,new te(5,120),new te(1,121)),new Ae(26,new te(9,43),new te(4,44)),new Ae(28,new te(17,22),new te(1,23)),new Ae(28,new te(2,14),new te(19,15))),new bt(19,Int32Array.from([6,30,58,86]),new Ae(28,new te(3,113),new te(4,114)),new Ae(26,new te(3,44),new te(11,45)),new Ae(26,new te(17,21),new te(4,22)),new Ae(26,new te(9,13),new te(16,14))),new bt(20,Int32Array.from([6,34,62,90]),new Ae(28,new te(3,107),new te(5,108)),new Ae(26,new te(3,41),new te(13,42)),new Ae(30,new te(15,24),new te(5,25)),new Ae(28,new te(15,15),new te(10,16))),new bt(21,Int32Array.from([6,28,50,72,94]),new Ae(28,new te(4,116),new te(4,117)),new Ae(26,new te(17,42)),new Ae(28,new te(17,22),new te(6,23)),new Ae(30,new te(19,16),new te(6,17))),new bt(22,Int32Array.from([6,26,50,74,98]),new Ae(28,new te(2,111),new te(7,112)),new Ae(28,new te(17,46)),new Ae(30,new te(7,24),new te(16,25)),new Ae(24,new te(34,13))),new bt(23,Int32Array.from([6,30,54,78,102]),new Ae(30,new te(4,121),new te(5,122)),new Ae(28,new te(4,47),new te(14,48)),new Ae(30,new te(11,24),new te(14,25)),new Ae(30,new te(16,15),new te(14,16))),new bt(24,Int32Array.from([6,28,54,80,106]),new Ae(30,new te(6,117),new te(4,118)),new Ae(28,new te(6,45),new te(14,46)),new Ae(30,new te(11,24),new te(16,25)),new Ae(30,new te(30,16),new te(2,17))),new bt(25,Int32Array.from([6,32,58,84,110]),new Ae(26,new te(8,106),new te(4,107)),new Ae(28,new te(8,47),new te(13,48)),new Ae(30,new te(7,24),new te(22,25)),new Ae(30,new te(22,15),new te(13,16))),new bt(26,Int32Array.from([6,30,58,86,114]),new Ae(28,new te(10,114),new te(2,115)),new Ae(28,new te(19,46),new te(4,47)),new Ae(28,new te(28,22),new te(6,23)),new Ae(30,new te(33,16),new te(4,17))),new bt(27,Int32Array.from([6,34,62,90,118]),new Ae(30,new te(8,122),new te(4,123)),new Ae(28,new te(22,45),new te(3,46)),new Ae(30,new te(8,23),new te(26,24)),new Ae(30,new te(12,15),new te(28,16))),new bt(28,Int32Array.from([6,26,50,74,98,122]),new Ae(30,new te(3,117),new te(10,118)),new Ae(28,new te(3,45),new te(23,46)),new Ae(30,new te(4,24),new te(31,25)),new Ae(30,new te(11,15),new te(31,16))),new bt(29,Int32Array.from([6,30,54,78,102,126]),new Ae(30,new te(7,116),new te(7,117)),new Ae(28,new te(21,45),new te(7,46)),new Ae(30,new te(1,23),new te(37,24)),new Ae(30,new te(19,15),new te(26,16))),new bt(30,Int32Array.from([6,26,52,78,104,130]),new Ae(30,new te(5,115),new te(10,116)),new Ae(28,new te(19,47),new te(10,48)),new Ae(30,new te(15,24),new te(25,25)),new Ae(30,new te(23,15),new te(25,16))),new bt(31,Int32Array.from([6,30,56,82,108,134]),new Ae(30,new te(13,115),new te(3,116)),new Ae(28,new te(2,46),new te(29,47)),new Ae(30,new te(42,24),new te(1,25)),new Ae(30,new te(23,15),new te(28,16))),new bt(32,Int32Array.from([6,34,60,86,112,138]),new Ae(30,new te(17,115)),new Ae(28,new te(10,46),new te(23,47)),new Ae(30,new te(10,24),new te(35,25)),new Ae(30,new te(19,15),new te(35,16))),new bt(33,Int32Array.from([6,30,58,86,114,142]),new Ae(30,new te(17,115),new te(1,116)),new Ae(28,new te(14,46),new te(21,47)),new Ae(30,new te(29,24),new te(19,25)),new Ae(30,new te(11,15),new te(46,16))),new bt(34,Int32Array.from([6,34,62,90,118,146]),new Ae(30,new te(13,115),new te(6,116)),new Ae(28,new te(14,46),new te(23,47)),new Ae(30,new te(44,24),new te(7,25)),new Ae(30,new te(59,16),new te(1,17))),new bt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ae(30,new te(12,121),new te(7,122)),new Ae(28,new te(12,47),new te(26,48)),new Ae(30,new te(39,24),new te(14,25)),new Ae(30,new te(22,15),new te(41,16))),new bt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ae(30,new te(6,121),new te(14,122)),new Ae(28,new te(6,47),new te(34,48)),new Ae(30,new te(46,24),new te(10,25)),new Ae(30,new te(2,15),new te(64,16))),new bt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ae(30,new te(17,122),new te(4,123)),new Ae(28,new te(29,46),new te(14,47)),new Ae(30,new te(49,24),new te(10,25)),new Ae(30,new te(24,15),new te(46,16))),new bt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ae(30,new te(4,122),new te(18,123)),new Ae(28,new te(13,46),new te(32,47)),new Ae(30,new te(48,24),new te(14,25)),new Ae(30,new te(42,15),new te(32,16))),new bt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ae(30,new te(20,117),new te(4,118)),new Ae(28,new te(40,47),new te(7,48)),new Ae(30,new te(43,24),new te(22,25)),new Ae(30,new te(10,15),new te(67,16))),new bt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ae(30,new te(19,118),new te(6,119)),new Ae(28,new te(18,47),new te(31,48)),new Ae(30,new te(34,24),new te(34,25)),new Ae(30,new te(20,15),new te(61,16)))];var Jn;(function(H){H[H.DATA_MASK_000=0]="DATA_MASK_000",H[H.DATA_MASK_001=1]="DATA_MASK_001",H[H.DATA_MASK_010=2]="DATA_MASK_010",H[H.DATA_MASK_011=3]="DATA_MASK_011",H[H.DATA_MASK_100=4]="DATA_MASK_100",H[H.DATA_MASK_101=5]="DATA_MASK_101",H[H.DATA_MASK_110=6]="DATA_MASK_110",H[H.DATA_MASK_111=7]="DATA_MASK_111"})(Jn||(Jn={}));class Ft{constructor(r,o){this.value=r,this.isMasked=o}unmaskBitMatrix(r,o){for(let a=0;a<o;a++)for(let d=0;d<o;d++)this.isMasked(a,d)&&r.flip(d,a)}}Ft.values=new Map([[Jn.DATA_MASK_000,new Ft(Jn.DATA_MASK_000,(H,r)=>(H+r&1)===0)],[Jn.DATA_MASK_001,new Ft(Jn.DATA_MASK_001,(H,r)=>(H&1)===0)],[Jn.DATA_MASK_010,new Ft(Jn.DATA_MASK_010,(H,r)=>r%3===0)],[Jn.DATA_MASK_011,new Ft(Jn.DATA_MASK_011,(H,r)=>(H+r)%3===0)],[Jn.DATA_MASK_100,new Ft(Jn.DATA_MASK_100,(H,r)=>(Math.floor(H/2)+Math.floor(r/3)&1)===0)],[Jn.DATA_MASK_101,new Ft(Jn.DATA_MASK_101,(H,r)=>H*r%6===0)],[Jn.DATA_MASK_110,new Ft(Jn.DATA_MASK_110,(H,r)=>H*r%6<3)],[Jn.DATA_MASK_111,new Ft(Jn.DATA_MASK_111,(H,r)=>(H+r+H*r%3&1)===0)]]);class qi{constructor(r){const o=r.getHeight();if(o<21||(o&3)!==1)throw new P;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let f=0;f<6;f++)r=this.copyBit(f,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let f=5;f>=0;f--)r=this.copyBit(8,f,r);const o=this.bitMatrix.getHeight();let a=0;const d=o-7;for(let f=o-1;f>=d;f--)a=this.copyBit(8,f,a);for(let f=o-8;f<o;f++)a=this.copyBit(f,8,a);if(this.parsedFormatInfo=pr.decodeFormatInformation(r,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),o=Math.floor((r-17)/4);if(o<=6)return bt.getVersionForNumber(o);let a=0;const d=r-11;for(let p=5;p>=0;p--)for(let v=r-9;v>=d;v--)a=this.copyBit(v,p,a);let f=bt.decodeVersionInformation(a);if(f!==null&&f.getDimensionForVersion()===r)return this.parsedVersion=f,f;a=0;for(let p=5;p>=0;p--)for(let v=r-9;v>=d;v--)a=this.copyBit(p,v,a);if(f=bt.decodeVersionInformation(a),f!==null&&f.getDimensionForVersion()===r)return this.parsedVersion=f,f;throw new P}copyBit(r,o,a){return(this.isMirror?this.bitMatrix.get(o,r):this.bitMatrix.get(r,o))?a<<1|1:a<<1}readCodewords(){const r=this.readFormatInformation(),o=this.readVersion(),a=Ft.values.get(r.getDataMask()),d=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,d);const f=o.buildFunctionPattern();let p=!0;const v=new Uint8Array(o.getTotalCodewords());let A=0,I=0,j=0;for(let W=d-1;W>0;W-=2){W===6&&W--;for(let Y=0;Y<d;Y++){const ie=p?d-1-Y:Y;for(let fe=0;fe<2;fe++)f.get(W-fe,ie)||(j++,I<<=1,this.bitMatrix.get(W-fe,ie)&&(I|=1),j===8&&(v[A++]=I,j=0,I=0))}p=!p}if(A!==o.getTotalCodewords())throw new P;return v}remask(){if(this.parsedFormatInfo===null)return;const r=Ft.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let o=0,a=r.getWidth();o<a;o++)for(let d=o+1,f=r.getHeight();d<f;d++)r.get(o,d)!==r.get(d,o)&&(r.flip(d,o),r.flip(o,d))}}class ao{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o,a){if(r.length!==o.getTotalCodewords())throw new E;const d=o.getECBlocksForLevel(a);let f=0;const p=d.getECBlocks();for(const fe of p)f+=fe.getCount();const v=new Array(f);let A=0;for(const fe of p)for(let pe=0;pe<fe.getCount();pe++){const ye=fe.getDataCodewords(),Me=d.getECCodewordsPerBlock()+ye;v[A++]=new ao(ye,new Uint8Array(Me))}const I=v[0].codewords.length;let j=v.length-1;for(;j>=0&&v[j].codewords.length!==I;)j--;j++;const W=I-d.getECCodewordsPerBlock();let Y=0;for(let fe=0;fe<W;fe++)for(let pe=0;pe<A;pe++)v[pe].codewords[fe]=r[Y++];for(let fe=j;fe<A;fe++)v[fe].codewords[W]=r[Y++];const ie=v[0].codewords.length;for(let fe=W;fe<ie;fe++)for(let pe=0;pe<A;pe++){const ye=pe<j?fe:fe+1;v[pe].codewords[ye]=r[Y++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Dr;(function(H){H[H.TERMINATOR=0]="TERMINATOR",H[H.NUMERIC=1]="NUMERIC",H[H.ALPHANUMERIC=2]="ALPHANUMERIC",H[H.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",H[H.BYTE=4]="BYTE",H[H.ECI=5]="ECI",H[H.KANJI=6]="KANJI",H[H.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",H[H.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",H[H.HANZI=9]="HANZI"})(Dr||(Dr={}));class At{constructor(r,o,a,d){this.value=r,this.stringValue=o,this.characterCountBitsForVersions=a,this.bits=d,At.FOR_BITS.set(d,this),At.FOR_VALUE.set(r,this)}static forBits(r){const o=At.FOR_BITS.get(r);if(o===void 0)throw new E;return o}getCharacterCountBits(r){const o=r.getVersionNumber();let a;return o<=9?a=0:o<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof At))return!1;const o=r;return this.value===o.value}toString(){return this.stringValue}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.TERMINATOR=new At(Dr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),At.NUMERIC=new At(Dr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),At.ALPHANUMERIC=new At(Dr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),At.STRUCTURED_APPEND=new At(Dr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),At.BYTE=new At(Dr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),At.ECI=new At(Dr.ECI,"ECI",Int32Array.from([0,0,0]),7),At.KANJI=new At(Dr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),At.FNC1_FIRST_POSITION=new At(Dr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),At.FNC1_SECOND_POSITION=new At(Dr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),At.HANZI=new At(Dr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mn{static decode(r,o,a,d){const f=new qn(r);let p=new X;const v=new Array;let A=-1,I=-1;try{let j=null,W=!1,Y;do{if(f.available()<4)Y=At.TERMINATOR;else{const ie=f.readBits(4);Y=At.forBits(ie)}switch(Y){case At.TERMINATOR:break;case At.FNC1_FIRST_POSITION:case At.FNC1_SECOND_POSITION:W=!0;break;case At.STRUCTURED_APPEND:if(f.available()<16)throw new P;A=f.readBits(8),I=f.readBits(8);break;case At.ECI:const ie=Mn.parseECIValue(f);if(j=B.getCharacterSetECIByValue(ie),j===null)throw new P;break;case At.HANZI:const fe=f.readBits(4),pe=f.readBits(Y.getCharacterCountBits(o));fe===Mn.GB2312_SUBSET&&Mn.decodeHanziSegment(f,p,pe);break;default:const ye=f.readBits(Y.getCharacterCountBits(o));switch(Y){case At.NUMERIC:Mn.decodeNumericSegment(f,p,ye);break;case At.ALPHANUMERIC:Mn.decodeAlphanumericSegment(f,p,ye,W);break;case At.BYTE:Mn.decodeByteSegment(f,p,ye,j,v,d);break;case At.KANJI:Mn.decodeKanjiSegment(f,p,ye);break;default:throw new P}break}}while(Y!==At.TERMINATOR)}catch{throw new P}return new Ue(r,p.toString(),v.length===0?null:v,a===null?null:a.toString(),A,I)}static decodeHanziSegment(r,o,a){if(a*13>r.available())throw new P;const d=new Uint8Array(2*a);let f=0;for(;a>0;){const p=r.readBits(13);let v=p/96<<8&4294967295|p%96;v<959?v+=41377:v+=42657,d[f]=v>>8&255,d[f+1]=v&255,f+=2,a--}try{o.append(q.decode(d,ee.GB2312))}catch(p){throw new P(p)}}static decodeKanjiSegment(r,o,a){if(a*13>r.available())throw new P;const d=new Uint8Array(2*a);let f=0;for(;a>0;){const p=r.readBits(13);let v=p/192<<8&4294967295|p%192;v<7936?v+=33088:v+=49472,d[f]=v>>8,d[f+1]=v,f+=2,a--}try{o.append(q.decode(d,ee.SHIFT_JIS))}catch(p){throw new P(p)}}static decodeByteSegment(r,o,a,d,f,p){if(8*a>r.available())throw new P;const v=new Uint8Array(a);for(let I=0;I<a;I++)v[I]=r.readBits(8);let A;d===null?A=ee.guessEncoding(v,p):A=d.getName();try{o.append(q.decode(v,A))}catch(I){throw new P(I)}f.push(v)}static toAlphaNumericChar(r){if(r>=Mn.ALPHANUMERIC_CHARS.length)throw new P;return Mn.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,o,a,d){const f=o.length();for(;a>1;){if(r.available()<11)throw new P;const p=r.readBits(11);o.append(Mn.toAlphaNumericChar(Math.floor(p/45))),o.append(Mn.toAlphaNumericChar(p%45)),a-=2}if(a===1){if(r.available()<6)throw new P;o.append(Mn.toAlphaNumericChar(r.readBits(6)))}if(d)for(let p=f;p<o.length();p++)o.charAt(p)==="%"&&(p<o.length()-1&&o.charAt(p+1)==="%"?o.deleteCharAt(p+1):o.setCharAt(p,""))}static decodeNumericSegment(r,o,a){for(;a>=3;){if(r.available()<10)throw new P;const d=r.readBits(10);if(d>=1e3)throw new P;o.append(Mn.toAlphaNumericChar(Math.floor(d/100))),o.append(Mn.toAlphaNumericChar(Math.floor(d/10)%10)),o.append(Mn.toAlphaNumericChar(d%10)),a-=3}if(a===2){if(r.available()<7)throw new P;const d=r.readBits(7);if(d>=100)throw new P;o.append(Mn.toAlphaNumericChar(Math.floor(d/10))),o.append(Mn.toAlphaNumericChar(d%10))}else if(a===1){if(r.available()<4)throw new P;const d=r.readBits(4);if(d>=10)throw new P;o.append(Mn.toAlphaNumericChar(d))}}static parseECIValue(r){const o=r.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const a=r.readBits(8);return(o&63)<<8&4294967295|a}if((o&224)===192){const a=r.readBits(16);return(o&31)<<16&4294967295|a}throw new P}}Mn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mn.GB2312_SUBSET=1;class Mo{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const o=r[0];r[0]=r[2],r[2]=o}}class Qi{constructor(){this.rsDecoder=new nn(tt.QR_CODE_FIELD_256)}decodeBooleanArray(r,o){return this.decodeBitMatrix(Pe.parseFromBooleanArray(r),o)}decodeBitMatrix(r,o){const a=new qi(r);let d=null;try{return this.decodeBitMatrixParser(a,o)}catch(f){d=f}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const f=this.decodeBitMatrixParser(a,o);return f.setOther(new Mo(!0)),f}catch(f){throw d!==null?d:f}}decodeBitMatrixParser(r,o){const a=r.readVersion(),d=r.readFormatInformation().getErrorCorrectionLevel(),f=r.readCodewords(),p=ao.getDataBlocks(f,a,d);let v=0;for(const j of p)v+=j.getNumDataCodewords();const A=new Uint8Array(v);let I=0;for(const j of p){const W=j.getCodewords(),Y=j.getNumDataCodewords();this.correctErrors(W,Y);for(let ie=0;ie<Y;ie++)A[I++]=W[ie]}return Mn.decode(A,a,d,o)}correctErrors(r,o){const a=new Int32Array(r);try{this.rsDecoder.decode(a,r.length-o)}catch{throw new R}for(let d=0;d<o;d++)r[d]=a[d]}}class Ms extends rt{constructor(r,o,a){super(r,o),this.estimatedModuleSize=a}aboutEquals(r,o,a){if(Math.abs(o-this.getY())<=r&&Math.abs(a-this.getX())<=r){const d=Math.abs(r-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(r,o,a){const d=(this.getX()+o)/2,f=(this.getY()+r)/2,p=(this.estimatedModuleSize+a)/2;return new Ms(d,f,p)}}class hi{constructor(r,o,a,d,f,p,v){this.image=r,this.startX=o,this.startY=a,this.width=d,this.height=f,this.moduleSize=p,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,o=this.height,a=this.width,d=r+a,f=this.startY+o/2,p=new Int32Array(3),v=this.image;for(let A=0;A<o;A++){const I=f+((A&1)===0?Math.floor((A+1)/2):-Math.floor((A+1)/2));p[0]=0,p[1]=0,p[2]=0;let j=r;for(;j<d&&!v.get(j,I);)j++;let W=0;for(;j<d;){if(v.get(j,I))if(W===1)p[1]++;else if(W===2){if(this.foundPatternCross(p)){const Y=this.handlePossibleCenter(p,I,j);if(Y!==null)return Y}p[0]=p[2],p[1]=1,p[2]=0,W=1}else p[++W]++;else W===1&&W++,p[W]++;j++}if(this.foundPatternCross(p)){const Y=this.handlePossibleCenter(p,I,d);if(Y!==null)return Y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne}static centerFromEnd(r,o){return o-r[2]-r[1]/2}foundPatternCross(r){const o=this.moduleSize,a=o/2;for(let d=0;d<3;d++)if(Math.abs(o-r[d])>=a)return!1;return!0}crossCheckVertical(r,o,a,d){const f=this.image,p=f.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let A=r;for(;A>=0&&f.get(o,A)&&v[1]<=a;)v[1]++,A--;if(A<0||v[1]>a)return NaN;for(;A>=0&&!f.get(o,A)&&v[0]<=a;)v[0]++,A--;if(v[0]>a)return NaN;for(A=r+1;A<p&&f.get(o,A)&&v[1]<=a;)v[1]++,A++;if(A===p||v[1]>a)return NaN;for(;A<p&&!f.get(o,A)&&v[2]<=a;)v[2]++,A++;if(v[2]>a)return NaN;const I=v[0]+v[1]+v[2];return 5*Math.abs(I-d)>=2*d?NaN:this.foundPatternCross(v)?hi.centerFromEnd(v,A):NaN}handlePossibleCenter(r,o,a){const d=r[0]+r[1]+r[2],f=hi.centerFromEnd(r,a),p=this.crossCheckVertical(o,f,2*r[1],d);if(!isNaN(p)){const v=(r[0]+r[1]+r[2])/3;for(const I of this.possibleCenters)if(I.aboutEquals(v,p,f))return I.combineEstimate(p,f,v);const A=new Ms(f,p,v);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null}}class Si extends rt{constructor(r,o,a,d){super(r,o),this.estimatedModuleSize=a,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,o,a){if(Math.abs(o-this.getY())<=r&&Math.abs(a-this.getX())<=r){const d=Math.abs(r-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(r,o,a){const d=this.count+1,f=(this.count*this.getX()+o)/d,p=(this.count*this.getY()+r)/d,v=(this.count*this.estimatedModuleSize+a)/d;return new Si(f,p,v,d)}}class Mr{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Hn{constructor(r,o){this.image=r,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const o=r!=null&&r.get(le.TRY_HARDER)!==void 0,a=r!=null&&r.get(le.PURE_BARCODE)!==void 0,d=this.image,f=d.getHeight(),p=d.getWidth();let v=Math.floor(3*f/(4*Hn.MAX_MODULES));(v<Hn.MIN_SKIP||o)&&(v=Hn.MIN_SKIP);let A=!1;const I=new Int32Array(5);for(let W=v-1;W<f&&!A;W+=v){I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0;let Y=0;for(let ie=0;ie<p;ie++)if(d.get(ie,W))(Y&1)===1&&Y++,I[Y]++;else if((Y&1)===0)if(Y===4)if(Hn.foundPatternCross(I)){if(this.handlePossibleCenter(I,W,ie,a)===!0)if(v=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{const pe=this.findRowSkip();pe>I[2]&&(W+=pe-I[2]-v,ie=p-1)}else{I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,Y=3;continue}Y=0,I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0}else I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,Y=3;else I[++Y]++;else I[Y]++;Hn.foundPatternCross(I)&&this.handlePossibleCenter(I,W,p,a)===!0&&(v=I[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return rt.orderBestPatterns(j),new Mr(j)}static centerFromEnd(r,o){return o-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let o=0;for(let f=0;f<5;f++){const p=r[f];if(p===0)return!1;o+=p}if(o<7)return!1;const a=o/7,d=a/2;return Math.abs(a-r[0])<d&&Math.abs(a-r[1])<d&&Math.abs(3*a-r[2])<3*d&&Math.abs(a-r[3])<d&&Math.abs(a-r[4])<d}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,o,a,d){const f=this.getCrossCheckStateCount();let p=0;const v=this.image;for(;r>=p&&o>=p&&v.get(o-p,r-p);)f[2]++,p++;if(r<p||o<p)return!1;for(;r>=p&&o>=p&&!v.get(o-p,r-p)&&f[1]<=a;)f[1]++,p++;if(r<p||o<p||f[1]>a)return!1;for(;r>=p&&o>=p&&v.get(o-p,r-p)&&f[0]<=a;)f[0]++,p++;if(f[0]>a)return!1;const A=v.getHeight(),I=v.getWidth();for(p=1;r+p<A&&o+p<I&&v.get(o+p,r+p);)f[2]++,p++;if(r+p>=A||o+p>=I)return!1;for(;r+p<A&&o+p<I&&!v.get(o+p,r+p)&&f[3]<a;)f[3]++,p++;if(r+p>=A||o+p>=I||f[3]>=a)return!1;for(;r+p<A&&o+p<I&&v.get(o+p,r+p)&&f[4]<a;)f[4]++,p++;if(f[4]>=a)return!1;const j=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(j-d)<2*d&&Hn.foundPatternCross(f)}crossCheckVertical(r,o,a,d){const f=this.image,p=f.getHeight(),v=this.getCrossCheckStateCount();let A=r;for(;A>=0&&f.get(o,A);)v[2]++,A--;if(A<0)return NaN;for(;A>=0&&!f.get(o,A)&&v[1]<=a;)v[1]++,A--;if(A<0||v[1]>a)return NaN;for(;A>=0&&f.get(o,A)&&v[0]<=a;)v[0]++,A--;if(v[0]>a)return NaN;for(A=r+1;A<p&&f.get(o,A);)v[2]++,A++;if(A===p)return NaN;for(;A<p&&!f.get(o,A)&&v[3]<a;)v[3]++,A++;if(A===p||v[3]>=a)return NaN;for(;A<p&&f.get(o,A)&&v[4]<a;)v[4]++,A++;if(v[4]>=a)return NaN;const I=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(I-d)>=2*d?NaN:Hn.foundPatternCross(v)?Hn.centerFromEnd(v,A):NaN}crossCheckHorizontal(r,o,a,d){const f=this.image,p=f.getWidth(),v=this.getCrossCheckStateCount();let A=r;for(;A>=0&&f.get(A,o);)v[2]++,A--;if(A<0)return NaN;for(;A>=0&&!f.get(A,o)&&v[1]<=a;)v[1]++,A--;if(A<0||v[1]>a)return NaN;for(;A>=0&&f.get(A,o)&&v[0]<=a;)v[0]++,A--;if(v[0]>a)return NaN;for(A=r+1;A<p&&f.get(A,o);)v[2]++,A++;if(A===p)return NaN;for(;A<p&&!f.get(A,o)&&v[3]<a;)v[3]++,A++;if(A===p||v[3]>=a)return NaN;for(;A<p&&f.get(A,o)&&v[4]<a;)v[4]++,A++;if(v[4]>=a)return NaN;const I=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(I-d)>=d?NaN:Hn.foundPatternCross(v)?Hn.centerFromEnd(v,A):NaN}handlePossibleCenter(r,o,a,d){const f=r[0]+r[1]+r[2]+r[3]+r[4];let p=Hn.centerFromEnd(r,a),v=this.crossCheckVertical(o,Math.floor(p),r[2],f);if(!isNaN(v)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(v),r[2],f),!isNaN(p)&&(!d||this.crossCheckDiagonal(Math.floor(v),Math.floor(p),r[2],f)))){const A=f/7;let I=!1;const j=this.possibleCenters;for(let W=0,Y=j.length;W<Y;W++){const ie=j[W];if(ie.aboutEquals(A,v,p)){j[W]=ie.combineEstimate(v,p,A),I=!0;break}}if(!I){const W=new Si(p,v,A);j.push(W),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(W)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const a of this.possibleCenters)if(a.getCount()>=Hn.CENTER_QUORUM)if(o==null)o=a;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-a.getX())-Math.abs(o.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,o=0;const a=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=Hn.CENTER_QUORUM&&(r++,o+=p.getEstimatedModuleSize());if(r<3)return!1;const d=o/a;let f=0;for(const p of this.possibleCenters)f+=Math.abs(p.getEstimatedModuleSize()-d);return f<=.05*o}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new ne;const o=this.possibleCenters;let a;if(r>3){let d=0,f=0;for(const A of this.possibleCenters){const I=A.getEstimatedModuleSize();d+=I,f+=I*I}a=d/r;let p=Math.sqrt(f/r-a*a);o.sort((A,I)=>{const j=Math.abs(I.getEstimatedModuleSize()-a),W=Math.abs(A.getEstimatedModuleSize()-a);return j<W?-1:j>W?1:0});const v=Math.max(.2*a,p);for(let A=0;A<o.length&&o.length>3;A++){const I=o[A];Math.abs(I.getEstimatedModuleSize()-a)>v&&(o.splice(A,1),A--)}}if(o.length>3){let d=0;for(const f of o)d+=f.getEstimatedModuleSize();a=d/o.length,o.sort((f,p)=>{if(p.getCount()===f.getCount()){const v=Math.abs(p.getEstimatedModuleSize()-a),A=Math.abs(f.getEstimatedModuleSize()-a);return v<A?1:v>A?-1:0}else return p.getCount()-f.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Hn.CENTER_QUORUM=2,Hn.MIN_SKIP=3,Hn.MAX_MODULES=57;class pi{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(le.NEED_RESULT_POINT_CALLBACK);const a=new Hn(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(a)}processFinderPatternInfo(r){const o=r.getTopLeft(),a=r.getTopRight(),d=r.getBottomLeft(),f=this.calculateModuleSize(o,a,d);if(f<1)throw new ne("No pattern found in proccess finder.");const p=pi.computeDimension(o,a,d,f),v=bt.getProvisionalVersionForDimension(p),A=v.getDimensionForVersion()-7;let I=null;if(v.getAlignmentPatternCenters().length>0){const ie=a.getX()-o.getX()+d.getX(),fe=a.getY()-o.getY()+d.getY(),pe=1-3/A,ye=Math.floor(o.getX()+pe*(ie-o.getX())),Me=Math.floor(o.getY()+pe*(fe-o.getY()));for(let Ke=4;Ke<=16;Ke<<=1)try{I=this.findAlignmentInRegion(f,ye,Me,Ke);break}catch(qe){if(!(qe instanceof ne))throw qe}}const j=pi.createTransform(o,a,d,I,p),W=pi.sampleGrid(this.image,j,p);let Y;return I===null?Y=[d,o,a]:Y=[d,o,a,I],new Ln(W,Y)}static createTransform(r,o,a,d,f){const p=f-3.5;let v,A,I,j;return d!==null?(v=d.getX(),A=d.getY(),I=p-3,j=I):(v=o.getX()-r.getX()+a.getX(),A=o.getY()-r.getY()+a.getY(),I=p,j=p),jn.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,I,j,3.5,p,r.getX(),r.getY(),o.getX(),o.getY(),v,A,a.getX(),a.getY())}static sampleGrid(r,o,a){return mn.getInstance().sampleGridWithTransform(r,a,a,o)}static computeDimension(r,o,a,d){const f=it.round(rt.distance(r,o)/d),p=it.round(rt.distance(r,a)/d);let v=Math.floor((f+p)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new ne("Dimensions could be not found.")}return v}calculateModuleSize(r,o,a){return(this.calculateModuleSizeOneWay(r,o)+this.calculateModuleSizeOneWay(r,a))/2}calculateModuleSizeOneWay(r,o){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(o.getX()),Math.floor(o.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(a)?d/7:isNaN(d)?a/7:(a+d)/14}sizeOfBlackWhiteBlackRunBothWays(r,o,a,d){let f=this.sizeOfBlackWhiteBlackRun(r,o,a,d),p=1,v=r-(a-r);v<0?(p=r/(r-v),v=0):v>=this.image.getWidth()&&(p=(this.image.getWidth()-1-r)/(v-r),v=this.image.getWidth()-1);let A=Math.floor(o-(d-o)*p);return p=1,A<0?(p=o/(o-A),A=0):A>=this.image.getHeight()&&(p=(this.image.getHeight()-1-o)/(A-o),A=this.image.getHeight()-1),v=Math.floor(r+(v-r)*p),f+=this.sizeOfBlackWhiteBlackRun(r,o,v,A),f-1}sizeOfBlackWhiteBlackRun(r,o,a,d){const f=Math.abs(d-o)>Math.abs(a-r);if(f){let ie=r;r=o,o=ie,ie=a,a=d,d=ie}const p=Math.abs(a-r),v=Math.abs(d-o);let A=-p/2;const I=r<a?1:-1,j=o<d?1:-1;let W=0;const Y=a+I;for(let ie=r,fe=o;ie!==Y;ie+=I){const pe=f?fe:ie,ye=f?ie:fe;if(W===1===this.image.get(pe,ye)){if(W===2)return it.distance(ie,fe,r,o);W++}if(A+=v,A>0){if(fe===d)break;fe+=j,A-=p}}return W===2?it.distance(a+I,d,r,o):NaN}findAlignmentInRegion(r,o,a,d){const f=Math.floor(d*r),p=Math.max(0,o-f),v=Math.min(this.image.getWidth()-1,o+f);if(v-p<r*3)throw new ne("Alignment top exceeds estimated module size.");const A=Math.max(0,a-f),I=Math.min(this.image.getHeight()-1,a+f);if(I-A<r*3)throw new ne("Alignment bottom exceeds estimated module size.");return new hi(this.image,p,A,v-p,I-A,r,this.resultPointCallback).find()}}class mr{constructor(){this.decoder=new Qi}getDecoder(){return this.decoder}decode(r,o){let a,d;if(o!=null&&o.get(le.PURE_BARCODE)!==void 0){const A=mr.extractPureBits(r.getBlackMatrix());a=this.decoder.decodeBitMatrix(A,o),d=mr.NO_POINTS}else{const A=new pi(r.getBlackMatrix()).detect(o);a=this.decoder.decodeBitMatrix(A.getBits(),o),d=A.getPoints()}a.getOther()instanceof Mo&&a.getOther().applyMirroredCorrection(d);const f=new Re(a.getText(),a.getRawBytes(),void 0,d,Ie.QR_CODE,void 0),p=a.getByteSegments();p!==null&&f.putMetadata(Fe.BYTE_SEGMENTS,p);const v=a.getECLevel();return v!==null&&f.putMetadata(Fe.ERROR_CORRECTION_LEVEL,v),a.hasStructuredAppend()&&(f.putMetadata(Fe.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),f.putMetadata(Fe.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),f}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),a=r.getBottomRightOnBit();if(o===null||a===null)throw new ne;const d=this.moduleSize(o,r);let f=o[1],p=a[1],v=o[0],A=a[0];if(v>=A||f>=p)throw new ne;if(p-f!==A-v&&(A=v+(p-f),A>=r.getWidth()))throw new ne;const I=Math.round((A-v+1)/d),j=Math.round((p-f+1)/d);if(I<=0||j<=0)throw new ne;if(j!==I)throw new ne;const W=Math.floor(d/2);f+=W,v+=W;const Y=v+Math.floor((I-1)*d)-A;if(Y>0){if(Y>W)throw new ne;v-=Y}const ie=f+Math.floor((j-1)*d)-p;if(ie>0){if(ie>W)throw new ne;f-=ie}const fe=new Pe(I,j);for(let pe=0;pe<j;pe++){const ye=f+Math.floor(pe*d);for(let Me=0;Me<I;Me++)r.get(v+Math.floor(Me*d),ye)&&fe.set(Me,pe)}return fe}static moduleSize(r,o){const a=o.getHeight(),d=o.getWidth();let f=r[0],p=r[1],v=!0,A=0;for(;f<d&&p<a;){if(v!==o.get(f,p)){if(++A===5)break;v=!v}f++,p++}if(f===d||p===a)throw new ne;return(f-r[0])/7}}mr.NO_POINTS=new Array;class Rt{PDF417Common(){}static getBitCountSum(r){return it.sum(r)}static toIntArray(r){if(r==null||!r.length)return Rt.EMPTY_INT_ARRAY;const o=new Int32Array(r.length);let a=0;for(const d of r)o[a++]=d;return o}static getCodeword(r){const o=z.binarySearch(Rt.SYMBOL_TABLE,r&262143);return o<0?-1:(Rt.CODEWORD_TABLE[o]-1)%Rt.NUMBER_OF_CODEWORDS}}Rt.NUMBER_OF_CODEWORDS=929,Rt.MAX_CODEWORDS_IN_BARCODE=Rt.NUMBER_OF_CODEWORDS-1,Rt.MIN_ROWS_IN_BARCODE=3,Rt.MAX_ROWS_IN_BARCODE=90,Rt.MODULES_IN_CODEWORD=17,Rt.MODULES_IN_STOP_PATTERN=18,Rt.BARS_IN_MODULE=8,Rt.EMPTY_INT_ARRAY=new Int32Array([]),Rt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Rt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Os{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Mt{static detectMultiple(r,o,a){let d=r.getBlackMatrix(),f=Mt.detect(a,d);return f.length||(d=d.clone(),d.rotate180(),f=Mt.detect(a,d)),new Os(d,f)}static detect(r,o){const a=new Array;let d=0,f=0,p=!1;for(;d<o.getHeight();){const v=Mt.findVertices(o,d,f);if(v[0]==null&&v[3]==null){if(!p)break;p=!1,f=0;for(const A of a)A[1]!=null&&(d=Math.trunc(Math.max(d,A[1].getY()))),A[3]!=null&&(d=Math.max(d,Math.trunc(A[3].getY())));d+=Mt.ROW_STEP;continue}if(p=!0,a.push(v),!r)break;v[2]!=null?(f=Math.trunc(v[2].getX()),d=Math.trunc(v[2].getY())):(f=Math.trunc(v[4].getX()),d=Math.trunc(v[4].getY()))}return a}static findVertices(r,o,a){const d=r.getHeight(),f=r.getWidth(),p=new Array(8);return Mt.copyToResult(p,Mt.findRowsWithPattern(r,d,f,o,a,Mt.START_PATTERN),Mt.INDEXES_START_PATTERN),p[4]!=null&&(a=Math.trunc(p[4].getX()),o=Math.trunc(p[4].getY())),Mt.copyToResult(p,Mt.findRowsWithPattern(r,d,f,o,a,Mt.STOP_PATTERN),Mt.INDEXES_STOP_PATTERN),p}static copyToResult(r,o,a){for(let d=0;d<a.length;d++)r[a[d]]=o[d]}static findRowsWithPattern(r,o,a,d,f,p){const v=new Array(4);let A=!1;const I=new Int32Array(p.length);for(;d<o;d+=Mt.ROW_STEP){let W=Mt.findGuardPattern(r,f,d,a,!1,p,I);if(W!=null){for(;d>0;){const Y=Mt.findGuardPattern(r,f,--d,a,!1,p,I);if(Y!=null)W=Y;else{d++;break}}v[0]=new rt(W[0],d),v[1]=new rt(W[1],d),A=!0;break}}let j=d+1;if(A){let W=0,Y=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;j<o;j++){const ie=Mt.findGuardPattern(r,Y[0],j,a,!1,p,I);if(ie!=null&&Math.abs(Y[0]-ie[0])<Mt.MAX_PATTERN_DRIFT&&Math.abs(Y[1]-ie[1])<Mt.MAX_PATTERN_DRIFT)Y=ie,W=0;else{if(W>Mt.SKIPPED_ROW_COUNT_MAX)break;W++}}j-=W+1,v[2]=new rt(Y[0],j),v[3]=new rt(Y[1],j)}return j-d<Mt.BARCODE_MIN_HEIGHT&&z.fill(v,null),v}static findGuardPattern(r,o,a,d,f,p,v){z.fillWithin(v,0,v.length,0);let A=o,I=0;for(;r.get(A,a)&&A>0&&I++<Mt.MAX_PIXEL_DRIFT;)A--;let j=A,W=0,Y=p.length;for(let ie=f;j<d;j++)if(r.get(j,a)!==ie)v[W]++;else{if(W===Y-1){if(Mt.patternMatchVariance(v,p,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return new Int32Array([A,j]);A+=v[0]+v[1],k.arraycopy(v,2,v,0,W-1),v[W-1]=0,v[W]=0,W--}else W++;v[W]=1,ie=!ie}return W===Y-1&&Mt.patternMatchVariance(v,p,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE?new Int32Array([A,j-1]):null}static patternMatchVariance(r,o,a){let d=r.length,f=0,p=0;for(let I=0;I<d;I++)f+=r[I],p+=o[I];if(f<p)return 1/0;let v=f/p;a*=v;let A=0;for(let I=0;I<d;I++){let j=r[I],W=o[I]*v,Y=j>W?j-W:W-j;if(Y>a)return 1/0;A+=Y}return A/f}}Mt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Mt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Mt.MAX_AVG_VARIANCE=.42,Mt.MAX_INDIVIDUAL_VARIANCE=.8,Mt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Mt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Mt.MAX_PIXEL_DRIFT=3,Mt.MAX_PATTERN_DRIFT=5,Mt.SKIPPED_ROW_COUNT_MAX=25,Mt.ROW_STEP=5,Mt.BARCODE_MIN_HEIGHT=10;class gr{constructor(r,o){if(o.length===0)throw new E;this.field=r;let a=o.length;if(a>1&&o[0]===0){let d=1;for(;d<a&&o[d]===0;)d++;d===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-d),k.arraycopy(o,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let d=0;for(let f of this.coefficients)d=this.field.add(d,f);return d}let o=this.coefficients[0],a=this.coefficients.length;for(let d=1;d<a;d++)o=this.field.add(this.field.multiply(r,o),this.coefficients[d]);return o}add(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,a=r.coefficients;if(o.length>a.length){let p=o;o=a,a=p}let d=new Int32Array(a.length),f=a.length-o.length;k.arraycopy(a,0,d,0,f);for(let p=f;p<a.length;p++)d[p]=this.field.add(o[p-f],a[p]);return new gr(this.field,d)}subtract(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof gr?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new gr(this.field,new Int32Array([0]));let o=this.coefficients,a=o.length,d=r.coefficients,f=d.length,p=new Int32Array(a+f-1);for(let v=0;v<a;v++){let A=o[v];for(let I=0;I<f;I++)p[v+I]=this.field.add(p[v+I],this.field.multiply(A,d[I]))}return new gr(this.field,p)}negative(){let r=this.coefficients.length,o=new Int32Array(r);for(let a=0;a<r;a++)o[a]=this.field.subtract(0,this.coefficients[a]);return new gr(this.field,o)}multiplyScalar(r){if(r===0)return new gr(this.field,new Int32Array([0]));if(r===1)return this;let o=this.coefficients.length,a=new Int32Array(o);for(let d=0;d<o;d++)a[d]=this.field.multiply(this.coefficients[d],r);return new gr(this.field,a)}multiplyByMonomial(r,o){if(r<0)throw new E;if(o===0)return new gr(this.field,new Int32Array([0]));let a=this.coefficients.length,d=new Int32Array(a+r);for(let f=0;f<a;f++)d[f]=this.field.multiply(this.coefficients[f],o);return new gr(this.field,d)}toString(){let r=new X;for(let o=this.getDegree();o>=0;o--){let a=this.getCoefficient(o);a!==0&&(a<0?(r.append(" - "),a=-a):r.length()>0&&r.append(" + "),(o===0||a!==1)&&r.append(a),o!==0&&(o===1?r.append("x"):(r.append("x^"),r.append(o))))}return r.toString()}}class Oo{add(r,o){return(r+o)%this.modulus}subtract(r,o){return(this.modulus+r-o)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new E;return this.logTable[r]}inverse(r){if(r===0)throw new Ye;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Dn extends Oo{constructor(r,o){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let a=1;for(let d=0;d<r;d++)this.expTable[d]=a,a=a*o%r;for(let d=0;d<r-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new gr(this,new Int32Array([0])),this.one=new gr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new E;if(o===0)return this.zero;let a=new Int32Array(r+1);return a[0]=o,new gr(this,a)}}Dn.PDF417_GF=new Dn(Rt.NUMBER_OF_CODEWORDS,3);class Ea{constructor(){this.field=Dn.PDF417_GF}decode(r,o,a){let d=new gr(this.field,r),f=new Int32Array(o),p=!1;for(let fe=o;fe>0;fe--){let pe=d.evaluateAt(this.field.exp(fe));f[o-fe]=pe,pe!==0&&(p=!0)}if(!p)return 0;let v=this.field.getOne();if(a!=null)for(const fe of a){let pe=this.field.exp(r.length-1-fe),ye=new gr(this.field,new Int32Array([this.field.subtract(0,pe),1]));v=v.multiply(ye)}let A=new gr(this.field,f),I=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),A,o),j=I[0],W=I[1],Y=this.findErrorLocations(j),ie=this.findErrorMagnitudes(W,j,Y);for(let fe=0;fe<Y.length;fe++){let pe=r.length-1-this.field.log(Y[fe]);if(pe<0)throw R.getChecksumInstance();r[pe]=this.field.subtract(r[pe],ie[fe])}return Y.length}runEuclideanAlgorithm(r,o,a){if(r.getDegree()<o.getDegree()){let Y=r;r=o,o=Y}let d=r,f=o,p=this.field.getZero(),v=this.field.getOne();for(;f.getDegree()>=Math.round(a/2);){let Y=d,ie=p;if(d=f,p=v,d.isZero())throw R.getChecksumInstance();f=Y;let fe=this.field.getZero(),pe=d.getCoefficient(d.getDegree()),ye=this.field.inverse(pe);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){let Me=f.getDegree()-d.getDegree(),Ke=this.field.multiply(f.getCoefficient(f.getDegree()),ye);fe=fe.add(this.field.buildMonomial(Me,Ke)),f=f.subtract(d.multiplyByMonomial(Me,Ke))}v=fe.multiply(p).subtract(ie).negative()}let A=v.getCoefficient(0);if(A===0)throw R.getChecksumInstance();let I=this.field.inverse(A),j=v.multiply(I),W=f.multiply(I);return[j,W]}findErrorLocations(r){let o=r.getDegree(),a=new Int32Array(o),d=0;for(let f=1;f<this.field.getSize()&&d<o;f++)r.evaluateAt(f)===0&&(a[d]=this.field.inverse(f),d++);if(d!==o)throw R.getChecksumInstance();return a}findErrorMagnitudes(r,o,a){let d=o.getDegree(),f=new Int32Array(d);for(let I=1;I<=d;I++)f[d-I]=this.field.multiply(I,o.getCoefficient(I));let p=new gr(this.field,f),v=a.length,A=new Int32Array(v);for(let I=0;I<v;I++){let j=this.field.inverse(a[I]),W=this.field.subtract(0,r.evaluateAt(j)),Y=this.field.inverse(p.evaluateAt(j));A[I]=this.field.multiply(W,Y)}return A}}class ms{constructor(r,o,a,d,f){r instanceof ms?this.constructor_2(r):this.constructor_1(r,o,a,d,f)}constructor_1(r,o,a,d,f){const p=o==null||a==null,v=d==null||f==null;if(p&&v)throw new ne;p?(o=new rt(0,d.getY()),a=new rt(0,f.getY())):v&&(d=new rt(r.getWidth()-1,o.getY()),f=new rt(r.getWidth()-1,a.getY())),this.image=r,this.topLeft=o,this.bottomLeft=a,this.topRight=d,this.bottomRight=f,this.minX=Math.trunc(Math.min(o.getX(),a.getX())),this.maxX=Math.trunc(Math.max(d.getX(),f.getX())),this.minY=Math.trunc(Math.min(o.getY(),d.getY())),this.maxY=Math.trunc(Math.max(a.getY(),f.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,o){return r==null?o:o==null?r:new ms(r.image,r.topLeft,r.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(r,o,a){let d=this.topLeft,f=this.bottomLeft,p=this.topRight,v=this.bottomRight;if(r>0){let A=a?this.topLeft:this.topRight,I=Math.trunc(A.getY()-r);I<0&&(I=0);let j=new rt(A.getX(),I);a?d=j:p=j}if(o>0){let A=a?this.bottomLeft:this.bottomRight,I=Math.trunc(A.getY()+o);I>=this.image.getHeight()&&(I=this.image.getHeight()-1);let j=new rt(A.getX(),I);a?f=j:v=j}return new ms(this.image,d,f,p,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ks{constructor(r,o,a,d){this.columnCount=r,this.errorCorrectionLevel=d,this.rowCountUpperPart=o,this.rowCountLowerPart=a,this.rowCount=o+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ai{constructor(){this.buffer=""}static form(r,o){let a=-1;function d(p,v,A,I,j,W){if(p==="%%")return"%";if(o[++a]===void 0)return;p=I?parseInt(I.substr(1)):void 0;let Y=j?parseInt(j.substr(1)):void 0,ie;switch(W){case"s":ie=o[a];break;case"c":ie=o[a][0];break;case"f":ie=parseFloat(o[a]).toFixed(p);break;case"p":ie=parseFloat(o[a]).toPrecision(p);break;case"e":ie=parseFloat(o[a]).toExponential(p);break;case"x":ie=parseInt(o[a]).toString(Y||16);break;case"d":ie=parseFloat(parseInt(o[a],Y||10).toPrecision(p)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(Y);let fe=parseInt(A),pe=A&&A[0]+""=="0"?"0":" ";for(;ie.length<fe;)ie=v!==void 0?ie+pe:pe+ie;return ie}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(f,d)}format(r,...o){this.buffer+=Ai.form(r,o)}toString(){return this.buffer}}class mi{constructor(r){this.boundingBox=new ms(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let o=this.getCodeword(r);if(o!=null)return o;for(let a=1;a<mi.MAX_NEARBY_DISTANCE;a++){let d=this.imageRowToCodewordIndex(r)-a;if(d>=0&&(o=this.codewords[d],o!=null)||(d=this.imageRowToCodewordIndex(r)+a,d<this.codewords.length&&(o=this.codewords[d],o!=null)))return o}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,o){this.codewords[this.imageRowToCodewordIndex(r)]=o}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Ai;let o=0;for(const a of this.codewords){if(a==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,a.getRowNumber(),a.getValue())}return r.toString()}}mi.MAX_NEARBY_DISTANCE=5;class gi{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let o=this.values.get(r);o==null&&(o=0),o++,this.values.set(r,o)}getValue(){let r=-1,o=new Array;for(const[a,d]of this.values.entries()){const f={getKey:()=>a,getValue:()=>d};f.getValue()>r?(r=f.getValue(),o=[],o.push(f.getKey())):f.getValue()===r&&o.push(f.getKey())}return Rt.toIntArray(o)}getConfidence(r){return this.values.get(r)}}class ki extends mi{constructor(r,o){super(r),this._isLeft=o}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,r);let a=this.getBoundingBox(),d=this._isLeft?a.getTopLeft():a.getTopRight(),f=this._isLeft?a.getBottomLeft():a.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),v=this.imageRowToCodewordIndex(Math.trunc(f.getY())),A=-1,I=1,j=0;for(let W=p;W<v;W++){if(o[W]==null)continue;let Y=o[W],ie=Y.getRowNumber()-A;if(ie===0)j++;else if(ie===1)I=Math.max(I,j),j=1,A=Y.getRowNumber();else if(ie<0||Y.getRowNumber()>=r.getRowCount()||ie>W)o[W]=null;else{let fe;I>2?fe=(I-2)*ie:fe=ie;let pe=fe>=W;for(let ye=1;ye<=fe&&!pe;ye++)pe=o[W-ye]!=null;pe?o[W]=null:(A=Y.getRowNumber(),j=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let o=new Int32Array(r.getRowCount());for(let a of this.getCodewords())if(a!=null){let d=a.getRowNumber();if(d>=o.length)continue;o[d]++}return o}adjustIncompleteIndicatorColumnRowNumbers(r){let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),d=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),v=this.getCodewords(),A=-1;for(let I=f;I<p;I++){if(v[I]==null)continue;let j=v[I];j.setRowNumberAsRowIndicatorColumn();let W=j.getRowNumber()-A;W===0||(W===1?A=j.getRowNumber():j.getRowNumber()>=r.getRowCount()?v[I]=null:A=j.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),o=new gi,a=new gi,d=new gi,f=new gi;for(let v of r){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let A=v.getValue()%30,I=v.getRowNumber();switch(this._isLeft||(I+=2),I%3){case 0:a.setValue(A*3+1);break;case 1:f.setValue(A/3),d.setValue(A%3);break;case 2:o.setValue(A+1);break}}if(o.getValue().length===0||a.getValue().length===0||d.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+d.getValue()[0]<Rt.MIN_ROWS_IN_BARCODE||a.getValue()[0]+d.getValue()[0]>Rt.MAX_ROWS_IN_BARCODE)return null;let p=new ks(o.getValue()[0],a.getValue()[0],d.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(r,p),p}removeIncorrectCodewords(r,o){for(let a=0;a<r.length;a++){let d=r[a];if(r[a]==null)continue;let f=d.getValue()%30,p=d.getRowNumber();if(p>o.getRowCount()){r[a]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:f*3+1!==o.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(f/3)!==o.getErrorCorrectionLevel()||f%3!==o.getRowCountLowerPart())&&(r[a]=null);break;case 2:f+1!==o.getColumnCount()&&(r[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ls{constructor(r,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Rt.MAX_CODEWORDS_IN_BARCODE,o;do o=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let a=this.detectionResultColumns[o].getCodewords();for(let d=0;d<a.length;d++)a[d]!=null&&(a[d].hasValidRowNumber()||this.adjustRowNumbers(o,d,a))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++)if(r[a]!=null&&o[a]!=null&&r[a].getRowNumber()===o[a].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let f=this.detectionResultColumns[d].getCodewords()[a];f!=null&&(f.setRowNumber(r[a].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<o.length;a++){if(o[a]==null)continue;let d=o[a].getRowNumber(),f=0;for(let p=this.barcodeColumnCount+1;p>0&&f<this.ADJUST_ROW_NUMBER_SKIP;p--){let v=this.detectionResultColumns[p].getCodewords()[a];v!=null&&(f=Ls.adjustRowNumberIfValid(d,f,v),v.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,o=this.detectionResultColumns[0].getCodewords();for(let a=0;a<o.length;a++){if(o[a]==null)continue;let d=o[a].getRowNumber(),f=0;for(let p=1;p<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;p++){let v=this.detectionResultColumns[p].getCodewords()[a];v!=null&&(f=Ls.adjustRowNumberIfValid(d,f,v),v.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,o,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(r)?(a.setRowNumber(r),o=0):++o),o}adjustRowNumbers(r,o,a){if(!this.detectionResultColumns[r-1])return;let d=a[o],f=this.detectionResultColumns[r-1].getCodewords(),p=f;this.detectionResultColumns[r+1]!=null&&(p=this.detectionResultColumns[r+1].getCodewords());let v=new Array(14);v[2]=f[o],v[3]=p[o],o>0&&(v[0]=a[o-1],v[4]=f[o-1],v[5]=p[o-1]),o>1&&(v[8]=a[o-2],v[10]=f[o-2],v[11]=p[o-2]),o<a.length-1&&(v[1]=a[o+1],v[6]=f[o+1],v[7]=p[o+1]),o<a.length-2&&(v[9]=a[o+2],v[12]=f[o+2],v[13]=p[o+2]);for(let A of v)if(Ls.adjustRowNumber(d,A))return}static adjustRowNumber(r,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===r.getBucket()?(r.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,o){this.detectionResultColumns[r]=o}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Ai;for(let a=0;a<r.getCodewords().length;a++){o.format("CW %3d:",a);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){o.format("    |   ");continue}let f=this.detectionResultColumns[d].getCodewords()[a];if(f==null){o.format("    |   ");continue}o.format(" %3d|%3d",f.getRowNumber(),f.getValue())}o.format("%n")}return o.toString()}}class gs{constructor(r,o,a,d){this.rowNumber=gs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(o),this.bucket=Math.trunc(a),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==gs.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}gs.BARCODE_ROW_UNKNOWN=-1;class $n{static initialize(){for(let r=0;r<Rt.SYMBOL_TABLE.length;r++){let o=Rt.SYMBOL_TABLE[r],a=o&1;for(let d=0;d<Rt.BARS_IN_MODULE;d++){let f=0;for(;(o&1)===a;)f+=1,o>>=1;a=o&1,$n.RATIOS_TABLE[r]||($n.RATIOS_TABLE[r]=new Array(Rt.BARS_IN_MODULE)),$n.RATIOS_TABLE[r][Rt.BARS_IN_MODULE-d-1]=Math.fround(f/Rt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let o=$n.getDecodedCodewordValue($n.sampleBitCounts(r));return o!==-1?o:$n.getClosestDecodedValue(r)}static sampleBitCounts(r){let o=it.sum(r),a=new Int32Array(Rt.BARS_IN_MODULE),d=0,f=0;for(let p=0;p<Rt.MODULES_IN_CODEWORD;p++){let v=o/(2*Rt.MODULES_IN_CODEWORD)+p*o/Rt.MODULES_IN_CODEWORD;f+r[d]<=v&&(f+=r[d],d++),a[d]++}return a}static getDecodedCodewordValue(r){let o=$n.getBitValue(r);return Rt.getCodeword(o)===-1?-1:o}static getBitValue(r){let o=0;for(let a=0;a<r.length;a++)for(let d=0;d<r[a];d++)o=o<<1|(a%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(r){let o=it.sum(r),a=new Array(Rt.BARS_IN_MODULE);if(o>1)for(let p=0;p<a.length;p++)a[p]=Math.fround(r[p]/o);let d=on.MAX_VALUE,f=-1;this.bSymbolTableReady||$n.initialize();for(let p=0;p<$n.RATIOS_TABLE.length;p++){let v=0,A=$n.RATIOS_TABLE[p];for(let I=0;I<Rt.BARS_IN_MODULE;I++){let j=Math.fround(A[I]-a[I]);if(v+=Math.fround(j*j),v>=d)break}v<d&&(d=v,f=Rt.SYMBOL_TABLE[p])}return f}}$n.bSymbolTableReady=!1,$n.RATIOS_TABLE=new Array(Rt.SYMBOL_TABLE.length).map(H=>new Array(Rt.BARS_IN_MODULE));class lo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class co{static parseLong(r,o=void 0){return parseInt(r,o)}}class ti extends g{}ti.kind="NullPointerException";class ko{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,o,a){if(r==null)throw new ti;if(o<0||o>r.length||a<0||o+a>r.length||o+a<0)throw new F;if(a===0)return;for(let d=0;d<a;d++)this.write(r[o+d])}flush(){}close(){}}class xs extends g{}class fl extends ko{constructor(r=32){if(super(),this.count=0,r<0)throw new E("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let a=this.buf.length<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new xs;a=U.MAX_VALUE}this.buf=z.copyOfUint8Array(this.buf,a)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,o,a){if(o<0||o>r.length||a<0||o+a-r.length>0)throw new F;this.ensureCapacity(this.count+a),k.arraycopy(r,o,this.buf,this.count,a),this.count+=a}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return z.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var hn;(function(H){H[H.ALPHA=0]="ALPHA",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.PUNCT=3]="PUNCT",H[H.ALPHA_SHIFT=4]="ALPHA_SHIFT",H[H.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(hn||(hn={}));function Li(){if(typeof window<"u")return window.BigInt||null;if(typeof Sd<"u")return Sd.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let js;function Yn(H){if(typeof js>"u"&&(js=Li()),js===null)throw new Error("BigInt is not supported!");return js(H)}function Ji(){let H=[];H[0]=Yn(1);let r=Yn(900);H[1]=r;for(let o=2;o<16;o++)H[o]=H[o-1]*r;return H}class _e{static decode(r,o){let a=new X(""),d=B.ISO8859_1;a.enableDecoding(d);let f=1,p=r[f++],v=new lo;for(;f<r[0];){switch(p){case _e.TEXT_COMPACTION_MODE_LATCH:f=_e.textCompaction(r,f,a);break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:f=_e.byteCompaction(p,r,d,f,a);break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f++]);break;case _e.NUMERIC_COMPACTION_MODE_LATCH:f=_e.numericCompaction(r,f,a);break;case _e.ECI_CHARSET:B.getCharacterSetECIByValue(r[f++]);break;case _e.ECI_GENERAL_PURPOSE:f+=2;break;case _e.ECI_USER_DEFINED:f++;break;case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=_e.decodeMacroBlock(r,f,v);break;case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:throw new P;default:f--,f=_e.textCompaction(r,f,a);break}if(f<r.length)p=r[f++];else throw P.getFormatInstance()}if(a.length()===0)throw P.getFormatInstance();let A=new Ue(null,a.toString(),null,o);return A.setOther(v),A}static decodeMacroBlock(r,o,a){if(o+_e.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw P.getFormatInstance();let d=new Int32Array(_e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<_e.NUMBER_OF_SEQUENCE_CODEWORDS;v++,o++)d[v]=r[o];a.setSegmentIndex(U.parseInt(_e.decodeBase900toBase10(d,_e.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new X;o=_e.textCompaction(r,o,f),a.setFileId(f.toString());let p=-1;for(r[o]===_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=o+1);o<r[0];)switch(r[o]){case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,r[o]){case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new X;o=_e.textCompaction(r,o+1,v),a.setFileName(v.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let A=new X;o=_e.textCompaction(r,o+1,A),a.setSender(A.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let I=new X;o=_e.textCompaction(r,o+1,I),a.setAddressee(I.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new X;o=_e.numericCompaction(r,o+1,j),a.setSegmentCount(U.parseInt(j.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let W=new X;o=_e.numericCompaction(r,o+1,W),a.setTimestamp(co.parseLong(W.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Y=new X;o=_e.numericCompaction(r,o+1,Y),a.setChecksum(U.parseInt(Y.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ie=new X;o=_e.numericCompaction(r,o+1,ie),a.setFileSize(co.parseLong(ie.toString()));break;default:throw P.getFormatInstance()}break;case _e.MACRO_PDF417_TERMINATOR:o++,a.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(p!==-1){let v=o-p;a.isLastSegment()&&v--,a.setOptionalData(z.copyOfRange(r,p,p+v))}return o}static textCompaction(r,o,a){let d=new Int32Array((r[0]-o)*2),f=new Int32Array((r[0]-o)*2),p=0,v=!1;for(;o<r[0]&&!v;){let A=r[o++];if(A<_e.TEXT_COMPACTION_MODE_LATCH)d[p]=A/30,d[p+1]=A%30,p+=2;else switch(A){case _e.TEXT_COMPACTION_MODE_LATCH:d[p++]=_e.TEXT_COMPACTION_MODE_LATCH;break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:o--,v=!0;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[p]=_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=r[o++],f[p]=A,p++;break}}return _e.decodeTextCompaction(d,f,p,a),o}static decodeTextCompaction(r,o,a,d){let f=hn.ALPHA,p=hn.ALPHA,v=0;for(;v<a;){let A=r[v],I="";switch(f){case hn.ALPHA:if(A<26)I=String.fromCharCode(65+A);else switch(A){case 26:I=" ";break;case _e.LL:f=hn.LOWER;break;case _e.ML:f=hn.MIXED;break;case _e.PS:p=f,f=hn.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:f=hn.ALPHA;break}break;case hn.LOWER:if(A<26)I=String.fromCharCode(97+A);else switch(A){case 26:I=" ";break;case _e.AS:p=f,f=hn.ALPHA_SHIFT;break;case _e.ML:f=hn.MIXED;break;case _e.PS:p=f,f=hn.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:f=hn.ALPHA;break}break;case hn.MIXED:if(A<_e.PL)I=_e.MIXED_CHARS[A];else switch(A){case _e.PL:f=hn.PUNCT;break;case 26:I=" ";break;case _e.LL:f=hn.LOWER;break;case _e.AL:f=hn.ALPHA;break;case _e.PS:p=f,f=hn.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:f=hn.ALPHA;break}break;case hn.PUNCT:if(A<_e.PAL)I=_e.PUNCT_CHARS[A];else switch(A){case _e.PAL:f=hn.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:f=hn.ALPHA;break}break;case hn.ALPHA_SHIFT:if(f=p,A<26)I=String.fromCharCode(65+A);else switch(A){case 26:I=" ";break;case _e.TEXT_COMPACTION_MODE_LATCH:f=hn.ALPHA;break}break;case hn.PUNCT_SHIFT:if(f=p,A<_e.PAL)I=_e.PUNCT_CHARS[A];else switch(A){case _e.PAL:f=hn.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[v]);break;case _e.TEXT_COMPACTION_MODE_LATCH:f=hn.ALPHA;break}break}I!==""&&d.append(I),v++}}static byteCompaction(r,o,a,d,f){let p=new fl,v=0,A=0,I=!1;switch(r){case _e.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),W=o[d++];for(;d<o[0]&&!I;)switch(j[v++]=W,A=900*A+W,W=o[d++],W){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:d--,I=!0;break;default:if(v%5===0&&v>0){for(let Y=0;Y<6;++Y)p.write(Number(Yn(A)>>Yn(8*(5-Y))));A=0,v=0}break}d===o[0]&&W<_e.TEXT_COMPACTION_MODE_LATCH&&(j[v++]=W);for(let Y=0;Y<v;Y++)p.write(j[Y]);break;case _e.BYTE_COMPACTION_MODE_LATCH_6:for(;d<o[0]&&!I;){let Y=o[d++];if(Y<_e.TEXT_COMPACTION_MODE_LATCH)v++,A=900*A+Y;else switch(Y){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:d--,I=!0;break}if(v%5===0&&v>0){for(let ie=0;ie<6;++ie)p.write(Number(Yn(A)>>Yn(8*(5-ie))));A=0,v=0}}break}return f.append(q.decode(p.toByteArray(),a)),d}static numericCompaction(r,o,a){let d=0,f=!1,p=new Int32Array(_e.MAX_NUMERIC_CODEWORDS);for(;o<r[0]&&!f;){let v=r[o++];if(o===r[0]&&(f=!0),v<_e.TEXT_COMPACTION_MODE_LATCH)p[d]=v,d++;else switch(v){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:o--,f=!0;break}(d%_e.MAX_NUMERIC_CODEWORDS===0||v===_e.NUMERIC_COMPACTION_MODE_LATCH||f)&&d>0&&(a.append(_e.decodeBase900toBase10(p,d)),d=0)}return o}static decodeBase900toBase10(r,o){let a=Yn(0);for(let f=0;f<o;f++)a+=_e.EXP900[o-f-1]*Yn(r[f]);let d=a.toString();if(d.charAt(0)!=="1")throw new P;return d.substring(1)}}_e.TEXT_COMPACTION_MODE_LATCH=900,_e.BYTE_COMPACTION_MODE_LATCH=901,_e.NUMERIC_COMPACTION_MODE_LATCH=902,_e.BYTE_COMPACTION_MODE_LATCH_6=924,_e.ECI_USER_DEFINED=925,_e.ECI_GENERAL_PURPOSE=926,_e.ECI_CHARSET=927,_e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,_e.MACRO_PDF417_TERMINATOR=922,_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,_e.MAX_NUMERIC_CODEWORDS=15,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,_e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,_e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,_e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,_e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,_e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,_e.PL=25,_e.LL=27,_e.AS=27,_e.ML=28,_e.AL=28,_e.PS=29,_e.PAL=29,_e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,_e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",_e.EXP900=Li()?Ji():[],_e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Vt{constructor(){}static decode(r,o,a,d,f,p,v){let A=new ms(r,o,a,d,f),I=null,j=null,W;for(let fe=!0;;fe=!1){if(o!=null&&(I=Vt.getRowIndicatorColumn(r,A,o,!0,p,v)),d!=null&&(j=Vt.getRowIndicatorColumn(r,A,d,!1,p,v)),W=Vt.merge(I,j),W==null)throw ne.getNotFoundInstance();let pe=W.getBoundingBox();if(fe&&pe!=null&&(pe.getMinY()<A.getMinY()||pe.getMaxY()>A.getMaxY()))A=pe;else break}W.setBoundingBox(A);let Y=W.getBarcodeColumnCount()+1;W.setDetectionResultColumn(0,I),W.setDetectionResultColumn(Y,j);let ie=I!=null;for(let fe=1;fe<=Y;fe++){let pe=ie?fe:Y-fe;if(W.getDetectionResultColumn(pe)!==void 0)continue;let ye;pe===0||pe===Y?ye=new ki(A,pe===0):ye=new mi(A),W.setDetectionResultColumn(pe,ye);let Me=-1,Ke=Me;for(let qe=A.getMinY();qe<=A.getMaxY();qe++){if(Me=Vt.getStartColumn(W,pe,qe,ie),Me<0||Me>A.getMaxX()){if(Ke===-1)continue;Me=Ke}let ze=Vt.detectCodeword(r,A.getMinX(),A.getMaxX(),ie,Me,qe,p,v);ze!=null&&(ye.setCodeword(qe,ze),Ke=Me,p=Math.min(p,ze.getWidth()),v=Math.max(v,ze.getWidth()))}}return Vt.createDecoderResult(W)}static merge(r,o){if(r==null&&o==null)return null;let a=Vt.getBarcodeMetadata(r,o);if(a==null)return null;let d=ms.merge(Vt.adjustBoundingBox(r),Vt.adjustBoundingBox(o));return new Ls(a,d)}static adjustBoundingBox(r){if(r==null)return null;let o=r.getRowHeights();if(o==null)return null;let a=Vt.getMax(o),d=0;for(let v of o)if(d+=a-v,v>0)break;let f=r.getCodewords();for(let v=0;d>0&&f[v]==null;v++)d--;let p=0;for(let v=o.length-1;v>=0&&(p+=a-o[v],!(o[v]>0));v--);for(let v=f.length-1;p>0&&f[v]==null;v--)p--;return r.getBoundingBox().addMissingRows(d,p,r.isLeft())}static getMax(r){let o=-1;for(let a of r)o=Math.max(o,a);return o}static getBarcodeMetadata(r,o){let a;if(r==null||(a=r.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let d;return o==null||(d=o.getBarcodeMetadata())==null?a:a.getColumnCount()!==d.getColumnCount()&&a.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&a.getRowCount()!==d.getRowCount()?null:a}static getRowIndicatorColumn(r,o,a,d,f,p){let v=new ki(o,d);for(let A=0;A<2;A++){let I=A===0?1:-1,j=Math.trunc(Math.trunc(a.getX()));for(let W=Math.trunc(Math.trunc(a.getY()));W<=o.getMaxY()&&W>=o.getMinY();W+=I){let Y=Vt.detectCodeword(r,0,r.getWidth(),d,j,W,f,p);Y!=null&&(v.setCodeword(W,Y),d?j=Y.getStartX():j=Y.getEndX())}}return v}static adjustCodewordCount(r,o){let a=o[0][1],d=a.getValue(),f=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Vt.getNumberOfECCodeWords(r.getBarcodeECLevel());if(d.length===0){if(f<1||f>Rt.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();a.setValue(f)}else d[0]!==f&&a.setValue(f)}static createDecoderResult(r){let o=Vt.createBarcodeMatrix(r);Vt.adjustCodewordCount(r,o);let a=new Array,d=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),f=[],p=new Array;for(let A=0;A<r.getBarcodeRowCount();A++)for(let I=0;I<r.getBarcodeColumnCount();I++){let j=o[A][I+1].getValue(),W=A*r.getBarcodeColumnCount()+I;j.length===0?a.push(W):j.length===1?d[W]=j[0]:(p.push(W),f.push(j))}let v=new Array(f.length);for(let A=0;A<v.length;A++)v[A]=f[A];return Vt.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),d,Rt.toIntArray(a),Rt.toIntArray(p),v)}static createDecoderResultFromAmbiguousValues(r,o,a,d,f){let p=new Int32Array(d.length),v=100;for(;v-- >0;){for(let A=0;A<p.length;A++)o[d[A]]=f[A][p[A]];try{return Vt.decodeCodewords(o,r,a)}catch(A){if(!(A instanceof R))throw A}if(p.length===0)throw R.getChecksumInstance();for(let A=0;A<p.length;A++)if(p[A]<f[A].length-1){p[A]++;break}else if(p[A]=0,A===p.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(r){let o=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let d=0;d<o.length;d++)for(let f=0;f<o[d].length;f++)o[d][f]=new gi;let a=0;for(let d of r.getDetectionResultColumns()){if(d!=null){for(let f of d.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=0){if(p>=o.length)continue;o[p][a].setValue(f.getValue())}}}a++}return o}static isValidBarcodeColumn(r,o){return o>=0&&o<=r.getBarcodeColumnCount()+1}static getStartColumn(r,o,a,d){let f=d?1:-1,p=null;if(Vt.isValidBarcodeColumn(r,o-f)&&(p=r.getDetectionResultColumn(o-f).getCodeword(a)),p!=null)return d?p.getEndX():p.getStartX();if(p=r.getDetectionResultColumn(o).getCodewordNearby(a),p!=null)return d?p.getStartX():p.getEndX();if(Vt.isValidBarcodeColumn(r,o-f)&&(p=r.getDetectionResultColumn(o-f).getCodewordNearby(a)),p!=null)return d?p.getEndX():p.getStartX();let v=0;for(;Vt.isValidBarcodeColumn(r,o-f);){o-=f;for(let A of r.getDetectionResultColumn(o).getCodewords())if(A!=null)return(d?A.getEndX():A.getStartX())+f*v*(A.getEndX()-A.getStartX());v++}return d?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,o,a,d,f,p,v,A){f=Vt.adjustCodewordStartColumn(r,o,a,d,f,p);let I=Vt.getModuleBitCount(r,o,a,d,f,p);if(I==null)return null;let j,W=it.sum(I);if(d)j=f+W;else{for(let fe=0;fe<I.length/2;fe++){let pe=I[fe];I[fe]=I[I.length-1-fe],I[I.length-1-fe]=pe}j=f,f=j-W}if(!Vt.checkCodewordSkew(W,v,A))return null;let Y=$n.getDecodedValue(I),ie=Rt.getCodeword(Y);return ie===-1?null:new gs(f,j,Vt.getCodewordBucketNumber(Y),ie)}static getModuleBitCount(r,o,a,d,f,p){let v=f,A=new Int32Array(8),I=0,j=d?1:-1,W=d;for(;(d?v<a:v>=o)&&I<A.length;)r.get(v,p)===W?(A[I]++,v+=j):(I++,W=!W);return I===A.length||v===(d?a:o)&&I===A.length-1?A:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,o,a,d,f,p){let v=f,A=d?-1:1;for(let I=0;I<2;I++){for(;(d?v>=o:v<a)&&d===r.get(v,p);){if(Math.abs(f-v)>Vt.CODEWORD_SKEW_SIZE)return f;v+=A}A=-A,d=!d}return v}static checkCodewordSkew(r,o,a){return o-Vt.CODEWORD_SKEW_SIZE<=r&&r<=a+Vt.CODEWORD_SKEW_SIZE}static decodeCodewords(r,o,a){if(r.length===0)throw P.getFormatInstance();let d=1<<o+1,f=Vt.correctErrors(r,a,d);Vt.verifyCodewordCount(r,d);let p=_e.decode(r,""+o);return p.setErrorsCorrected(f),p.setErasures(a.length),p}static correctErrors(r,o,a){if(o!=null&&o.length>a/2+Vt.MAX_ERRORS||a<0||a>Vt.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return Vt.errorCorrection.decode(r,a,o)}static verifyCodewordCount(r,o){if(r.length<4)throw P.getFormatInstance();let a=r[0];if(a>r.length)throw P.getFormatInstance();if(a===0)if(o<r.length)r[0]=r.length-o;else throw P.getFormatInstance()}static getBitCountForCodeword(r){let o=new Int32Array(8),a=0,d=o.length-1;for(;!((r&1)!==a&&(a=r&1,d--,d<0));)o[d]++,r>>=1;return o}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Vt.getCodewordBucketNumber(Vt.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let o=new Ai;for(let a=0;a<r.length;a++){o.format("Row %2d: ",a);for(let d=0;d<r[a].length;d++){let f=r[a][d];f.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}o.format("%n")}return o.toString()}}Vt.CODEWORD_SKEW_SIZE=2,Vt.MAX_ERRORS=3,Vt.MAX_EC_CODEWORDS=512,Vt.errorCorrection=new Ea;class er{decode(r,o=null){let a=er.decode(r,o,!1);if(a==null||a.length===0||a[0]==null)throw ne.getNotFoundInstance();return a[0]}decodeMultiple(r,o=null){try{return er.decode(r,o,!0)}catch(a){throw a instanceof P||a instanceof R?ne.getNotFoundInstance():a}}static decode(r,o,a){const d=new Array,f=Mt.detectMultiple(r,o,a);for(const p of f.getPoints()){const v=Vt.decode(f.getBits(),p[4],p[5],p[6],p[7],er.getMinCodewordWidth(p),er.getMaxCodewordWidth(p)),A=new Re(v.getText(),v.getRawBytes(),void 0,p,Ie.PDF_417);A.putMetadata(Fe.ERROR_CORRECTION_LEVEL,v.getECLevel());const I=v.getOther();I!=null&&A.putMetadata(Fe.PDF417_EXTRA_METADATA,I),d.push(A)}return d.map(p=>p)}static getMaxWidth(r,o){return r==null||o==null?0:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMinWidth(r,o){return r==null||o==null?U.MAX_VALUE:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(er.getMaxWidth(r[0],r[4]),er.getMaxWidth(r[6],r[2])*Rt.MODULES_IN_CODEWORD/Rt.MODULES_IN_STOP_PATTERN),Math.max(er.getMaxWidth(r[1],r[5]),er.getMaxWidth(r[7],r[3])*Rt.MODULES_IN_CODEWORD/Rt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(er.getMinWidth(r[0],r[4]),er.getMinWidth(r[6],r[2])*Rt.MODULES_IN_CODEWORD/Rt.MODULES_IN_STOP_PATTERN),Math.min(er.getMinWidth(r[1],r[5]),er.getMinWidth(r[7],r[3])*Rt.MODULES_IN_CODEWORD/Rt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ws extends g{}ws.kind="ReaderException";class uo{constructor(r,o){this.verbose=r===!0,o&&this.setHints(o)}decode(r,o){return o&&this.setHints(o),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const o=!i(r)&&r.get(le.TRY_HARDER)===!0,a=i(r)?null:r.get(le.POSSIBLE_FORMATS),d=new Array;if(!i(a)){const f=a.some(p=>p===Ie.UPC_A||p===Ie.UPC_E||p===Ie.EAN_13||p===Ie.EAN_8||p===Ie.CODABAR||p===Ie.CODE_39||p===Ie.CODE_93||p===Ie.CODE_128||p===Ie.ITF||p===Ie.RSS_14||p===Ie.RSS_EXPANDED);f&&!o&&d.push(new Vr(r,this.verbose)),a.includes(Ie.QR_CODE)&&d.push(new mr),a.includes(Ie.DATA_MATRIX)&&d.push(new Ur),a.includes(Ie.AZTEC)&&d.push(new Ir),a.includes(Ie.PDF_417)&&d.push(new er),f&&o&&d.push(new Vr(r,this.verbose))}d.length===0&&(o||d.push(new Vr(r,this.verbose)),d.push(new mr),d.push(new Ur),d.push(new Ir),d.push(new er),o&&d.push(new Vr(r,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new ws("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(r,this.hints)}catch(a){if(a instanceof ws)continue}throw new ne("No MultiFormat Readers were able to detect the code.")}}class xi extends ve{constructor(r=null,o=500){const a=new uo;a.setHints(r),super(a,o)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class fo extends ve{constructor(r=500){super(new er,r)}}class ba extends ve{constructor(r=500){super(new mr,r)}}var Lo;(function(H){H[H.ERROR_CORRECTION=0]="ERROR_CORRECTION",H[H.CHARACTER_SET=1]="CHARACTER_SET",H[H.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",H[H.MIN_SIZE=3]="MIN_SIZE",H[H.MAX_SIZE=4]="MAX_SIZE",H[H.MARGIN=5]="MARGIN",H[H.PDF417_COMPACT=6]="PDF417_COMPACT",H[H.PDF417_COMPACTION=7]="PDF417_COMPACTION",H[H.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",H[H.AZTEC_LAYERS=9]="AZTEC_LAYERS",H[H.QR_VERSION=10]="QR_VERSION"})(Lo||(Lo={}));var tr=Lo;class Hr{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Ve(r,Int32Array.from([1])))}buildGenerator(r){const o=this.cachedGenerators;if(r>=o.length){let a=o[o.length-1];const d=this.field;for(let f=o.length;f<=r;f++){const p=a.multiply(new Ve(d,Int32Array.from([1,d.exp(f-1+d.getGeneratorBase())])));o.push(p),a=p}}return o[r]}encode(r,o){if(o===0)throw new E("No error correction bytes");const a=r.length-o;if(a<=0)throw new E("No data bytes provided");const d=this.buildGenerator(o),f=new Int32Array(a);k.arraycopy(r,0,f,0,a);let p=new Ve(this.field,f);p=p.multiplyByMonomial(o,1);const A=p.divide(d)[1].getCoefficients(),I=o-A.length;for(let j=0;j<I;j++)r[a+j]=0;k.arraycopy(A,0,r,a+I,A.length)}}class On{constructor(){}static applyMaskPenaltyRule1(r){return On.applyMaskPenaltyRule1Internal(r,!0)+On.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let o=0;const a=r.getArray(),d=r.getWidth(),f=r.getHeight();for(let p=0;p<f-1;p++){const v=a[p];for(let A=0;A<d-1;A++){const I=v[A];I===v[A+1]&&I===a[p+1][A]&&I===a[p+1][A+1]&&o++}}return On.N2*o}static applyMaskPenaltyRule3(r){let o=0;const a=r.getArray(),d=r.getWidth(),f=r.getHeight();for(let p=0;p<f;p++)for(let v=0;v<d;v++){const A=a[p];v+6<d&&A[v]===1&&A[v+1]===0&&A[v+2]===1&&A[v+3]===1&&A[v+4]===1&&A[v+5]===0&&A[v+6]===1&&(On.isWhiteHorizontal(A,v-4,v)||On.isWhiteHorizontal(A,v+7,v+11))&&o++,p+6<f&&a[p][v]===1&&a[p+1][v]===0&&a[p+2][v]===1&&a[p+3][v]===1&&a[p+4][v]===1&&a[p+5][v]===0&&a[p+6][v]===1&&(On.isWhiteVertical(a,v,p-4,p)||On.isWhiteVertical(a,v,p+7,p+11))&&o++}return o*On.N3}static isWhiteHorizontal(r,o,a){o=Math.max(o,0),a=Math.min(a,r.length);for(let d=o;d<a;d++)if(r[d]===1)return!1;return!0}static isWhiteVertical(r,o,a,d){a=Math.max(a,0),d=Math.min(d,r.length);for(let f=a;f<d;f++)if(r[f][o]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let o=0;const a=r.getArray(),d=r.getWidth(),f=r.getHeight();for(let A=0;A<f;A++){const I=a[A];for(let j=0;j<d;j++)I[j]===1&&o++}const p=r.getHeight()*r.getWidth();return Math.floor(Math.abs(o*2-p)*10/p)*On.N4}static getDataMaskBit(r,o,a){let d,f;switch(r){case 0:d=a+o&1;break;case 1:d=a&1;break;case 2:d=o%3;break;case 3:d=(a+o)%3;break;case 4:d=Math.floor(a/2)+Math.floor(o/3)&1;break;case 5:f=a*o,d=(f&1)+f%3;break;case 6:f=a*o,d=(f&1)+f%3&1;break;case 7:f=a*o,d=f%3+(a+o&1)&1;break;default:throw new E("Invalid mask pattern: "+r)}return d===0}static applyMaskPenaltyRule1Internal(r,o){let a=0;const d=o?r.getHeight():r.getWidth(),f=o?r.getWidth():r.getHeight(),p=r.getArray();for(let v=0;v<d;v++){let A=0,I=-1;for(let j=0;j<f;j++){const W=o?p[v][j]:p[j][v];W===I?A++:(A>=5&&(a+=On.N1+(A-5)),A=1,I=W)}A>=5&&(a+=On.N1+(A-5))}return a}}On.N1=3,On.N2=3,On.N3=40,On.N4=10;class ho{constructor(r,o){this.width=r,this.height=o;const a=new Array(o);for(let d=0;d!==o;d++)a[d]=new Uint8Array(r);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(r,o){return this.bytes[o][r]}getArray(){return this.bytes}setNumber(r,o,a){this.bytes[o][r]=a}setBoolean(r,o,a){this.bytes[o][r]=a?1:0}clear(r){for(const o of this.bytes)z.fill(o,r)}equals(r){if(!(r instanceof ho))return!1;const o=r;if(this.width!==o.width||this.height!==o.height)return!1;for(let a=0,d=this.height;a<d;++a){const f=this.bytes[a],p=o.bytes[a];for(let v=0,A=this.width;v<A;++v)if(f[v]!==p[v])return!1}return!0}toString(){const r=new X;for(let o=0,a=this.height;o<a;++o){const d=this.bytes[o];for(let f=0,p=this.width;f<p;++f)switch(d[f]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class ni{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new X;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<ni.NUM_MASK_PATTERNS}}ni.NUM_MASK_PATTERNS=8;class C extends g{}C.kind="WriterException";class _{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,o,a,d,f){_.clearMatrix(f),_.embedBasicPatterns(a,f),_.embedTypeInfo(o,d,f),_.maybeEmbedVersionInfo(a,f),_.embedDataBits(r,d,f)}static embedBasicPatterns(r,o){_.embedPositionDetectionPatternsAndSeparators(o),_.embedDarkDotAtLeftBottomCorner(o),_.maybeEmbedPositionAdjustmentPatterns(r,o),_.embedTimingPatterns(o)}static embedTypeInfo(r,o,a){const d=new Z;_.makeTypeInfoBits(r,o,d);for(let f=0,p=d.getSize();f<p;++f){const v=d.get(d.getSize()-1-f),A=_.TYPE_INFO_COORDINATES[f],I=A[0],j=A[1];if(a.setBoolean(I,j,v),f<8){const W=a.getWidth()-f-1;a.setBoolean(W,8,v)}else{const Y=a.getHeight()-7+(f-8);a.setBoolean(8,Y,v)}}}static maybeEmbedVersionInfo(r,o){if(r.getVersionNumber()<7)return;const a=new Z;_.makeVersionInfoBits(r,a);let d=17;for(let f=0;f<6;++f)for(let p=0;p<3;++p){const v=a.get(d);d--,o.setBoolean(f,o.getHeight()-11+p,v),o.setBoolean(o.getHeight()-11+p,f,v)}}static embedDataBits(r,o,a){let d=0,f=-1,p=a.getWidth()-1,v=a.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);v>=0&&v<a.getHeight();){for(let A=0;A<2;++A){const I=p-A;if(!_.isEmpty(a.get(I,v)))continue;let j;d<r.getSize()?(j=r.get(d),++d):j=!1,o!==255&&On.getDataMaskBit(o,I,v)&&(j=!j),a.setBoolean(I,v,j)}v+=f}f=-f,v+=f,p-=2}if(d!==r.getSize())throw new C("Not all bits consumed: "+d+"/"+r.getSize())}static findMSBSet(r){return 32-U.numberOfLeadingZeros(r)}static calculateBCHCode(r,o){if(o===0)throw new E("0 polynomial");const a=_.findMSBSet(o);for(r<<=a-1;_.findMSBSet(r)>=a;)r^=o<<_.findMSBSet(r)-a;return r}static makeTypeInfoBits(r,o,a){if(!ni.isValidMaskPattern(o))throw new C("Invalid mask pattern");const d=r.getBits()<<3|o;a.appendBits(d,5);const f=_.calculateBCHCode(d,_.TYPE_INFO_POLY);a.appendBits(f,10);const p=new Z;if(p.appendBits(_.TYPE_INFO_MASK_PATTERN,15),a.xor(p),a.getSize()!==15)throw new C("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(r,o){o.appendBits(r.getVersionNumber(),6);const a=_.calculateBCHCode(r.getVersionNumber(),_.VERSION_INFO_POLY);if(o.appendBits(a,12),o.getSize()!==18)throw new C("should not happen but we got: "+o.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let o=8;o<r.getWidth()-8;++o){const a=(o+1)%2;_.isEmpty(r.get(o,6))&&r.setNumber(o,6,a),_.isEmpty(r.get(6,o))&&r.setNumber(6,o,a)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new C;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,o,a){for(let d=0;d<8;++d){if(!_.isEmpty(a.get(r+d,o)))throw new C;a.setNumber(r+d,o,0)}}static embedVerticalSeparationPattern(r,o,a){for(let d=0;d<7;++d){if(!_.isEmpty(a.get(r,o+d)))throw new C;a.setNumber(r,o+d,0)}}static embedPositionAdjustmentPattern(r,o,a){for(let d=0;d<5;++d){const f=_.POSITION_ADJUSTMENT_PATTERN[d];for(let p=0;p<5;++p)a.setNumber(r+p,o+d,f[p])}}static embedPositionDetectionPattern(r,o,a){for(let d=0;d<7;++d){const f=_.POSITION_DETECTION_PATTERN[d];for(let p=0;p<7;++p)a.setNumber(r+p,o+d,f[p])}}static embedPositionDetectionPatternsAndSeparators(r){const o=_.POSITION_DETECTION_PATTERN[0].length;_.embedPositionDetectionPattern(0,0,r),_.embedPositionDetectionPattern(r.getWidth()-o,0,r),_.embedPositionDetectionPattern(0,r.getWidth()-o,r);const a=8;_.embedHorizontalSeparationPattern(0,a-1,r),_.embedHorizontalSeparationPattern(r.getWidth()-a,a-1,r),_.embedHorizontalSeparationPattern(0,r.getWidth()-a,r);const d=7;_.embedVerticalSeparationPattern(d,0,r),_.embedVerticalSeparationPattern(r.getHeight()-d-1,0,r),_.embedVerticalSeparationPattern(d,r.getHeight()-d,r)}static maybeEmbedPositionAdjustmentPatterns(r,o){if(r.getVersionNumber()<2)return;const a=r.getVersionNumber()-1,d=_.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let f=0,p=d.length;f!==p;f++){const v=d[f];if(v>=0)for(let A=0;A!==p;A++){const I=d[A];I>=0&&_.isEmpty(o.get(I,v))&&_.embedPositionAdjustmentPattern(I-2,v-2,o)}}}}_.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),_.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),_.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),_.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),_.VERSION_INFO_POLY=7973,_.TYPE_INFO_POLY=1335,_.TYPE_INFO_MASK_PATTERN=21522;class V{constructor(r,o){this.dataBytes=r,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Q{constructor(){}static calculateMaskPenalty(r){return On.applyMaskPenaltyRule1(r)+On.applyMaskPenaltyRule2(r)+On.applyMaskPenaltyRule3(r)+On.applyMaskPenaltyRule4(r)}static encode(r,o,a=null){let d=Q.DEFAULT_BYTE_MODE_ENCODING;const f=a!==null&&a.get(tr.CHARACTER_SET)!==void 0;f&&(d=a.get(tr.CHARACTER_SET).toString());const p=this.chooseMode(r,d),v=new Z;if(p===At.BYTE&&(f||Q.DEFAULT_BYTE_MODE_ENCODING!==d)){const qe=B.getCharacterSetECIByName(d);qe!==void 0&&this.appendECI(qe,v)}this.appendModeInfo(p,v);const A=new Z;this.appendBytes(r,p,A,d);let I;if(a!==null&&a.get(tr.QR_VERSION)!==void 0){const qe=Number.parseInt(a.get(tr.QR_VERSION).toString(),10);I=bt.getVersionForNumber(qe);const ze=this.calculateBitsNeeded(p,v,A,I);if(!this.willFit(ze,I,o))throw new C("Data too big for requested version")}else I=this.recommendVersion(o,p,v,A);const j=new Z;j.appendBitArray(v);const W=p===At.BYTE?A.getSizeInBytes():r.length;this.appendLengthInfo(W,I,p,j),j.appendBitArray(A);const Y=I.getECBlocksForLevel(o),ie=I.getTotalCodewords()-Y.getTotalECCodewords();this.terminateBits(ie,j);const fe=this.interleaveWithECBytes(j,I.getTotalCodewords(),ie,Y.getNumBlocks()),pe=new ni;pe.setECLevel(o),pe.setMode(p),pe.setVersion(I);const ye=I.getDimensionForVersion(),Me=new ho(ye,ye),Ke=this.chooseMaskPattern(fe,o,I,Me);return pe.setMaskPattern(Ke),_.buildMatrix(fe,o,I,Ke,Me),pe.setMatrix(Me),pe}static recommendVersion(r,o,a,d){const f=this.calculateBitsNeeded(o,a,d,bt.getVersionForNumber(1)),p=this.chooseVersion(f,r),v=this.calculateBitsNeeded(o,a,d,p);return this.chooseVersion(v,r)}static calculateBitsNeeded(r,o,a,d){return o.getSize()+r.getCharacterCountBits(d)+a.getSize()}static getAlphanumericCode(r){return r<Q.ALPHANUMERIC_TABLE.length?Q.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,o=null){if(B.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(r))return At.KANJI;let a=!1,d=!1;for(let f=0,p=r.length;f<p;++f){const v=r.charAt(f);if(Q.isDigit(v))a=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)d=!0;else return At.BYTE}return d?At.ALPHANUMERIC:a?At.NUMERIC:At.BYTE}static isOnlyDoubleByteKanji(r){let o;try{o=q.encode(r,B.SJIS)}catch{return!1}const a=o.length;if(a%2!==0)return!1;for(let d=0;d<a;d+=2){const f=o[d]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(r,o,a,d){let f=Number.MAX_SAFE_INTEGER,p=-1;for(let v=0;v<ni.NUM_MASK_PATTERNS;v++){_.buildMatrix(r,o,a,v,d);let A=this.calculateMaskPenalty(d);A<f&&(f=A,p=v)}return p}static chooseVersion(r,o){for(let a=1;a<=40;a++){const d=bt.getVersionForNumber(a);if(Q.willFit(r,d,o))return d}throw new C("Data too big")}static willFit(r,o,a){const d=o.getTotalCodewords(),p=o.getECBlocksForLevel(a).getTotalECCodewords(),v=d-p,A=(r+7)/8;return v>=A}static terminateBits(r,o){const a=r*8;if(o.getSize()>a)throw new C("data bits cannot fit in the QR Code"+o.getSize()+" > "+a);for(let p=0;p<4&&o.getSize()<a;++p)o.appendBit(!1);const d=o.getSize()&7;if(d>0)for(let p=d;p<8;p++)o.appendBit(!1);const f=r-o.getSizeInBytes();for(let p=0;p<f;++p)o.appendBits((p&1)===0?236:17,8);if(o.getSize()!==a)throw new C("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,o,a,d,f,p){if(d>=a)throw new C("Block ID too large");const v=r%a,A=a-v,I=Math.floor(r/a),j=I+1,W=Math.floor(o/a),Y=W+1,ie=I-W,fe=j-Y;if(ie!==fe)throw new C("EC bytes mismatch");if(a!==A+v)throw new C("RS blocks mismatch");if(r!==(W+ie)*A+(Y+fe)*v)throw new C("Total bytes mismatch");d<A?(f[0]=W,p[0]=ie):(f[0]=Y,p[0]=fe)}static interleaveWithECBytes(r,o,a,d){if(r.getSizeInBytes()!==a)throw new C("Number of bits and data bytes does not match");let f=0,p=0,v=0;const A=new Array;for(let j=0;j<d;++j){const W=new Int32Array(1),Y=new Int32Array(1);Q.getNumDataBytesAndNumECBytesForBlockID(o,a,d,j,W,Y);const ie=W[0],fe=new Uint8Array(ie);r.toBytes(8*f,fe,0,ie);const pe=Q.generateECBytes(fe,Y[0]);A.push(new V(fe,pe)),p=Math.max(p,ie),v=Math.max(v,pe.length),f+=W[0]}if(a!==f)throw new C("Data bytes does not match offset");const I=new Z;for(let j=0;j<p;++j)for(const W of A){const Y=W.getDataBytes();j<Y.length&&I.appendBits(Y[j],8)}for(let j=0;j<v;++j)for(const W of A){const Y=W.getErrorCorrectionBytes();j<Y.length&&I.appendBits(Y[j],8)}if(o!==I.getSizeInBytes())throw new C("Interleaving error: "+o+" and "+I.getSizeInBytes()+" differ.");return I}static generateECBytes(r,o){const a=r.length,d=new Int32Array(a+o);for(let p=0;p<a;p++)d[p]=r[p]&255;new Hr(tt.QR_CODE_FIELD_256).encode(d,o);const f=new Uint8Array(o);for(let p=0;p<o;p++)f[p]=d[a+p];return f}static appendModeInfo(r,o){o.appendBits(r.getBits(),4)}static appendLengthInfo(r,o,a,d){const f=a.getCharacterCountBits(o);if(r>=1<<f)throw new C(r+" is bigger than "+((1<<f)-1));d.appendBits(r,f)}static appendBytes(r,o,a,d){switch(o){case At.NUMERIC:Q.appendNumericBytes(r,a);break;case At.ALPHANUMERIC:Q.appendAlphanumericBytes(r,a);break;case At.BYTE:Q.append8BitBytes(r,a,d);break;case At.KANJI:Q.appendKanjiBytes(r,a);break;default:throw new C("Invalid mode: "+o)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const o=Q.getDigit(r);return o>=0&&o<=9}static appendNumericBytes(r,o){const a=r.length;let d=0;for(;d<a;){const f=Q.getDigit(r.charAt(d));if(d+2<a){const p=Q.getDigit(r.charAt(d+1)),v=Q.getDigit(r.charAt(d+2));o.appendBits(f*100+p*10+v,10),d+=3}else if(d+1<a){const p=Q.getDigit(r.charAt(d+1));o.appendBits(f*10+p,7),d+=2}else o.appendBits(f,4),d++}}static appendAlphanumericBytes(r,o){const a=r.length;let d=0;for(;d<a;){const f=Q.getAlphanumericCode(r.charCodeAt(d));if(f===-1)throw new C;if(d+1<a){const p=Q.getAlphanumericCode(r.charCodeAt(d+1));if(p===-1)throw new C;o.appendBits(f*45+p,11),d+=2}else o.appendBits(f,6),d++}}static append8BitBytes(r,o,a){let d;try{d=q.encode(r,a)}catch(f){throw new C(f)}for(let f=0,p=d.length;f!==p;f++){const v=d[f];o.appendBits(v,8)}}static appendKanjiBytes(r,o){let a;try{a=q.encode(r,B.SJIS)}catch(f){throw new C(f)}const d=a.length;for(let f=0;f<d;f+=2){const p=a[f]&255,v=a[f+1]&255,A=p<<8&4294967295|v;let I=-1;if(A>=33088&&A<=40956?I=A-33088:A>=57408&&A<=60351&&(I=A-49472),I===-1)throw new C("Invalid byte sequence");const j=(I>>8)*192+(I&255);o.appendBits(j,13)}}static appendECI(r,o){o.appendBits(At.ECI.getBits(),4),o.appendBits(r.getValue(),8)}}Q.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Q.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class be{write(r,o,a,d=null){if(r.length===0)throw new E("Found empty contents");if(o<0||a<0)throw new E("Requested dimensions are too small: "+o+"x"+a);let f=Tn.L,p=be.QUIET_ZONE_SIZE;d!==null&&(d.get(tr.ERROR_CORRECTION)!==void 0&&(f=Tn.fromString(d.get(tr.ERROR_CORRECTION).toString())),d.get(tr.MARGIN)!==void 0&&(p=Number.parseInt(d.get(tr.MARGIN).toString(),10)));const v=Q.encode(r,f,d);return this.renderResult(v,o,a,p)}writeToDom(r,o,a,d,f=null){typeof r=="string"&&(r=document.querySelector(r));const p=this.write(o,a,d,f);r&&r.appendChild(p)}renderResult(r,o,a,d){const f=r.getMatrix();if(f===null)throw new tn;const p=f.getWidth(),v=f.getHeight(),A=p+d*2,I=v+d*2,j=Math.max(o,A),W=Math.max(a,I),Y=Math.min(Math.floor(j/A),Math.floor(W/I)),ie=Math.floor((j-p*Y)/2),fe=Math.floor((W-v*Y)/2),pe=this.createSVGElement(j,W);for(let ye=0,Me=fe;ye<v;ye++,Me+=Y)for(let Ke=0,qe=ie;Ke<p;Ke++,qe+=Y)if(f.get(Ke,ye)===1){const ze=this.createSvgRectElement(qe,Me,Y,Y);pe.appendChild(ze)}return pe}createSVGElement(r,o){const a=document.createElementNS(be.SVG_NS,"svg");return a.setAttributeNS(null,"height",r.toString()),a.setAttributeNS(null,"width",o.toString()),a}createSvgRectElement(r,o,a,d){const f=document.createElementNS(be.SVG_NS,"rect");return f.setAttributeNS(null,"x",r.toString()),f.setAttributeNS(null,"y",o.toString()),f.setAttributeNS(null,"height",a.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}be.QUIET_ZONE_SIZE=4,be.SVG_NS="http://www.w3.org/2000/svg";class De{encode(r,o,a,d,f){if(r.length===0)throw new E("Found empty contents");if(o!==Ie.QR_CODE)throw new E("Can only encode QR_CODE, but got "+o);if(a<0||d<0)throw new E(`Requested dimensions are too small: ${a}x${d}`);let p=Tn.L,v=De.QUIET_ZONE_SIZE;f!==null&&(f.get(tr.ERROR_CORRECTION)!==void 0&&(p=Tn.fromString(f.get(tr.ERROR_CORRECTION).toString())),f.get(tr.MARGIN)!==void 0&&(v=Number.parseInt(f.get(tr.MARGIN).toString(),10)));const A=Q.encode(r,p,f);return De.renderResult(A,a,d,v)}static renderResult(r,o,a,d){const f=r.getMatrix();if(f===null)throw new tn;const p=f.getWidth(),v=f.getHeight(),A=p+d*2,I=v+d*2,j=Math.max(o,A),W=Math.max(a,I),Y=Math.min(Math.floor(j/A),Math.floor(W/I)),ie=Math.floor((j-p*Y)/2),fe=Math.floor((W-v*Y)/2),pe=new Pe(j,W);for(let ye=0,Me=fe;ye<v;ye++,Me+=Y)for(let Ke=0,qe=ie;Ke<p;Ke++,qe+=Y)f.get(Ke,ye)===1&&pe.setRegion(qe,Me,Y,Y);return pe}}De.QUIET_ZONE_SIZE=4;class et{encode(r,o,a,d,f){let p;switch(o){case Ie.QR_CODE:p=new De;break;default:throw new E("No encoder available for format "+o)}return p.encode(r,o,a,d,f)}}class Pt extends oe{constructor(r,o,a,d,f,p,v,A){if(super(p,v),this.yuvData=r,this.dataWidth=o,this.dataHeight=a,this.left=d,this.top=f,d+p>o||f+v>a)throw new E("Crop rectangle does not fit within image data.");A&&this.reverseHorizontal(p,v)}getRow(r,o){if(r<0||r>=this.getHeight())throw new E("Requested row is outside the image: "+r);const a=this.getWidth();(o==null||o.length<a)&&(o=new Uint8ClampedArray(a));const d=(r+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,d,o,0,a),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.yuvData;const a=r*o,d=new Uint8ClampedArray(a);let f=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return k.arraycopy(this.yuvData,f,d,0,a),d;for(let p=0;p<o;p++){const v=p*r;k.arraycopy(this.yuvData,f,d,v,r),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(r,o,a,d){return new Pt(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+o,a,d,!1)}renderThumbnail(){const r=this.getWidth()/Pt.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Pt.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*o),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let p=0;p<o;p++){const v=p*r;for(let A=0;A<r;A++){const I=d[f+A*Pt.THUMBNAIL_SCALE_FACTOR]&255;a[v+A]=4278190080|I*65793}f+=this.dataWidth*Pt.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Pt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Pt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,o){const a=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<o;d++,f+=this.dataWidth){const p=f+r/2;for(let v=f,A=f+r-1;v<p;v++,A--){const I=a[v];a[v]=a[A],a[A]=I}}}invert(){return new ce(this)}}Pt.THUMBNAIL_SCALE_FACTOR=2;class Fn extends oe{constructor(r,o,a,d,f,p,v){if(super(o,a),this.dataWidth=d,this.dataHeight=f,this.left=p,this.top=v,r.BYTES_PER_ELEMENT===4){const A=o*a,I=new Uint8ClampedArray(A);for(let j=0;j<A;j++){const W=r[j],Y=W>>16&255,ie=W>>7&510,fe=W&255;I[j]=(Y+ie+fe)/4&255}this.luminances=I}else this.luminances=r;if(d===void 0&&(this.dataWidth=o),f===void 0&&(this.dataHeight=a),p===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+a>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(r,o){if(r<0||r>=this.getHeight())throw new E("Requested row is outside the image: "+r);const a=this.getWidth();(o==null||o.length<a)&&(o=new Uint8ClampedArray(a));const d=(r+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,d,o,0,a),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.luminances;const a=r*o,d=new Uint8ClampedArray(a);let f=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return k.arraycopy(this.luminances,f,d,0,a),d;for(let p=0;p<o;p++){const v=p*r;k.arraycopy(this.luminances,f,d,v,r),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(r,o,a,d){return new Fn(this.luminances,a,d,this.dataWidth,this.dataHeight,this.left+r,this.top+o)}invert(){return new ce(this)}}class In extends B{static forName(r){return this.getCharacterSetECIByName(r)}}class nr{}nr.ISO_8859_1=B.ISO8859_1;class wi{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class ji{static singletonList(r){return[r]}static min(r,o){return r.sort(o)[0]}}class es{constructor(r){this.previous=r}getPrevious(){return this.previous}}class Yr extends es{constructor(r,o,a){super(r),this.value=o,this.bitCount=a}appendTo(r,o){r.appendBits(this.value,this.bitCount)}add(r,o){return new Yr(this,r,o)}addBinaryShift(r,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yr(this,r,o)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+U.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Bs extends Yr{constructor(r,o,a){super(r,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=a}appendTo(r,o){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(o[this.binaryShiftStart+a],8)}addBinaryShift(r,o){return new Bs(this,r,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Sa(H,r,o){return new Bs(H,r,o)}function Aa(H,r,o){return new Yr(H,r,o)}const Qf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Fs=0,jo=1,Wr=2,Pu=3,Bi=4,Du=new Yr(null,0,0),hl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Mu(H){for(let r of H)z.fill(r,-1);return H[Fs][Bi]=0,H[jo][Bi]=0,H[jo][Fs]=28,H[Pu][Bi]=0,H[Wr][Bi]=0,H[Wr][Fs]=15,H}const fc=Mu(z.createInt32Array(6,6));class Zr{constructor(r,o,a,d){this.token=r,this.mode=o,this.binaryShiftByteCount=a,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,o){let a=this.bitCount,d=this.token;if(r!==this.mode){let p=hl[this.mode][r];d=Aa(d,p&65535,p>>16),a+=p>>16}let f=r===Wr?4:5;return d=Aa(d,o,f),new Zr(d,r,0,a+f)}shiftAndAppend(r,o){let a=this.token,d=this.mode===Wr?4:5;return a=Aa(a,fc[this.mode][r],d),a=Aa(a,o,5),new Zr(a,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(r){let o=this.token,a=this.mode,d=this.bitCount;if(this.mode===Bi||this.mode===Wr){let v=hl[a][Fs];o=Aa(o,v&65535,v>>16),d+=v>>16,a=Fs}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new Zr(o,a,this.binaryShiftByteCount+1,d+f);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(r+1)),p}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Sa(o,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Zr(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let o=this.bitCount+(hl[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?o+=Zr.calculateBinaryShiftCost(r)-Zr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(o+=10),o<=r.bitCount}toBitArray(r){let o=[];for(let d=this.endBinaryShift(r.length).token;d!==null;d=d.getPrevious())o.unshift(d);let a=new Z;for(const d of o)d.appendTo(a,r);return a}toString(){return ee.format("%s bits=%d bytes=%d",Qf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Zr.INITIAL_STATE=new Zr(Du,Fs,0,0);function Jf(H){const r=ee.getCharCode(" "),o=ee.getCharCode("."),a=ee.getCharCode(",");H[Fs][r]=1;const d=ee.getCharCode("Z"),f=ee.getCharCode("A");for(let Y=f;Y<=d;Y++)H[Fs][Y]=Y-f+2;H[jo][r]=1;const p=ee.getCharCode("z"),v=ee.getCharCode("a");for(let Y=v;Y<=p;Y++)H[jo][Y]=Y-v+2;H[Wr][r]=1;const A=ee.getCharCode("9"),I=ee.getCharCode("0");for(let Y=I;Y<=A;Y++)H[Wr][Y]=Y-I+2;H[Wr][a]=12,H[Wr][o]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Y=0;Y<j.length;Y++)H[Pu][ee.getCharCode(j[Y])]=Y;const W=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Y=0;Y<W.length;Y++)ee.getCharCode(W[Y])>0&&(H[Bi][ee.getCharCode(W[Y])]=Y);return H}const hc=Jf(z.createInt32Array(5,256));class Ta{constructor(r){this.text=r}encode(){const r=ee.getCharCode(" "),o=ee.getCharCode(`
`);let a=ji.singletonList(Zr.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let p,v=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case ee.getCharCode("\r"):p=v===o?2:0;break;case ee.getCharCode("."):p=v===r?3:0;break;case ee.getCharCode(","):p=v===r?4:0;break;case ee.getCharCode(":"):p=v===r?5:0;break;default:p=0}p>0?(a=Ta.updateStateListForPair(a,f,p),f++):a=this.updateStateListForChar(a,f)}return ji.min(a,(f,p)=>f.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,o){const a=[];for(let d of r)this.updateStateForChar(d,o,a);return Ta.simplifyStates(a)}updateStateForChar(r,o,a){let d=this.text[o]&255,f=hc[r.getMode()][d]>0,p=null;for(let v=0;v<=Bi;v++){let A=hc[v][d];if(A>0){if(p==null&&(p=r.endBinaryShift(o)),!f||v===r.getMode()||v===Wr){const I=p.latchAndAppend(v,A);a.push(I)}if(!f&&fc[r.getMode()][v]>=0){const I=p.shiftAndAppend(v,A);a.push(I)}}}if(r.getBinaryShiftByteCount()>0||hc[r.getMode()][d]===0){let v=r.addBinaryShiftChar(o);a.push(v)}}static updateStateListForPair(r,o,a){const d=[];for(let f of r)this.updateStateForPair(f,o,a,d);return this.simplifyStates(d)}static updateStateForPair(r,o,a,d){let f=r.endBinaryShift(o);if(d.push(f.latchAndAppend(Bi,a)),r.getMode()!==Bi&&d.push(f.shiftAndAppend(Bi,a)),a===3||a===4){let p=f.latchAndAppend(Wr,16-a).latchAndAppend(Wr,1);d.push(p)}if(r.getBinaryShiftByteCount()>0){let p=r.addBinaryShiftChar(o).addBinaryShiftChar(o+1);d.push(p)}}static simplifyStates(r){let o=[];for(const a of r){let d=!0;for(const f of o){if(f.isBetterThanOrEqualTo(a)){d=!1;break}a.isBetterThanOrEqualTo(f)&&(o=o.filter(p=>p!==f))}d&&o.push(a)}return o}}class pn{constructor(){}static encodeBytes(r){return pn.encode(r,pn.DEFAULT_EC_PERCENT,pn.DEFAULT_AZTEC_LAYERS)}static encode(r,o,a){let d=new Ta(r).encode(),f=U.truncDivision(d.getSize()*o,100)+11,p=d.getSize()+f,v,A,I,j,W;if(a!==pn.DEFAULT_AZTEC_LAYERS){if(v=a<0,A=Math.abs(a),A>(v?pn.MAX_NB_BITS_COMPACT:pn.MAX_NB_BITS))throw new E(ee.format("Illegal value %s for layers",a));I=pn.totalBitsInLayer(A,v),j=pn.WORD_SIZE[A];let ze=I-I%j;if(W=pn.stuffBits(d,j),W.getSize()+f>ze)throw new E("Data to large for user specified layer");if(v&&W.getSize()>j*64)throw new E("Data to large for user specified layer")}else{j=0,W=null;for(let ze=0;;ze++){if(ze>pn.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(v=ze<=3,A=v?ze+1:ze,I=pn.totalBitsInLayer(A,v),p>I)continue;(W==null||j!==pn.WORD_SIZE[A])&&(j=pn.WORD_SIZE[A],W=pn.stuffBits(d,j));let Qt=I-I%j;if(!(v&&W.getSize()>j*64)&&W.getSize()+f<=Qt)break}}let Y=pn.generateCheckWords(W,I,j),ie=W.getSize()/j,fe=pn.generateModeMessage(v,A,ie),pe=(v?11:14)+A*4,ye=new Int32Array(pe),Me;if(v){Me=pe;for(let ze=0;ze<ye.length;ze++)ye[ze]=ze}else{Me=pe+1+2*U.truncDivision(U.truncDivision(pe,2)-1,15);let ze=U.truncDivision(pe,2),Qt=U.truncDivision(Me,2);for(let zt=0;zt<ze;zt++){let ri=zt+U.truncDivision(zt,15);ye[ze-zt-1]=Qt-ri-1,ye[ze+zt]=Qt+ri+1}}let Ke=new Pe(Me);for(let ze=0,Qt=0;ze<A;ze++){let zt=(A-ze)*4+(v?9:12);for(let ri=0;ri<zt;ri++){let Fi=ri*2;for(let Sr=0;Sr<2;Sr++)Y.get(Qt+Fi+Sr)&&Ke.set(ye[ze*2+Sr],ye[ze*2+ri]),Y.get(Qt+zt*2+Fi+Sr)&&Ke.set(ye[ze*2+ri],ye[pe-1-ze*2-Sr]),Y.get(Qt+zt*4+Fi+Sr)&&Ke.set(ye[pe-1-ze*2-Sr],ye[pe-1-ze*2-ri]),Y.get(Qt+zt*6+Fi+Sr)&&Ke.set(ye[pe-1-ze*2-ri],ye[ze*2+Sr])}Qt+=zt*8}if(pn.drawModeMessage(Ke,v,Me,fe),v)pn.drawBullsEye(Ke,U.truncDivision(Me,2),5);else{pn.drawBullsEye(Ke,U.truncDivision(Me,2),7);for(let ze=0,Qt=0;ze<U.truncDivision(pe,2)-1;ze+=15,Qt+=16)for(let zt=U.truncDivision(Me,2)&1;zt<Me;zt+=2)Ke.set(U.truncDivision(Me,2)-Qt,zt),Ke.set(U.truncDivision(Me,2)+Qt,zt),Ke.set(zt,U.truncDivision(Me,2)-Qt),Ke.set(zt,U.truncDivision(Me,2)+Qt)}let qe=new wi;return qe.setCompact(v),qe.setSize(Me),qe.setLayers(A),qe.setCodeWords(ie),qe.setMatrix(Ke),qe}static drawBullsEye(r,o,a){for(let d=0;d<a;d+=2)for(let f=o-d;f<=o+d;f++)r.set(f,o-d),r.set(f,o+d),r.set(o-d,f),r.set(o+d,f);r.set(o-a,o-a),r.set(o-a+1,o-a),r.set(o-a,o-a+1),r.set(o+a,o-a),r.set(o+a,o-a+1),r.set(o+a,o+a-1)}static generateModeMessage(r,o,a){let d=new Z;return r?(d.appendBits(o-1,2),d.appendBits(a-1,6),d=pn.generateCheckWords(d,28,4)):(d.appendBits(o-1,5),d.appendBits(a-1,11),d=pn.generateCheckWords(d,40,4)),d}static drawModeMessage(r,o,a,d){let f=U.truncDivision(a,2);if(o)for(let p=0;p<7;p++){let v=f-3+p;d.get(p)&&r.set(v,f-5),d.get(p+7)&&r.set(f+5,v),d.get(20-p)&&r.set(v,f+5),d.get(27-p)&&r.set(f-5,v)}else for(let p=0;p<10;p++){let v=f-5+p+U.truncDivision(p,5);d.get(p)&&r.set(v,f-7),d.get(p+10)&&r.set(f+7,v),d.get(29-p)&&r.set(v,f+7),d.get(39-p)&&r.set(f-7,v)}}static generateCheckWords(r,o,a){let d=r.getSize()/a,f=new Hr(pn.getGF(a)),p=U.truncDivision(o,a),v=pn.bitsToWords(r,a,p);f.encode(v,p-d);let A=o%a,I=new Z;I.appendBits(0,A);for(const j of Array.from(v))I.appendBits(j,a);return I}static bitsToWords(r,o,a){let d=new Int32Array(a),f,p;for(f=0,p=r.getSize()/o;f<p;f++){let v=0;for(let A=0;A<o;A++)v|=r.get(f*o+A)?1<<o-A-1:0;d[f]=v}return d}static getGF(r){switch(r){case 4:return tt.AZTEC_PARAM;case 6:return tt.AZTEC_DATA_6;case 8:return tt.AZTEC_DATA_8;case 10:return tt.AZTEC_DATA_10;case 12:return tt.AZTEC_DATA_12;default:throw new E("Unsupported word size "+r)}}static stuffBits(r,o){let a=new Z,d=r.getSize(),f=(1<<o)-2;for(let p=0;p<d;p+=o){let v=0;for(let A=0;A<o;A++)(p+A>=d||r.get(p+A))&&(v|=1<<o-1-A);(v&f)===f?(a.appendBits(v&f,o),p--):(v&f)===0?(a.appendBits(v|1,o),p--):a.appendBits(v,o)}return a}static totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}pn.DEFAULT_EC_PERCENT=33,pn.DEFAULT_AZTEC_LAYERS=0,pn.MAX_NB_BITS=32,pn.MAX_NB_BITS_COMPACT=4,pn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ia{encode(r,o,a,d){return this.encodeWithHints(r,o,a,d,null)}encodeWithHints(r,o,a,d,f){let p=nr.ISO_8859_1,v=pn.DEFAULT_EC_PERCENT,A=pn.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(tr.CHARACTER_SET)&&(p=In.forName(f.get(tr.CHARACTER_SET).toString())),f.has(tr.ERROR_CORRECTION)&&(v=U.parseInt(f.get(tr.ERROR_CORRECTION).toString())),f.has(tr.AZTEC_LAYERS)&&(A=U.parseInt(f.get(tr.AZTEC_LAYERS).toString()))),Ia.encodeLayers(r,o,a,d,p,v,A)}static encodeLayers(r,o,a,d,f,p,v){if(o!==Ie.AZTEC)throw new E("Can only encode AZTEC, but got "+o);let A=pn.encode(ee.getBytes(r,f),p,v);return Ia.renderResult(A,a,d)}static renderResult(r,o,a){let d=r.getMatrix();if(d==null)throw new tn;let f=d.getWidth(),p=d.getHeight(),v=Math.max(o,f),A=Math.max(a,p),I=Math.min(v/f,A/p),j=(v-f*I)/2,W=(A-p*I)/2,Y=new Pe(v,A);for(let ie=0,fe=W;ie<p;ie++,fe+=I)for(let pe=0,ye=j;pe<f;pe++,ye+=I)d.get(pe,ie)&&Y.setRegion(ye,fe,I,I);return Y}}n.AbstractExpandedDecoder=st,n.ArgumentException=b,n.ArithmeticException=Ye,n.AztecCode=wi,n.AztecCodeReader=Ir,n.AztecCodeWriter=Ia,n.AztecDecoder=Zt,n.AztecDetector=or,n.AztecDetectorResult=ir,n.AztecEncoder=pn,n.AztecHighLevelEncoder=Ta,n.AztecPoint=un,n.BarcodeFormat=Ie,n.Binarizer=O,n.BinaryBitmap=T,n.BitArray=Z,n.BitMatrix=Pe,n.BitSource=qn,n.BrowserAztecCodeReader=hr,n.BrowserBarcodeReader=ei,n.BrowserCodeReader=ve,n.BrowserDatamatrixCodeReader=oo,n.BrowserMultiFormatReader=xi,n.BrowserPDF417Reader=fo,n.BrowserQRCodeReader=ba,n.BrowserQRCodeSvgWriter=be,n.CharacterSetECI=B,n.ChecksumException=R,n.Code128Reader=Xe,n.Code39Reader=En,n.DataMatrixDecodedBitStreamParser=Qn,n.DataMatrixReader=Ur,n.DecodeHintType=le,n.DecoderResult=Ue,n.DefaultGridSampler=$r,n.DetectorResult=Ln,n.EAN13Reader=ut,n.EncodeHintType=tr,n.Exception=g,n.FormatException=P,n.GenericGF=tt,n.GenericGFPoly=Ve,n.GlobalHistogramBinarizer=we,n.GridSampler=sr,n.GridSamplerInstance=mn,n.HTMLCanvasElementLuminanceSource=ue,n.HybridBinarizer=xe,n.ITFReader=Wt,n.IllegalArgumentException=E,n.IllegalStateException=tn,n.InvertedLuminanceSource=ce,n.LuminanceSource=oe,n.MathUtils=it,n.MultiFormatOneDReader=Vr,n.MultiFormatReader=uo,n.MultiFormatWriter=et,n.NotFoundException=ne,n.OneDReader=dn,n.PDF417DecodedBitStreamParser=_e,n.PDF417DecoderErrorCorrection=Ea,n.PDF417Reader=er,n.PDF417ResultMetadata=lo,n.PerspectiveTransform=jn,n.PlanarYUVLuminanceSource=Pt,n.QRCodeByteMatrix=ho,n.QRCodeDataMask=Ft,n.QRCodeDecodedBitStreamParser=Mn,n.QRCodeDecoderErrorCorrectionLevel=Tn,n.QRCodeDecoderFormatInformation=pr,n.QRCodeEncoder=Q,n.QRCodeEncoderQRCode=ni,n.QRCodeMaskUtil=On,n.QRCodeMatrixUtil=_,n.QRCodeMode=At,n.QRCodeReader=mr,n.QRCodeVersion=bt,n.QRCodeWriter=De,n.RGBLuminanceSource=Fn,n.RSS14Reader=yn,n.RSSExpandedReader=Be,n.ReaderException=ws,n.ReedSolomonDecoder=nn,n.ReedSolomonEncoder=Hr,n.ReedSolomonException=Je,n.Result=Re,n.ResultMetadataType=Fe,n.ResultPoint=rt,n.StringUtils=ee,n.UnsupportedOperationException=K,n.VideoInputDevice=J,n.WhiteRectangleDetector=Un,n.WriterException=C,n.ZXingArrays=z,n.ZXingCharset=In,n.ZXingInteger=U,n.ZXingStandardCharsets=nr,n.ZXingStringBuilder=X,n.ZXingStringEncoding=q,n.ZXingSystem=k,n.createAbstractExpandedDecoder=Xn,Object.defineProperty(n,"__esModule",{value:!0})}))})(Yc,Yc.exports)),Yc.exports}var ur=gL();const xL=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Iv=(function(){function e(t,n,i){if(this.formatMap=new Map([[ht.QR_CODE,ur.BarcodeFormat.QR_CODE],[ht.AZTEC,ur.BarcodeFormat.AZTEC],[ht.CODABAR,ur.BarcodeFormat.CODABAR],[ht.CODE_39,ur.BarcodeFormat.CODE_39],[ht.CODE_93,ur.BarcodeFormat.CODE_93],[ht.CODE_128,ur.BarcodeFormat.CODE_128],[ht.DATA_MATRIX,ur.BarcodeFormat.DATA_MATRIX],[ht.MAXICODE,ur.BarcodeFormat.MAXICODE],[ht.ITF,ur.BarcodeFormat.ITF],[ht.EAN_13,ur.BarcodeFormat.EAN_13],[ht.EAN_8,ur.BarcodeFormat.EAN_8],[ht.PDF_417,ur.BarcodeFormat.PDF_417],[ht.RSS_14,ur.BarcodeFormat.RSS_14],[ht.RSS_EXPANDED,ur.BarcodeFormat.RSS_EXPANDED],[ht.UPC_A,ur.BarcodeFormat.UPC_A],[ht.UPC_E,ur.BarcodeFormat.UPC_E],[ht.UPC_EAN_EXTENSION,ur.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!xL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var c=this.createZXingFormats(t),u=new Map;u.set(ur.DecodeHintType.POSSIBLE_FORMATS,c),u.set(ur.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,c){try{i(n.decode(t))}catch(u){c(u)}})},e.prototype.decode=function(t){var n=new ur.MultiFormatReader(this.verbose,this.hints),i=new ur.HTMLCanvasElementLuminanceSource(t),c=new ur.BinaryBitmap(new ur.HybridBinarizer(i)),u=n.decode(c);return{text:u.text,format:aE.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,c){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,c=t;i<c.length;i++){var u=c[i];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),wL=function(e,t,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function w(b){try{g(i.next(b))}catch(E){h(E)}}function y(b){try{g(i.throw(b))}catch(E){h(E)}}function g(b){b.done?u(b.value):c(b.value).then(w,y)}g((i=i.apply(e,t||[])).next())})},yL=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,c,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(b){return y([g,b])}}function y(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,c=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],c=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Nv=(function(){function e(t,n,i){if(this.formatMap=new Map([[ht.QR_CODE,"qr_code"],[ht.AZTEC,"aztec"],[ht.CODABAR,"codabar"],[ht.CODE_39,"code_39"],[ht.CODE_93,"code_93"],[ht.CODE_128,"code_128"],[ht.DATA_MATRIX,"data_matrix"],[ht.ITF,"itf"],[ht.EAN_13,"ean_13"],[ht.EAN_8,"ean_8"],[ht.PDF_417,"pdf417"],[ht.UPC_A,"upc_a"],[ht.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return wL(this,void 0,void 0,function(){var n,i;return yL(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=c.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:aE.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,c=0,u=t;c<u.length;c++){var h=u[c],w=h.boundingBox.width*h.boundingBox.height;w>i&&(i=w,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,c=t;i<c.length;i++){var u=c[i];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,c){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),Rv=function(e,t,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function w(b){try{g(i.next(b))}catch(E){h(E)}}function y(b){try{g(i.throw(b))}catch(E){h(E)}}function g(b){b.done?u(b.value):c(b.value).then(w,y)}g((i=i.apply(e,t||[])).next())})},_v=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,c,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(b){return y([g,b])}}function y(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,c=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],c=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},vL=(function(){function e(t,n,i,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Nv.isSupported()?(this.primaryDecoder=new Nv(t,i,c),this.secondaryDecoder=new Iv(t,i,c)):this.primaryDecoder=new Iv(t,i,c)}return e.prototype.decodeAsync=function(t){return Rv(this,void 0,void 0,function(){var n;return _v(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Rv(this,void 0,void 0,function(){var n,i;return _v(this,function(c){switch(c.label){case 0:n=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(i=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var c=i[n];t+=c}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),ag=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),If=function(e,t,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function w(b){try{g(i.next(b))}catch(E){h(E)}}function y(b){try{g(i.throw(b))}catch(E){h(E)}}function g(b){b.done?u(b.value):c(b.value).then(w,y)}g((i=i.apply(e,t||[])).next())})},Nf=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,c,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(b){return y([g,b])}}function y(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,c=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],c=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},cE=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),CL=(function(e){ag(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var c={advanced:[i]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(cE),EL=(function(e){ag(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(CL),bL=(function(e){ag(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(cE),SL=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new EL(this.track)},e.prototype.torchFeature=function(){return new bL(this.track)},e})(),AL=(function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,c),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,c){return If(this,void 0,void 0,function(){var u,h;return Nf(this,function(w){switch(w.label){case 0:return u=new e(t,n,c),i.aspectRatio?(h={aspectRatio:i.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:w.sent(),w.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return If(this,void 0,void 0,function(){return Nf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var c=t.mediaStream.getVideoTracks(),u=c.length,h=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++h,h>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new SL(this.getFirstTrackOrFail())},e})(),TL=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return If(this,void 0,void 0,function(){return Nf(this,function(c){return[2,AL.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return If(this,void 0,void 0,function(){var n,i;return Nf(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=c.sent(),[2,new e(i)]}})})},e})(),Pv=function(e,t,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function w(b){try{g(i.next(b))}catch(E){h(E)}}function y(b){try{g(i.throw(b))}catch(E){h(E)}}function g(b){b.done?u(b.value):c(b.value).then(w,y)}g((i=i.apply(e,t||[])).next())})},Dv=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,c,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(b){return y([g,b])}}function y(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,c=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],c=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},IL=(function(){function e(){}return e.failIfNotSupported=function(){return Pv(this,void 0,void 0,function(){return Dv(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Pv(this,void 0,void 0,function(){return Dv(this,function(n){return[2,TL.create(t)]})})},e})(),NL=function(e,t,n,i){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function w(b){try{g(i.next(b))}catch(E){h(E)}}function y(b){try{g(i.throw(b))}catch(E){h(E)}}function g(b){b.done?u(b.value):c(b.value).then(w,y)}g((i=i.apply(e,t||[])).next())})},RL=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,c,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(b){return y([g,b])}}function y(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,c&&(u=g[0]&2?c.return:g[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,g[1])).done)return u;switch(c=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,c=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],c=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},_L=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Hl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Hl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return NL(this,void 0,void 0,function(){var t,n,i,c,u,h,w;return RL(this,function(y){switch(y.label){case 0:return t=function(g){for(var b=g.getVideoTracks(),E=0,T=b;E<T.length;E++){var R=T[E];R.enabled=!1,R.stop(),g.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=y.sent(),c=[],u=0,h=i;u<h.length;u++)w=h[u],w.kind==="videoinput"&&c.push({id:w.deviceId,label:w.label});return t(n),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(u){for(var h=[],w=0,y=u;w<y.length;w++){var g=y[w];g.kind==="video"&&h.push({id:g.id,label:g.label})}t(h)},c=MediaStreamTrack;c.getSources(i)})},e})(),yr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(yr||(yr={}));var PL=(function(){function e(){this.state=yr.NOT_STARTED,this.onGoingTransactionNewState=yr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===yr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=yr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===yr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=yr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==yr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case yr.UNKNOWN:throw"Transition from unknown is not allowed";case yr.NOT_STARTED:this.failIfNewStateIs(t,[yr.PAUSED]);break;case yr.SCANNING:break;case yr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,c=n;i<c.length;i++){var u=c[i];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),DL=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===yr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==yr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===yr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===yr.PAUSED},e})(),ML=(function(){function e(){}return e.create=function(){return new DL(new PL)},e})(),OL=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,c){i.__proto__=c}||function(i,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Wi=(function(e){OL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(fL),kL=(function(){function e(t,n){this.logger=n,this.fps=Wi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Wi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?lE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ao(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),LL=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new pL(this.verbose),this.qrcode=new vL(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ML.create()}return e.prototype.start=function(t,n,i,c){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;c?h=c:h=this.verbose?this.logger.log:function(){};var w=kL.create(n,this.logger);this.clearElement();var y=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=y,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Wi.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var E=this,T=this.stateManagerProxy.startTransition(yr.SCANNING);return new Promise(function(R,O){var k=g?w.videoConstraints:E.createVideoConstraints(t);if(!k){T.cancel(),O("videoConstraints should be defined");return}var F={};(!g||w.aspectRatio)&&(F.aspectRatio=w.aspectRatio);var G={onRenderSurfaceReady:function(z,U){E.setupUi(z,U,w),E.isScanning=!0,E.foreverScan(w,i,h)}};IL.failIfNotSupported().then(function(z){z.create(k).then(function(U){return U.render(u.element,F,G).then(function(Z){E.renderedCamera=Z,T.execute(),R(null)}).catch(function(Z){T.cancel(),O(Z)})}).catch(function(U){T.cancel(),O(Hl.errorGettingUserMedia(U))})}).catch(function(z){T.cancel(),O(Hl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(yr.PAUSED),this.showPausedState(),(Ao(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(yr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(yr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var u=document.getElementById(Wi.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),i(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),n.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ao(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,u){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var w=h.width,y=h.height,g=document.getElementById(i.elementId),b=g.clientWidth?g.clientWidth:Wi.DEFAULT_WIDTH,E=Math.max(g.clientHeight?g.clientHeight:y,Wi.FILE_SCAN_MIN_HEIGHT),T=i.computeCanvasDrawConfig(w,y,b,E);if(n){var R=i.createCanvasElement(b,E,"qr-canvas-visible");R.style.display="inline-block",g.appendChild(R);var O=R.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=b,O.canvas.height=E,O.drawImage(h,0,0,w,y,T.x,T.y,T.width,T.height)}var k=Wi.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(h.width,T.width),G=Math.max(h.height,T.height),z=F+2*k,U=G+2*k,Z=i.createCanvasElement(z,U);g.appendChild(Z);var re=Z.getContext("2d");if(!re)throw"Unable to get 2d context from canvas";re.canvas.width=z,re.canvas.height=U,re.drawImage(h,0,0,w,y,k,k,F,G);try{i.qrcode.decodeRobustlyAsync(Z).then(function(le){c(Av.createFromQrcodeResult(le))}).catch(u)}catch(le){u("QR code parse error, error = ".concat(le))}},h.onerror=u,h.onabort=u,h.onstalled=u,h.onsuspend=u,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return _L.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!lE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ht.QR_CODE,ht.AZTEC,ht.CODABAR,ht.CODE_39,ht.CODE_93,ht.CODE_128,ht.DATA_MATRIX,ht.MAXICODE,ht.ITF,ht.EAN_13,ht.EAN_8,ht.PDF_417,ht.RSS_14,ht.RSS_EXPANDED,ht.UPC_A,ht.UPC_E,ht.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],c=0,u=t.formatsToSupport;c<u.length;c++){var h=u[c];dL(h)?i.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ao(t))return!0;if(!Ao(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ao(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Ao(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var c=this,u=i.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,n,u),w=function(g){if(g<Wi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wi.MIN_QR_BOX_SIZE,"px.")},y=function(g){return g>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};w(h.width),w(h.height),h.width=y(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var c=Ao(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(c);var u=this.toQrdimensions(t,n,c);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=i.isShadedBoxEnabled()&&u.height<=n,w={x:0,y:0,width:t,height:n},y=h?this.getShadedRegionBounds(t,n,u):w,g=this.createCanvasElement(y.width,y.height),b={willReadFrequently:!0},E=g.getContext("2d",b);E.canvas.width=y.width,E.canvas.height=y.height,this.element.append(g),h&&this.possiblyInsertShadingElement(this.element,t,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=E,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Hl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,Av.createFromQrcodeResult(c)),i.possiblyUpdateShaders(!0),!0}).catch(function(c){i.possiblyUpdateShaders(!1);var u=Hl.codeParseError(c);return n(u,hL.createFrom(u)),!1})},e.prototype.foreverScan=function(t,n,i){var c=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),h=u.videoWidth/u.clientWidth,w=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*h,g=this.qrRegion.height*w,b=this.qrRegion.x*h,E=this.qrRegion.y*w;this.context.drawImage(u,b,E,y,g,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,n,i)},c.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(R){!R&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(n,i).finally(function(){T()})):T()}).catch(function(R){c.logger.logError("Error happend while scanning context",R),T()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",c={user:!0,environment:!0},u="exact",h=function(O){if(O in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var y=Object.keys(t)[0];if(y!==n&&y!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(y===n){var g=t.facingMode;if(typeof g=="string"){if(h(g))return{facingMode:g}}else if(typeof g=="object")if(u in g){if(h(g["".concat(u)]))return{facingMode:{exact:g["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var b=typeof g;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var E=t.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(u in E)return{deviceId:{exact:E["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var T=typeof E;throw"Invalid type of 'deviceId' = ".concat(T)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},e.prototype.computeCanvasDrawConfig=function(t,n,i,c){if(t<=i&&n<=c){var u=(i-t)/2,h=(c-n)/2;return{x:u,y:h,width:t,height:n}}else{var w=t,y=n;return t>i&&(n=i/t*n,t=i),n>c&&(t=c/n*t,n=c),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(y)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Wi.BORDER_SHADER_MATCH_COLOR:Wi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var c=t,u=n,h=document.createElement("canvas");return h.style.width="".concat(c,"px"),h.style.height="".concat(u,"px"),h.style.display="none",h.id=Ao(i)?"qr-canvas":i,h},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,c){if(!(n-c.width<1||i-c.height<1)){var u=document.createElement("div");u.style.position="absolute";var h=(n-c.width)/2,w=(i-c.height)/2;if(u.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(Wi.SHADED_REGION_ELEMENT_ID),n-c.width<11||i-c.height<11)this.hasBorderShaders=!1;else{var y=5,g=40;this.insertShaderBorders(u,g,y,-y,null,0,!0),this.insertShaderBorders(u,g,y,-y,null,0,!1),this.insertShaderBorders(u,g,y,null,-y,0,!0),this.insertShaderBorders(u,g,y,null,-y,0,!1),this.insertShaderBorders(u,y,g+y,-y,null,-y,!0),this.insertShaderBorders(u,y,g+y,null,-y,-y,!0),this.insertShaderBorders(u,y,g+y,-y,null,-y,!1),this.insertShaderBorders(u,y,g+y,null,-y,-y,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,n,i,c,u,h,w){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=Wi.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(n,"px"),y.style.height="".concat(i,"px"),c!==null&&(y.style.top="".concat(c,"px")),u!==null&&(y.style.bottom="".concat(u,"px")),w?y.style.left="".concat(h,"px"):y.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),t.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),Mv;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Mv||(Mv={}));function jL({open:e,onOpenChange:t,onScan:n}){const i=M.useRef(null),c=`qr-scanner-${M.useId().replace(/:/g,"")}`;return M.useEffect(()=>{if(!e)return;const h=setTimeout(async()=>{if(document.getElementById(c))try{const y=new LL(c);i.current=y,await y.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},g=>{try{const b=JSON.parse(g);b&&typeof b.id=="string"&&(y.stop().catch(()=>{}),i.current=null,t(!1),n(b.id))}catch{}},()=>{})}catch(y){console.error("QR scanner start failed:",y),Zd.error("Could not open camera. Check permission or try again."),t(!1)}},100);return()=>{clearTimeout(h);const w=i.current;w&&(i.current=null,w.stop().then(()=>w.clear()).catch(()=>{}))}},[e,c,n,t]),x.jsx(al,{open:e,onOpenChange:t,children:x.jsxs(ll,{className:"max-w-[min(400px,90vw)]",bottomSheet:!0,children:[x.jsxs(cl,{children:[x.jsx(ul,{children:"Scan filament QR code"}),x.jsx(dl,{children:"Point your camera at a filament spool QR code to open it."})]}),x.jsx("div",{id:c,className:"rounded-lg overflow-hidden bg-black min-h-[240px] w-full"}),x.jsx(Ut,{variant:"outline",className:"w-full",onClick:()=>t(!1),children:"Cancel"})]})})}function Qa({className:e,style:t}){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",className:e,style:{width:"1em",height:"1em",...t},children:[x.jsxs("g",{clipPath:"url(#clip0_707_395)",children:[x.jsx("mask",{id:"mask0_707_395",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:"url(#mask0_707_395)",children:[x.jsx("path",{d:"M18 12.75H6C5.59 12.75 5.25 12.41 5.25 12C5.25 11.59 5.59 11.25 6 11.25H18C18.41 11.25 18.75 11.59 18.75 12C18.75 12.41 18.41 12.75 18 12.75Z",fill:"currentColor"}),x.jsx("path",{d:"M12 18.75C11.59 18.75 11.25 18.41 11.25 18V6C11.25 5.59 11.59 5.25 12 5.25C12.41 5.25 12.75 5.59 12.75 6V18C12.75 18.41 12.41 18.75 12 18.75Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:"clip0_707_395",children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function Rf(e){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",...e,children:[x.jsx("path",{d:"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M22 22L20 20",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function uE(e){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",...e,children:[x.jsxs("g",{clipPath:"url(#clip0_73_8)",children:[x.jsx("mask",{id:"mask0_73_8",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:"url(#mask0_73_8)",children:[x.jsx("path",{d:"M2 9.75C1.59 9.75 1.25 9.41 1.25 9V6.5C1.25 3.6 3.61 1.25 6.5 1.25H9C9.41 1.25 9.75 1.59 9.75 2C9.75 2.41 9.41 2.75 9 2.75H6.5C4.43 2.75 2.75 4.43 2.75 6.5V9C2.75 9.41 2.41 9.75 2 9.75Z",fill:"currentColor"}),x.jsx("path",{d:"M22 9.75C21.59 9.75 21.25 9.41 21.25 9V6.5C21.25 4.43 19.57 2.75 17.5 2.75H15C14.59 2.75 14.25 2.41 14.25 2C14.25 1.59 14.59 1.25 15 1.25H17.5C20.39 1.25 22.75 3.6 22.75 6.5V9C22.75 9.41 22.41 9.75 22 9.75Z",fill:"currentColor"}),x.jsx("path",{d:"M17.5 22.75H16C15.59 22.75 15.25 22.41 15.25 22C15.25 21.59 15.59 21.25 16 21.25H17.5C19.57 21.25 21.25 19.57 21.25 17.5V16C21.25 15.59 21.59 15.25 22 15.25C22.41 15.25 22.75 15.59 22.75 16V17.5C22.75 20.4 20.39 22.75 17.5 22.75Z",fill:"currentColor"}),x.jsx("path",{d:"M9 22.75H6.5C3.61 22.75 1.25 20.4 1.25 17.5V15C1.25 14.59 1.59 14.25 2 14.25C2.41 14.25 2.75 14.59 2.75 15V17.5C2.75 19.57 4.43 21.25 6.5 21.25H9C9.41 21.25 9.75 21.59 9.75 22C9.75 22.41 9.41 22.75 9 22.75Z",fill:"currentColor"}),x.jsx("path",{d:"M9 11.25H7C5.59 11.25 4.75 10.41 4.75 9V7C4.75 5.59 5.59 4.75 7 4.75H9C10.41 4.75 11.25 5.59 11.25 7V9C11.25 10.41 10.41 11.25 9 11.25ZM7 6.25C6.41 6.25 6.25 6.41 6.25 7V9C6.25 9.59 6.41 9.75 7 9.75H9C9.59 9.75 9.75 9.59 9.75 9V7C9.75 6.41 9.59 6.25 9 6.25H7Z",fill:"currentColor"}),x.jsx("path",{d:"M17 11.25H15C13.59 11.25 12.75 10.41 12.75 9V7C12.75 5.59 13.59 4.75 15 4.75H17C18.41 4.75 19.25 5.59 19.25 7V9C19.25 10.41 18.41 11.25 17 11.25ZM15 6.25C14.41 6.25 14.25 6.41 14.25 7V9C14.25 9.59 14.41 9.75 15 9.75H17C17.59 9.75 17.75 9.59 17.75 9V7C17.75 6.41 17.59 6.25 17 6.25H15Z",fill:"currentColor"}),x.jsx("path",{d:"M9 19.25H7C5.59 19.25 4.75 18.41 4.75 17V15C4.75 13.59 5.59 12.75 7 12.75H9C10.41 12.75 11.25 13.59 11.25 15V17C11.25 18.41 10.41 19.25 9 19.25ZM7 14.25C6.41 14.25 6.25 14.41 6.25 15V17C6.25 17.59 6.41 17.75 7 17.75H9C9.59 17.75 9.75 17.59 9.75 17V15C9.75 14.41 9.59 14.25 9 14.25H7Z",fill:"currentColor"}),x.jsx("path",{d:"M17 19.25H15C13.59 19.25 12.75 18.41 12.75 17V15C12.75 13.59 13.59 12.75 15 12.75H17C18.41 12.75 19.25 13.59 19.25 15V17C19.25 18.41 18.41 19.25 17 19.25ZM15 14.25C14.41 14.25 14.25 14.41 14.25 15V17C14.25 17.59 14.41 17.75 15 17.75H17C17.59 17.75 17.75 17.59 17.75 17V15C17.75 14.41 17.59 14.25 17 14.25H15Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:"clip0_73_8",children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function dE(e){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",...e,children:[x.jsxs("g",{clipPath:"url(#clip0_73_52)",children:[x.jsx("mask",{id:"mask0_73_52",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:"url(#mask0_73_52)",children:[x.jsx("path",{d:"M6 9.95906C9.63 7.14906 14.37 7.14906 18 9.95906",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M7.59961 13.0489C10.2696 10.9889 13.7396 10.9889 16.4096 13.0489",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M9.7998 16.1397C11.1298 15.1097 12.8698 15.1097 14.1998 16.1397",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:"clip0_73_52",children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function BL(e){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",...e,children:[x.jsxs("g",{clipPath:"url(#clip0_73_43)",children:[x.jsx("mask",{id:"mask0_73_43",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:"url(#mask0_73_43)",children:[x.jsx("path",{d:"M21.6309 14.75C21.6309 15.64 21.3809 16.48 20.9409 17.2C20.1209 18.58 18.6109 19.5 16.8809 19.5C15.1509 19.5 13.6409 18.57 12.8209 17.2C12.3809 16.49 12.1309 15.64 12.1309 14.75C12.1309 12.13 14.2609 10 16.8809 10C19.5009 10 21.6309 12.13 21.6309 14.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M18.6604 14.7305H15.1104",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M16.8809 13V16.55",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M20.6906 4.02002V6.23999C20.6906 7.04999 20.1806 8.06001 19.6806 8.57001L17.9206 10.12C17.5906 10.04 17.2406 10 16.8806 10C14.2606 10 12.1306 12.13 12.1306 14.75C12.1306 15.64 12.3806 16.48 12.8206 17.2C13.1906 17.82 13.7006 18.35 14.3206 18.73V19.07C14.3206 19.68 13.9206 20.49 13.4106 20.79L12.0006 21.7C10.6906 22.51 8.87055 21.6 8.87055 19.98V14.63C8.87055 13.92 8.46055 13.01 8.06055 12.51L4.22055 8.46997C3.72055 7.95997 3.31055 7.05001 3.31055 6.45001V4.12C3.31055 2.91 4.22055 2 5.33055 2H18.6706C19.7806 2 20.6906 2.91002 20.6906 4.02002Z",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:"clip0_73_43",children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function _p({className:e}){const t=M.useId(),n=`clip0-allfil-${t.replace(/:/g,"")}`,i=`mask0-allfil-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsx("g",{mask:`url(#${i})`,children:x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 14.5C10.62 14.5 9.5 13.38 9.5 12C9.5 10.62 10.62 9.5 12 9.5C13.38 9.5 14.5 10.62 14.5 12C14.5 13.38 13.38 14.5 12 14.5Z",fill:"currentColor"})})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function Ov({className:e}){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M12 13.9995C13.1046 13.9995 14 13.1041 14 11.9995C14 10.8949 13.1046 9.99951 12 9.99951C10.8954 9.99951 10 10.8949 10 11.9995C10 13.1041 10.8954 13.9995 12 13.9995Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function kv({className:e}){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsx("path",{d:"M20.9327 16.5C21.6154 15.1474 22 13.6186 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C12.982 22 13.9309 21.8584 14.8275 21.5946",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M12 13.9995C13.1046 13.9995 14 13.1041 14 11.9995C14 10.8949 13.1046 9.99951 12 9.99951C10.8954 9.99951 10 10.8949 10 11.9995C10 13.1041 10.8954 13.9995 12 13.9995Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M18.7485 16.7229V18.2693",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M18.7489 21.9958H16.1739C14.6995 21.9958 14.0834 20.942 14.7972 19.6545L16.1229 17.2665L17.3722 15.023C18.1285 13.659 19.3693 13.659 20.1256 15.023L21.3748 17.2707L22.7006 19.6587C23.4144 20.9462 22.794 22 21.3238 22H18.7489V21.9958Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M18.7461 20.1222H18.7504",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Lv({className:e}){const t=M.useId(),n=`clip0-outstock-${t.replace(/:/g,"")}`,i=`mask0-outstock-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsx("g",{mask:`url(#${i})`,children:x.jsx("path",{opacity:"0.4",d:"M12 2C17.52 2 22 6.48 22 12C22 13.3996 21.7104 14.7316 21.1904 15.9414C21.0382 15.7227 20.8656 15.5139 20.6699 15.3203C19.7799 14.4303 18.5997 13.981 17.4297 14.001C16.2997 14.011 15.1696 14.4604 14.3096 15.3203C13.7096 15.9103 13.3199 16.6509 13.1299 17.4209C13.0199 17.8408 12.9798 18.2712 13.0098 18.7012V18.751C13.0098 18.8208 13.0193 18.8811 13.0293 18.9609C13.0293 18.9609 13.03 18.9607 13.04 18.9707V19.001C13.1301 19.9808 13.5497 20.9308 14.3096 21.6807C14.3226 21.6937 14.3365 21.7059 14.3496 21.7188C13.5957 21.9006 12.8094 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM12 9.5C10.62 9.5 9.5 10.62 9.5 12C9.5 13.38 10.62 14.5 12 14.5C13.38 14.5 14.5 13.38 14.5 12C14.5 10.62 13.38 9.5 12 9.5Z",fill:"currentColor"})}),x.jsx("path",{d:"M20.6696 15.3206C19.7796 14.4306 18.5996 13.9806 17.4296 14.0006C16.2996 14.0106 15.1696 14.4606 14.3096 15.3206C13.7096 15.9106 13.3196 16.6506 13.1296 17.4206C13.0196 17.8406 12.9796 18.2707 13.0096 18.7007V18.7506C13.0096 18.8206 13.0196 18.8807 13.0296 18.9607C13.0296 18.9607 13.0296 18.9606 13.0396 18.9706V19.0006C13.1296 19.9806 13.5496 20.9306 14.3096 21.6806C15.4696 22.8406 17.0996 23.2306 18.5696 22.8606C19.0096 22.7506 19.4396 22.5707 19.8396 22.3307C20.1396 22.1607 20.4196 21.9406 20.6696 21.6806C21.4196 20.9306 21.8496 19.9806 21.9396 18.9906C21.9496 18.9906 21.9496 18.9707 21.9496 18.9607C21.9696 18.8907 21.9696 18.8106 21.9696 18.7406C21.9696 18.7306 21.9796 18.7106 21.9796 18.6906C22.0396 17.4806 21.5996 16.2406 20.6696 15.3206ZM19.2196 20.2107C18.9296 20.5007 18.4596 20.5007 18.1596 20.2107L17.4996 19.5506L16.8196 20.2306C16.5196 20.5306 16.0496 20.5306 15.7596 20.2306C15.4596 19.9406 15.4596 19.4706 15.7596 19.1706L16.4396 18.4906L15.7796 17.8307C15.4896 17.5307 15.4896 17.0607 15.7796 16.7707C16.0796 16.4707 16.5496 16.4707 16.8496 16.7707L17.4996 17.4306L18.1296 16.7906C18.4296 16.5006 18.8996 16.5006 19.1996 16.7906C19.4896 17.0906 19.4896 17.5606 19.1996 17.8606L18.5596 18.4906L19.2196 19.1407C19.5196 19.4407 19.5196 19.9107 19.2196 20.2107Z",fill:"currentColor"})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function jv({className:e}){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsx("path",{d:"M21.6078 14.7824C21.8632 13.8991 22 12.9655 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C13.5646 22 15.0453 21.6407 16.3641 21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M12 13.9995C13.1046 13.9995 14 13.1041 14 11.9995C14 10.8949 13.1046 9.99951 12 9.99951C10.8954 9.99951 10 10.8949 10 11.9995C10 13.1041 10.8954 13.9995 12 13.9995Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M23 18C23 18.75 22.79 19.46 22.42 20.06C22.21 20.42 21.94 20.74 21.63 21C20.93 21.63 20.01 22 19 22C17.54 22 16.27 21.22 15.58 20.06C15.21 19.46 15 18.75 15 18C15 16.74 15.58 15.61 16.5 14.88C17.19 14.33 18.06 14 19 14C21.21 14 23 15.79 23 18Z",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M20.0701 19.0397L17.9502 16.9297",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M20.0502 16.959L17.9302 19.069",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})}function FL(){const e=ro(),t=hs(),{filaments:n,addFilament:i,updateFilament:c,deleteFilament:u}=ga(),[h,w]=M.useState(!1),[y,g]=M.useState(null),[b,E]=M.useState(!1),[T,R]=M.useState(""),[O,k]=M.useState(!1),[F,G]=M.useState(null),[z,U]=M.useState(!1),[Z,re]=M.useState("all"),{registerAddHandler:le,unregisterAddHandler:P}=o9(),L=ne=>{if("id"in ne)c(ne),g(null);else{const we=i(ne);we&&(G(we),k(!0))}},B=ne=>{e(`/filaments/${ne.id}`)},K=M.useCallback(()=>{g(null),w(!0)},[]);M.useEffect(()=>(le(K),P),[le,P,K]),M.useEffect(()=>{const ne=t.state;ne!=null&&ne.openAdd&&(K(),e(t.pathname,{replace:!0,state:{}})),ne!=null&&ne.tab&&["all","low","out"].includes(ne.tab)&&(re(ne.tab),e(t.pathname,{replace:!0,state:{}}))},[t.state,t.pathname,K,e]);const q=()=>{E(!b),b&&R("")},ee=n.filter(ne=>{const we=ne.remainingWeight/ne.totalWeight*100,xe=ne.remainingWeight===0,oe=we<25&&!xe;if(Z==="low"&&!oe||Z==="out"&&!xe)return!1;if(!T)return!0;const ce=T.toLowerCase();return ne.name.toLowerCase().includes(ce)||ne.material.toLowerCase().includes(ce)||ne.color.toLowerCase().includes(ce)||ne.manufacturer.toLowerCase().includes(ce)}),X=n.filter(ne=>ne.remainingWeight/ne.totalWeight*100<25&&ne.remainingWeight>0).length,Pe=n.filter(ne=>ne.remainingWeight===0).length;return x.jsxs("div",{className:"p-4 space-y-4 max-w-md mx-auto pb-24",children:[x.jsxs("div",{className:"pt-2 flex items-start justify-between gap-3",children:[x.jsxs("div",{className:"flex-shrink-0",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Filaments"}),x.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," spool",n.length!==1?"s":""]})]}),b?x.jsx("div",{className:"flex-1 flex items-center gap-2",children:x.jsxs("div",{className:"relative flex-1",children:[x.jsx(Xi,{type:"text",placeholder:"Search...",value:T,onChange:ne=>R(ne.target.value),className:"w-full pr-12 h-12 rounded-full",autoFocus:!0}),x.jsx(Ut,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",onClick:q,children:x.jsx(Rf,{})})]})}):x.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[x.jsx(Ut,{variant:"ghost",size:"icon",onClick:q,children:x.jsx(Rf,{})}),x.jsx(Ut,{variant:"ghost",size:"icon",onClick:()=>U(!0),"aria-label":"Scan QR code",children:x.jsx(uE,{})}),x.jsx(Ut,{variant:"ghost",size:"icon",onClick:()=>{},children:x.jsx(dE,{})}),x.jsx(Ut,{variant:"ghost",size:"icon",onClick:()=>{},children:x.jsx(BL,{})})]})]}),x.jsx("div",{className:"bg-white flex gap-[8px] items-center p-[4px] rounded-xl w-full shadow-[0_-2px_10px_rgba(0,0,0,0.06),0_2px_10px_rgba(0,0,0,0.06)]",children:[{value:"all",label:"All",count:n.length,Icon:_p},{value:"low",label:"Low Stock",count:X,Icon:xp},{value:"out",label:"Out of Stock",count:Pe,Icon:Lv}].map(ne=>{const we=Z===ne.value;return x.jsxs("button",{type:"button",onClick:()=>re(ne.value),className:`relative flex-1 min-w-0 py-2 px-3 rounded-xl text-sm font-medium transition-colors flex items-center justify-center gap-1.5 ${we?"text-[#F26D00]":"text-[#7A7A7A] hover:text-gray-900"}`,children:[we&&x.jsx("span",{className:"absolute inset-0 rounded-[10px] bg-orange-100 z-0"}),x.jsxs("span",{className:"relative z-[1] flex items-center gap-1.5 shrink-0",children:[ne.value==="all"?we?x.jsx(_p,{className:"h-4 w-4"}):x.jsx(Ov,{className:"h-4 w-4"}):ne.value==="low"?we?x.jsx(xp,{className:"h-4 w-4"}):x.jsx(kv,{className:"h-4 w-4"}):we?x.jsx(Lv,{className:"h-4 w-4"}):x.jsx(jv,{className:"h-4 w-4"}),ne.label]})]},ne.value)})}),ee.length>0?x.jsx("div",{className:"space-y-3 pb-4",children:ee.map(ne=>x.jsx(BM,{filament:ne,onClick:B,onToggleFavorite:we=>c({...we,favorite:!we.favorite})},ne.id))}):x.jsxs("div",{className:"text-center py-12",children:[!T&&Z==="out"?x.jsx(jv,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}):!T&&Z==="low"?x.jsx(kv,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}):!T&&Z==="all"?x.jsx(Ov,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}):x.jsx(OM,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),x.jsx("h3",{className:"font-semibold mb-2",children:T?"No filaments found":Z==="low"?"No low stock spools":Z==="out"?"No out of stock spools":"No filaments found"}),x.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:T?"Try adjusting your search terms.":Z!=="all"?"All your filaments are in good shape.":"Get started by adding your first filament spool."}),!T&&Z==="all"&&x.jsxs(Ut,{onClick:K,children:[x.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Add Filament"]})]}),x.jsx(Z5,{open:h,onOpenChange:ne=>{w(ne),ne||g(null)},onSave:L,editFilament:y}),x.jsx(jL,{open:z,onOpenChange:U,onScan:ne=>{U(!1),e(`/filaments/${ne}`)}}),x.jsx(uL,{open:O,onOpenChange:ne=>{k(ne),ne||G(null)},filament:F})]})}const VL=ZC("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function UL({className:e,variant:t,asChild:n=!1,...i}){const c=n?da:"span";return x.jsx(c,{"data-slot":"badge",className:cn(VL({variant:t}),e),...i})}function fE({className:e}){const t=M.useId(),n=`clip0-delete-${t.replace(/:/g,"")}`,i=`mask0-delete-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{d:"M20.9999 6.73046C20.9799 6.73046 20.9499 6.73046 20.9199 6.73046C15.6299 6.20046 10.3499 6.00046 5.11992 6.53046L3.07992 6.73046C2.65992 6.77046 2.28992 6.47046 2.24992 6.05046C2.20992 5.63046 2.50992 5.27046 2.91992 5.23046L4.95992 5.03046C10.2799 4.49046 15.6699 4.70046 21.0699 5.23046C21.4799 5.27046 21.7799 5.64046 21.7399 6.05046C21.7099 6.44046 21.3799 6.73046 20.9999 6.73046Z",fill:"currentColor"}),x.jsx("path",{d:"M8.50001 5.72C8.46001 5.72 8.42001 5.72 8.37001 5.71C7.97001 5.64 7.69001 5.25 7.76001 4.85L7.98001 3.54C8.14001 2.58 8.36001 1.25 10.69 1.25H13.31C15.65 1.25 15.87 2.63 16.02 3.55L16.24 4.85C16.31 5.26 16.03 5.65 15.63 5.71C15.22 5.78 14.83 5.5 14.77 5.1L14.55 3.8C14.41 2.93 14.38 2.76 13.32 2.76H10.7C9.64001 2.76 9.62001 2.9 9.47001 3.79L9.24001 5.09C9.18001 5.46 8.86001 5.72 8.50001 5.72Z",fill:"currentColor"}),x.jsx("path",{d:"M15.2099 22.7496H8.7899C5.2999 22.7496 5.1599 20.8196 5.0499 19.2596L4.3999 9.18959C4.3699 8.77959 4.6899 8.41959 5.0999 8.38959C5.5199 8.36959 5.8699 8.67959 5.8999 9.08959L6.5499 19.1596C6.6599 20.6796 6.6999 21.2496 8.7899 21.2496H15.2099C17.3099 21.2496 17.3499 20.6796 17.4499 19.1596L18.0999 9.08959C18.1299 8.67959 18.4899 8.36959 18.8999 8.38959C19.3099 8.41959 19.6299 8.76959 19.5999 9.18959L18.9499 19.2596C18.8399 20.8196 18.6999 22.7496 15.2099 22.7496Z",fill:"currentColor"}),x.jsx("path",{d:"M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z",fill:"currentColor"}),x.jsx("path",{d:"M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function hE({className:e}){const t=M.useId(),n=`clip0-edit-${t.replace(/:/g,"")}`,i=`mask0-edit-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{d:"M5.53999 19.5196C4.92999 19.5196 4.35999 19.3096 3.94999 18.9196C3.42999 18.4296 3.17999 17.6896 3.26999 16.8896L3.63999 13.6496C3.70999 13.0396 4.07999 12.2296 4.50999 11.7896L12.72 3.09956C14.77 0.929561 16.91 0.869561 19.08 2.91956C21.25 4.96956 21.31 7.10956 19.26 9.27956L11.05 17.9696C10.63 18.4196 9.84999 18.8396 9.23999 18.9396L6.01999 19.4896C5.84999 19.4996 5.69999 19.5196 5.53999 19.5196ZM15.93 2.90956C15.16 2.90956 14.49 3.38956 13.81 4.10956L5.59999 12.8096C5.39999 13.0196 5.16999 13.5196 5.12999 13.8096L4.75999 17.0496C4.71999 17.3796 4.79999 17.6496 4.97999 17.8196C5.15999 17.9896 5.42999 18.0496 5.75999 17.9996L8.97999 17.4496C9.26999 17.3996 9.74999 17.1396 9.94999 16.9296L18.16 8.23956C19.4 6.91956 19.85 5.69956 18.04 3.99956C17.24 3.22956 16.55 2.90956 15.93 2.90956Z",fill:"currentColor"}),x.jsx("path",{d:"M17.3399 10.9508C17.3199 10.9508 17.2899 10.9508 17.2699 10.9508C14.1499 10.6408 11.6399 8.27083 11.1599 5.17083C11.0999 4.76083 11.3799 4.38083 11.7899 4.31083C12.1999 4.25083 12.5799 4.53083 12.6499 4.94083C13.0299 7.36083 14.9899 9.22083 17.4299 9.46083C17.8399 9.50083 18.1399 9.87083 18.0999 10.2808C18.0499 10.6608 17.7199 10.9508 17.3399 10.9508Z",fill:"currentColor"}),x.jsx("path",{d:"M21 22.75H3C2.59 22.75 2.25 22.41 2.25 22C2.25 21.59 2.59 21.25 3 21.25H21C21.41 21.25 21.75 21.59 21.75 22C21.75 22.41 21.41 22.75 21 22.75Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function Pp({className:e}){const t=M.useId(),n=`clip0-weight-${t.replace(/:/g,"")}`,i=`mask0-weight-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{opacity:"0.4",d:"M8 22H16C19 22 21 20 21 17V7C21 4 19 2 16 2H8C5 2 3 4 3 7V17C3 20 5 22 8 22Z",fill:"currentColor"}),x.jsx("path",{d:"M17.5 8.0007C14.37 5.2107 9.63998 5.2107 6.49998 8.0007C6.35998 8.1307 6.32998 8.3307 6.42998 8.4807L8.60998 11.9807C8.66998 12.0707 8.76998 12.1407 8.86998 12.1507C8.97998 12.1707 9.08998 12.1307 9.16998 12.0607C10.78 10.6307 13.2 10.6307 14.81 12.0607C14.88 12.1207 14.97 12.1507 15.06 12.1507C15.08 12.1507 15.1 12.1507 15.11 12.1507C15.22 12.1307 15.32 12.0707 15.37 11.9807L17.55 8.4807C17.67 8.3307 17.64 8.1307 17.5 8.0007Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function HL({className:e}){return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:"url(#clip0_706_338)",children:[x.jsx("mask",{id:"mask0_706_338",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:"url(#mask0_706_338)",children:[x.jsx("path",{d:"M3.17004 7.43945L12 12.5495L20.77 7.46945",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M12 21.6091V12.5391",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),x.jsx("path",{d:"M9.93001 2.4793L4.59001 5.4393C3.38001 6.1093 2.39001 7.7893 2.39001 9.1693V14.8193C2.39001 16.1993 3.38001 17.8793 4.59001 18.5493L9.93001 21.5193C11.07 22.1493 12.94 22.1493 14.08 21.5193L19.42 18.5493C20.63 17.8793 21.62 16.1993 21.62 14.8193V9.1693C21.62 7.7893 20.63 6.1093 19.42 5.4393L14.08 2.4693C12.93 1.8393 11.07 1.8393 9.93001 2.4793Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:"clip0_706_338",children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}var pE="AlertDialog",[WL]=ol(pE,[iC]),Do=iC(),mE=e=>{const{__scopeAlertDialog:t,...n}=e,i=Do(t);return x.jsx(Om,{...i,...n,modal:!0})};mE.displayName=pE;var zL="AlertDialogTrigger",GL=M.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,c=Do(n);return x.jsx(oD,{...c,...i,ref:t})});GL.displayName=zL;var XL="AlertDialogPortal",gE=e=>{const{__scopeAlertDialog:t,...n}=e,i=Do(t);return x.jsx(km,{...i,...n})};gE.displayName=XL;var $L="AlertDialogOverlay",xE=M.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,c=Do(n);return x.jsx(Lm,{...c,...i,ref:t})});xE.displayName=$L;var ql="AlertDialogContent",[YL,ZL]=WL(ql),wE=M.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:i,...c}=e,u=Do(n),h=M.useRef(null),w=kn(t,h),y=M.useRef(null);return x.jsx(nD,{contentName:ql,titleName:yE,docsSlug:"alert-dialog",children:x.jsx(YL,{scope:n,cancelRef:y,children:x.jsxs(jm,{role:"alertdialog",...u,...c,ref:w,onOpenAutoFocus:Sn(c.onOpenAutoFocus,g=>{var b;g.preventDefault(),(b=y.current)==null||b.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[x.jsx(W4,{children:i}),x.jsx(qL,{contentRef:h})]})})})});wE.displayName=ql;var yE="AlertDialogTitle",vE=M.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,c=Do(n);return x.jsx(Bm,{...c,...i,ref:t})});vE.displayName=yE;var CE="AlertDialogDescription",EE=M.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,c=Do(n);return x.jsx(Fm,{...c,...i,ref:t})});EE.displayName=CE;var KL="AlertDialogAction",bE=M.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,c=Do(n);return x.jsx(Vm,{...c,...i,ref:t})});bE.displayName=KL;var SE="AlertDialogCancel",AE=M.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...i}=e,{cancelRef:c}=ZL(SE,n),u=Do(n),h=kn(t,c);return x.jsx(Vm,{...u,...i,ref:h})});AE.displayName=SE;var qL=({contentRef:e})=>{const t=`\`${ql}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ql}\` by passing a \`${CE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ql}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return M.useEffect(()=>{var i;document.getElementById((i=e.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},QL=mE,JL=gE,ej=xE,tj=wE,nj=bE,rj=AE,ij=vE,sj=EE;function lg({...e}){return x.jsx(QL,{"data-slot":"alert-dialog",...e})}function oj({...e}){return x.jsx(JL,{"data-slot":"alert-dialog-portal",...e})}function aj({className:e,...t}){return x.jsx(ej,{"data-slot":"alert-dialog-overlay",className:cn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function cg({className:e,bottomSheet:t=!1,...n}){return x.jsxs(oj,{children:[x.jsx(aj,{}),x.jsx(tj,{"data-slot":"alert-dialog-content",className:cn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed z-50 grid w-full gap-4 border p-6 shadow-lg duration-200",t?"bottom-0 left-0 right-0 rounded-t-2xl data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom max-w-full sm:max-w-full":"top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 rounded-lg max-w-[calc(100%-2rem)] sm:max-w-lg",e),...n})]})}function ug({className:e,...t}){return x.jsx("div",{"data-slot":"alert-dialog-header",className:cn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function dg({className:e,...t}){return x.jsx("div",{"data-slot":"alert-dialog-footer",className:cn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function fg({className:e,...t}){return x.jsx(ij,{"data-slot":"alert-dialog-title",className:cn("text-lg font-semibold",e),...t})}function hg({className:e,...t}){return x.jsx(sj,{"data-slot":"alert-dialog-description",className:cn("text-muted-foreground text-sm",e),...t})}function pg({className:e,...t}){return x.jsx(nj,{className:cn(Km(),e),...t})}function mg({className:e,...t}){return x.jsx(rj,{className:cn(Km({variant:"outline"}),e),...t})}function lj(){const{id:e}=Fp(),t=ro(),{filaments:n,updateFilament:i,deleteFilament:c,printedParts:u}=ga(),[h,w]=M.useState(!1),[y,g]=M.useState(!1),[b,E]=M.useState(!1),T=n.find(L=>L.id===e);if(!T)return x.jsxs("div",{className:"p-4 max-w-md mx-auto",style:{paddingTop:"max(0.5rem, env(safe-area-inset-top))"},children:[x.jsxs(Ut,{variant:"ghost",onClick:()=>t("/filaments"),className:"mb-4",children:[x.jsx(yf,{className:"mr-2 h-4 w-4"}),"Back"]}),x.jsxs("div",{className:"text-center py-12",children:[x.jsx(HL,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),x.jsx("h3",{className:"font-semibold mb-2",children:"Filament not found"})]})]});const R=T.remainingWeight/T.totalWeight*100,O=R<20,k=R>=20&&R<=49,F=R>50,G=T.totalWeight-T.remainingWeight,z=()=>F?"bg-green-500":k?"bg-orange-500":"bg-red-500",U=u.filter(L=>L.filamentId===T.id);U.reduce((L,B)=>L+B.weightUsed,0);const Z=()=>{c(T.id),t("/filaments")},re=JSON.stringify({id:T.id,name:T.name,material:T.material,color:T.color,colorHex:T.colorHex,totalWeight:T.totalWeight,remainingWeight:T.remainingWeight,manufacturer:T.manufacturer,diameter:T.diameter,price:T.price}),le=()=>{const L=document.getElementById("filament-qr-code");if(!L)return;const B=new XMLSerializer().serializeToString(L),K=document.createElement("canvas"),q=K.getContext("2d"),ee=new Image;ee.onload=()=>{K.width=ee.width,K.height=ee.height,q==null||q.drawImage(ee,0,0),K.toBlob(X=>{if(X){const Pe=URL.createObjectURL(X),ne=document.createElement("a");ne.href=Pe,ne.download=`${T.manufacturer}-${T.material}-QR.png`,ne.click(),URL.revokeObjectURL(Pe)}})},ee.src="data:image/svg+xml;base64,"+btoa(B)},P=()=>{const L=window.open("","_blank");if(!L)return;const B=document.getElementById("filament-qr-code");if(!B)return;const K=new XMLSerializer().serializeToString(B);L.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Print QR Code - ${T.manufacturer} ${T.material}</title>
          <style>
            body {
              margin: 0;
              padding: 20px;
              display: flex;
              flex-direction: column;
              align-items: center;
              font-family: system-ui, -apple-system, sans-serif;
            }
            .qr-container {
              text-align: center;
            }
            h1 {
              font-size: 24px;
              margin-bottom: 10px;
            }
            .details {
              margin: 20px 0;
              font-size: 14px;
            }
            .details div {
              margin: 5px 0;
            }
            @media print {
              body {
                padding: 10px;
              }
            }
          </style>
        </head>
        <body>
          <div class="qr-container">
            <h1>${T.manufacturer} - ${T.material}</h1>
            <div class="details">
              <div><strong>Color:</strong> ${T.color}</div>
              <div><strong>Diameter:</strong> ${T.diameter}mm</div>
              <div><strong>Weight:</strong> ${T.totalWeight}g</div>
              ${T.price?`<div><strong>Price:</strong> $${T.price.toFixed(2)}</div>`:""}
            </div>
            ${K}
          </div>
        </body>
      </html>
    `),L.document.close(),setTimeout(()=>{L.print()},250)};return x.jsxs("div",{className:"min-h-screen bg-background pb-20",style:{paddingTop:"max(0.5rem, env(safe-area-inset-top))"},children:[x.jsxs("div",{className:"pl-4 pr-8 pt-4 pb-4 space-y-4 max-w-md mx-auto",children:[x.jsxs("div",{className:"flex items-center justify-between pt-2",children:[x.jsxs(Ut,{variant:"ghost",onClick:()=>t("/filaments"),size:"sm",children:[x.jsx(yf,{className:"mr-2 h-4 w-4"}),"Back"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(Ut,{variant:"outline",size:"sm",onClick:()=>w(!0),children:[x.jsx(hE,{className:"mr-2 h-4 w-4"}),"Edit"]}),x.jsxs(Ut,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>g(!0),children:[x.jsx(fE,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none",children:x.jsxs("div",{className:"flex items-center gap-4 w-full",children:[x.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center shrink-0 border border-[#E5E5E5]",style:{backgroundColor:T.colorHex,boxShadow:$s(T.colorHex)},children:x.jsx(ua,{active:!0,className:`w-6 h-6 drop-shadow-md ${fa(T.colorHex)?"text-gray-300":"text-white"}`})}),x.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[x.jsx("h1",{className:"text-lg font-semibold truncate",children:T.manufacturer}),x.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 w-full",children:[x.jsx(Zi,{children:T.material}),x.jsxs(Zi,{variant:"outlined",children:[T.diameter,"mm"]}),O&&x.jsx(UL,{variant:"destructive",children:"Low Stock"})]})]})]})}),x.jsx(zn,{className:"!p-[16px] gap-0 max-w-none",children:x.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-x-4 gap-y-3 items-center",children:[x.jsx("span",{className:"text-muted-foreground",children:"Color"}),x.jsxs("div",{className:"flex justify-end items-center gap-2 min-w-0",children:[x.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 shrink-0","aria-hidden":!0,children:x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 14.5C10.62 14.5 9.5 13.38 9.5 12C9.5 10.62 10.62 9.5 12 9.5C13.38 9.5 14.5 10.62 14.5 12C14.5 13.38 13.38 14.5 12 14.5Z",fill:T.colorHex})}),x.jsx("span",{className:"font-medium text-right",children:T.color})]}),T.price&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-muted-foreground",children:"Price"}),x.jsxs("span",{className:"font-medium text-right",children:["$",T.price.toFixed(2)]})]})]})}),x.jsxs(zn,{className:"!p-[16px] gap-0 max-w-none",children:[x.jsx("h2",{className:"font-semibold mb-3",children:"Weight Status"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[x.jsx("span",{className:"text-muted-foreground",children:"Remaining"}),x.jsxs("span",{className:`font-medium ${O?"text-destructive":""}`,children:[T.remainingWeight,"g / ",T.totalWeight,"g"]})]}),x.jsx("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-[#E5E5E5]",children:x.jsx("div",{className:`h-full rounded-full transition-all ${z()}`,style:{width:`${R}%`}})}),x.jsx("div",{className:"flex justify-end mt-1",children:x.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.toFixed(1),"% remaining"]})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-3 border-t",children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/10 flex items-center justify-center shrink-0",children:x.jsx(Pp,{className:"h-5 w-5 text-green-500"})}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"Available"}),x.jsxs("p",{className:"font-semibold mt-0.5",children:[T.remainingWeight,"g"]})]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-500/10 flex items-center justify-center shrink-0",children:x.jsx(Pp,{className:"h-5 w-5 text-orange-500"})}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"Used"}),x.jsxs("p",{className:"font-semibold mt-0.5",children:[G,"g"]})]})]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full items-stretch",children:[x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none flex flex-col justify-center",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/10 flex items-center justify-center shrink-0",children:x.jsx(el,{active:!0,className:"h-5 w-5 text-blue-500"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"Parts Printed"}),x.jsx("p",{className:"text-xl font-bold mt-0.5",children:U.length})]})]})}),x.jsx(zn,{className:"!p-[16px] gap-0 w-full max-w-none flex flex-col justify-center",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/10 flex items-center justify-center shrink-0",children:x.jsx(Zm,{className:"h-5 w-5 text-green-500"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"Cost per gram"}),x.jsx("p",{className:"text-xl font-bold mt-0.5",children:T.price?`$${(T.price/T.totalWeight).toFixed(3)}`:""})]})]})})]}),x.jsxs(zn,{className:"!p-[16px] gap-0 max-w-none",children:[x.jsx("h2",{className:"font-semibold mb-3",children:"Spool Label"}),x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx("div",{className:"bg-white p-4 rounded-lg",children:x.jsx(og,{value:re,size:200,level:"H",includeMargin:!0,id:"filament-qr-code"})}),x.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Scan this QR code to quickly identify this filament spool"}),x.jsxs("div",{className:"flex gap-2 w-full",children:[x.jsxs(Ut,{variant:"outline",className:"flex-1",onClick:le,children:[x.jsx($C,{className:"mr-2 h-4 w-4"}),"Download"]}),x.jsxs(Ut,{variant:"outline",className:"flex-1",onClick:P,children:[x.jsx(YC,{className:"mr-2 h-4 w-4"}),"Print Label"]})]})]})]})]}),x.jsx(Z5,{open:h,onOpenChange:w,onSave:L=>{"id"in L&&i(L)},editFilament:T}),x.jsx(lg,{open:y,onOpenChange:g,children:x.jsxs(cg,{bottomSheet:!0,children:[x.jsxs(ug,{children:[x.jsx(fg,{children:"Delete Filament?"}),x.jsxs(hg,{children:['Are you sure you want to delete "',T.name,'"? This action cannot be undone.',U.length>0&&x.jsxs("span",{className:"block mt-2 text-orange-600",children:["Note: ",U.length," printed part",U.length!==1?"s":""," used this filament."]})]})]}),x.jsxs(dg,{children:[x.jsx(mg,{children:"Cancel"}),x.jsx(pg,{onClick:Z,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}function TE({part:e,filamentName:t,filamentColor:n,filamentPrice:i,filamentTotalWeight:c,onEdit:u,onDelete:h,onClick:w}){const y=new Date(e.printDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=i&&c?i/c*e.weightUsed:null;return x.jsxs(zn,{className:"!p-[16px] gap-0 w-full max-w-none hover:shadow-lg transition-all active:scale-95 cursor-pointer",onClick:()=>w==null?void 0:w(e),children:[x.jsxs("div",{className:"flex items-center w-full gap-4",children:[x.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center shrink-0 border border-[#E5E5E5]",style:{backgroundColor:n||"#9ca3af",boxShadow:$s(n||"#9ca3af")},children:x.jsx(el,{active:!0,className:`w-6 h-6 drop-shadow-md ${fa(n||"#9ca3af")?"text-gray-300":"text-white"}`})}),x.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[x.jsx("h3",{className:"font-semibold truncate",children:e.name}),x.jsx("div",{className:"flex flex-wrap gap-2 mt-1 w-full",children:x.jsx(Zi,{children:y})})]})]}),x.jsxs("div",{className:"space-y-2 w-full mt-3",children:[x.jsxs("div",{className:"flex justify-between items-baseline gap-3 text-sm",children:[x.jsx("span",{className:"text-muted-foreground shrink-0",children:"Weight Used"}),x.jsxs("span",{className:"font-medium tabular-nums text-right w-16 shrink-0",children:[e.weightUsed,"g"]})]}),x.jsxs("div",{className:"flex justify-between items-baseline gap-3 text-sm",children:[x.jsx("span",{className:"text-muted-foreground shrink-0",children:"Cost"}),x.jsx("span",{className:`font-medium tabular-nums text-right w-16 shrink-0 ${g!==null?"text-green-600":"text-foreground"}`,children:g!==null?`$${g.toFixed(2)}`:""})]})]})]})}function cj({className:e,...t}){return x.jsx("textarea",{"data-slot":"textarea",className:cn("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Bv=800,uj=.85;function dj(e){return new Promise((t,n)=>{const i=new Image,c=URL.createObjectURL(e);i.onload=()=>{URL.revokeObjectURL(c);const{width:u,height:h}=i,w=u>Bv?Bv/u:1,y=Math.round(u*w),g=Math.round(h*w),b=document.createElement("canvas");b.width=y,b.height=g;const E=b.getContext("2d");if(!E){n(new Error("Could not get canvas context"));return}E.drawImage(i,0,0,y,g);try{const T=b.toDataURL("image/jpeg",uj);t(T)}catch(T){n(T)}},i.onerror=()=>{URL.revokeObjectURL(c),n(new Error("Failed to load image"))},i.src=c})}function gg({open:e,onOpenChange:t,onSave:n,editPart:i,defaultProjectId:c,initialData:u}){var k;const{filaments:h,projects:w}=ga();M.useRef(null);const[y,g]=M.useState(!1),[b,E]=M.useState({name:"",filamentId:"",weightUsed:"",printTimeHours:"",printTimeMinutes:"",printDate:new Date().toISOString().split("T")[0],notes:"",imageUrl:"",projectId:""});M.useEffect(()=>{var F;if(i){const G=Math.floor(i.printTime/60),z=i.printTime%60;E({name:i.name,filamentId:i.filamentId,weightUsed:i.weightUsed.toString(),printTimeHours:G.toString(),printTimeMinutes:z.toString(),printDate:i.printDate,notes:i.notes||"",imageUrl:i.imageUrl||"",projectId:i.projectId??""})}else{const G={name:"",filamentId:((F=h[0])==null?void 0:F.id)||"",weightUsed:(u==null?void 0:u.weightUsed)!=null?String(u.weightUsed):"",printTimeHours:(u==null?void 0:u.printTimeHours)!=null?String(u.printTimeHours):"",printTimeMinutes:(u==null?void 0:u.printTimeMinutes)!=null?String(u.printTimeMinutes):"",printDate:new Date().toISOString().split("T")[0],notes:(u==null?void 0:u.notes)??"",imageUrl:"",projectId:c??""};E(G)}},[i,e,h,c,u]);const T=F=>{F.preventDefault();const G=(parseInt(b.printTimeHours)||0)*60+(parseInt(b.printTimeMinutes)||0),z={name:b.name,filamentId:b.filamentId,weightUsed:parseInt(b.weightUsed),printTime:G,printDate:b.printDate,notes:b.notes||void 0,imageUrl:b.imageUrl||void 0,projectId:b.projectId||void 0};n(i?{...z,id:i.id}:z),t(!1)},R=h.find(F=>F.id===b.filamentId),O=R!=null&&R.price&&b.weightUsed?R.price/R.totalWeight*parseInt(b.weightUsed):null;return x.jsx(al,{open:e,onOpenChange:t,children:x.jsxs(ll,{className:"max-h-[85vh] overflow-y-auto overflow-x-hidden w-full max-w-full grid-cols-1",bottomSheet:!0,children:[x.jsxs(cl,{children:[x.jsx(ul,{children:i?"Edit Printed Part":"Add Printed Part"}),x.jsx(dl,{children:i?"Update the details of your printed part.":"Record a new 3D printed part."})]}),x.jsxs("form",{onSubmit:T,className:"w-full min-w-0 grid grid-cols-1",children:[x.jsxs("div",{className:"grid grid-cols-1 w-full min-w-0 gap-3 py-2",children:[!1,x.jsxs("div",{className:"space-y-1.5 w-full min-w-0",children:[x.jsx(ci,{htmlFor:"name",children:"Part Name"}),x.jsx(Xi,{id:"name",value:b.name,onChange:F=>E({...b,name:F.target.value}),placeholder:"e.g., Phone Stand",required:!0})]}),w.length>0&&x.jsxs("div",{className:"space-y-1.5 w-full min-w-0",children:[x.jsx(ci,{htmlFor:"project",children:"Project (optional)"}),x.jsxs(ru,{value:b.projectId||"none",onValueChange:F=>E({...b,projectId:F==="none"?"":F}),children:[x.jsx(su,{className:"w-full",children:x.jsx(iu,{placeholder:"None"})}),x.jsxs(ou,{children:[x.jsx(Kl,{value:"none",children:"None"}),w.map(F=>x.jsx(Kl,{value:F.id,children:F.name},F.id))]})]})]}),x.jsxs("div",{className:"space-y-1.5 w-full min-w-0",children:[x.jsx(ci,{htmlFor:"filament",children:"Filament Used"}),x.jsxs(ru,{value:b.filamentId,onValueChange:F=>E({...b,filamentId:F}),children:[x.jsx(su,{className:"w-full",children:x.jsx(iu,{})}),x.jsx(ou,{children:h.map(F=>x.jsx(Kl,{value:F.id,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-6 h-6 rounded-md flex items-center justify-center shrink-0 border border-[#E5E5E5]",style:{backgroundColor:F.colorHex},children:x.jsx(ua,{active:!0,className:`w-3 h-3 ${fa(F.colorHex)?"text-gray-400":"text-white"}`})}),F.manufacturer," - ",F.material," ",F.color]})},F.id))})]})]}),x.jsxs("div",{className:"flex flex-row gap-3 w-full min-w-0",children:[x.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1.5",children:[x.jsx(ci,{htmlFor:"weightUsed",children:"Weight Used (g)"}),x.jsx("div",{className:"h-[36px] w-full min-w-0 overflow-hidden rounded-md border border-input bg-input-background [&_input]:h-full [&_input]:min-h-full [&_input]:max-h-full [&_input]:border-0 [&_input]:rounded-md",children:x.jsx(Xi,{id:"weightUsed",type:"number",value:b.weightUsed,onChange:F=>E({...b,weightUsed:F.target.value}),min:"0",className:"w-full min-w-0 h-full min-h-full max-h-full border-0 rounded-md",required:!0})})]}),x.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1.5",children:[x.jsx(ci,{htmlFor:"printDate",children:"Print Date"}),x.jsxs("div",{className:"relative h-[36px] w-full min-w-0 overflow-hidden rounded-md border border-input bg-input-background",children:[x.jsx("div",{className:"absolute inset-0 flex items-center justify-start px-3 text-sm text-foreground pointer-events-none",children:b.printDate?new Date(b.printDate+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}),x.jsx("input",{id:"printDate",type:"date",value:b.printDate,onChange:F=>E({...b,printDate:F.target.value}),required:!0,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer text-sm","aria-label":"Print date"})]})]})]}),x.jsxs("div",{className:"space-y-1.5 w-full min-w-0",children:[x.jsx(ci,{children:"Print Time"}),x.jsxs("div",{className:"grid grid-cols-[1fr_1fr] gap-3 w-full min-w-0",children:[x.jsx("div",{className:"min-w-0 w-full h-[36px] overflow-hidden rounded-md border border-input bg-input-background [&_input]:h-full [&_input]:min-h-full [&_input]:max-h-full [&_input]:border-0 [&_input]:rounded-md",children:x.jsx(Xi,{type:"number",value:b.printTimeHours,onChange:F=>E({...b,printTimeHours:F.target.value}),placeholder:"Hours",min:"0",className:"w-full min-w-0 h-full min-h-full max-h-full border-0 rounded-md"})}),x.jsx("div",{className:"min-w-0 w-full h-[36px] overflow-hidden rounded-md border border-input bg-input-background [&_input]:h-full [&_input]:min-h-full [&_input]:max-h-full [&_input]:border-0 [&_input]:rounded-md",children:x.jsx(Xi,{type:"number",value:b.printTimeMinutes,onChange:F=>E({...b,printTimeMinutes:F.target.value}),placeholder:"Minutes",min:"0",max:"59",className:"w-full min-w-0 h-full min-h-full max-h-full border-0 rounded-md"})})]})]}),x.jsxs("div",{className:"space-y-1.5 w-full min-w-0",children:[x.jsx(ci,{htmlFor:"notes",children:"Notes (Optional)"}),x.jsx(cj,{id:"notes",value:b.notes,onChange:F=>E({...b,notes:F.target.value}),placeholder:"Add any notes about the print...",rows:3,className:"w-full min-w-0"})]}),O!==null&&!isNaN(O)&&x.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Estimated Cost"}),x.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["$",O.toFixed(2)]})]}),x.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Based on filament price: $",(k=R==null?void 0:R.price)==null?void 0:k.toFixed(2)," for ",R==null?void 0:R.totalWeight,"g"]})]})]}),x.jsxs(Hf,{className:"w-full grid grid-cols-1 sm:grid-cols-2 gap-2 pt-2",children:[x.jsx(Ut,{type:"button",variant:"outline",onClick:()=>t(!1),className:"w-full",children:"Cancel"}),x.jsxs(Ut,{type:"submit",className:"w-full",children:[i?"Update":"Add"," Part"]})]})]})]})})}var c0={exports:{}},Fv;function fj(){return Fv||(Fv=1,(function(e){var t=(function(n){var i=Object.prototype,c=i.hasOwnProperty,u=Object.defineProperty||function(ce,ue,J){ce[ue]=J.value},h,w=typeof Symbol=="function"?Symbol:{},y=w.iterator||"@@iterator",g=w.asyncIterator||"@@asyncIterator",b=w.toStringTag||"@@toStringTag";function E(ce,ue,J){return Object.defineProperty(ce,ue,{value:J,enumerable:!0,configurable:!0,writable:!0}),ce[ue]}try{E({},"")}catch{E=function(ue,J,de){return ue[J]=de}}function T(ce,ue,J,de){var ve=ue&&ue.prototype instanceof U?ue:U,Re=Object.create(ve.prototype),Ge=new we(de||[]);return u(Re,"_invoke",{value:ee(ce,J,Ge)}),Re}n.wrap=T;function R(ce,ue,J){try{return{type:"normal",arg:ce.call(ue,J)}}catch(de){return{type:"throw",arg:de}}}var O="suspendedStart",k="suspendedYield",F="executing",G="completed",z={};function U(){}function Z(){}function re(){}var le={};E(le,y,function(){return this});var P=Object.getPrototypeOf,L=P&&P(P(xe([])));L&&L!==i&&c.call(L,y)&&(le=L);var B=re.prototype=U.prototype=Object.create(le);Z.prototype=re,u(B,"constructor",{value:re,configurable:!0}),u(re,"constructor",{value:Z,configurable:!0}),Z.displayName=E(re,b,"GeneratorFunction");function K(ce){["next","throw","return"].forEach(function(ue){E(ce,ue,function(J){return this._invoke(ue,J)})})}n.isGeneratorFunction=function(ce){var ue=typeof ce=="function"&&ce.constructor;return ue?ue===Z||(ue.displayName||ue.name)==="GeneratorFunction":!1},n.mark=function(ce){return Object.setPrototypeOf?Object.setPrototypeOf(ce,re):(ce.__proto__=re,E(ce,b,"GeneratorFunction")),ce.prototype=Object.create(B),ce},n.awrap=function(ce){return{__await:ce}};function q(ce,ue){function J(Re,Ge,Ie,Le){var Fe=R(ce[Re],ce,Ge);if(Fe.type==="throw")Le(Fe.arg);else{var Ue=Fe.arg,Se=Ue.value;return Se&&typeof Se=="object"&&c.call(Se,"__await")?ue.resolve(Se.__await).then(function(Ve){J("next",Ve,Ie,Le)},function(Ve){J("throw",Ve,Ie,Le)}):ue.resolve(Se).then(function(Ve){Ue.value=Ve,Ie(Ue)},function(Ve){return J("throw",Ve,Ie,Le)})}}var de;function ve(Re,Ge){function Ie(){return new ue(function(Le,Fe){J(Re,Ge,Le,Fe)})}return de=de?de.then(Ie,Ie):Ie()}u(this,"_invoke",{value:ve})}K(q.prototype),E(q.prototype,g,function(){return this}),n.AsyncIterator=q,n.async=function(ce,ue,J,de,ve){ve===void 0&&(ve=Promise);var Re=new q(T(ce,ue,J,de),ve);return n.isGeneratorFunction(ue)?Re:Re.next().then(function(Ge){return Ge.done?Ge.value:Re.next()})};function ee(ce,ue,J){var de=O;return function(Re,Ge){if(de===F)throw new Error("Generator is already running");if(de===G){if(Re==="throw")throw Ge;return oe()}for(J.method=Re,J.arg=Ge;;){var Ie=J.delegate;if(Ie){var Le=X(Ie,J);if(Le){if(Le===z)continue;return Le}}if(J.method==="next")J.sent=J._sent=J.arg;else if(J.method==="throw"){if(de===O)throw de=G,J.arg;J.dispatchException(J.arg)}else J.method==="return"&&J.abrupt("return",J.arg);de=F;var Fe=R(ce,ue,J);if(Fe.type==="normal"){if(de=J.done?G:k,Fe.arg===z)continue;return{value:Fe.arg,done:J.done}}else Fe.type==="throw"&&(de=G,J.method="throw",J.arg=Fe.arg)}}}function X(ce,ue){var J=ue.method,de=ce.iterator[J];if(de===h)return ue.delegate=null,J==="throw"&&ce.iterator.return&&(ue.method="return",ue.arg=h,X(ce,ue),ue.method==="throw")||J!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+J+"' method")),z;var ve=R(de,ce.iterator,ue.arg);if(ve.type==="throw")return ue.method="throw",ue.arg=ve.arg,ue.delegate=null,z;var Re=ve.arg;if(!Re)return ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,z;if(Re.done)ue[ce.resultName]=Re.value,ue.next=ce.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=h);else return Re;return ue.delegate=null,z}K(B),E(B,b,"Generator"),E(B,y,function(){return this}),E(B,"toString",function(){return"[object Generator]"});function Pe(ce){var ue={tryLoc:ce[0]};1 in ce&&(ue.catchLoc=ce[1]),2 in ce&&(ue.finallyLoc=ce[2],ue.afterLoc=ce[3]),this.tryEntries.push(ue)}function ne(ce){var ue=ce.completion||{};ue.type="normal",delete ue.arg,ce.completion=ue}function we(ce){this.tryEntries=[{tryLoc:"root"}],ce.forEach(Pe,this),this.reset(!0)}n.keys=function(ce){var ue=Object(ce),J=[];for(var de in ue)J.push(de);return J.reverse(),function ve(){for(;J.length;){var Re=J.pop();if(Re in ue)return ve.value=Re,ve.done=!1,ve}return ve.done=!0,ve}};function xe(ce){if(ce){var ue=ce[y];if(ue)return ue.call(ce);if(typeof ce.next=="function")return ce;if(!isNaN(ce.length)){var J=-1,de=function ve(){for(;++J<ce.length;)if(c.call(ce,J))return ve.value=ce[J],ve.done=!1,ve;return ve.value=h,ve.done=!0,ve};return de.next=de}}return{next:oe}}n.values=xe;function oe(){return{value:h,done:!0}}return we.prototype={constructor:we,reset:function(ce){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(ne),!ce)for(var ue in this)ue.charAt(0)==="t"&&c.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=h)},stop:function(){this.done=!0;var ce=this.tryEntries[0],ue=ce.completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ce){if(this.done)throw ce;var ue=this;function J(Le,Fe){return Re.type="throw",Re.arg=ce,ue.next=Le,Fe&&(ue.method="next",ue.arg=h),!!Fe}for(var de=this.tryEntries.length-1;de>=0;--de){var ve=this.tryEntries[de],Re=ve.completion;if(ve.tryLoc==="root")return J("end");if(ve.tryLoc<=this.prev){var Ge=c.call(ve,"catchLoc"),Ie=c.call(ve,"finallyLoc");if(Ge&&Ie){if(this.prev<ve.catchLoc)return J(ve.catchLoc,!0);if(this.prev<ve.finallyLoc)return J(ve.finallyLoc)}else if(Ge){if(this.prev<ve.catchLoc)return J(ve.catchLoc,!0)}else if(Ie){if(this.prev<ve.finallyLoc)return J(ve.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ce,ue){for(var J=this.tryEntries.length-1;J>=0;--J){var de=this.tryEntries[J];if(de.tryLoc<=this.prev&&c.call(de,"finallyLoc")&&this.prev<de.finallyLoc){var ve=de;break}}ve&&(ce==="break"||ce==="continue")&&ve.tryLoc<=ue&&ue<=ve.finallyLoc&&(ve=null);var Re=ve?ve.completion:{};return Re.type=ce,Re.arg=ue,ve?(this.method="next",this.next=ve.finallyLoc,z):this.complete(Re)},complete:function(ce,ue){if(ce.type==="throw")throw ce.arg;return ce.type==="break"||ce.type==="continue"?this.next=ce.arg:ce.type==="return"?(this.rval=this.arg=ce.arg,this.method="return",this.next="end"):ce.type==="normal"&&ue&&(this.next=ue),z},finish:function(ce){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var J=this.tryEntries[ue];if(J.finallyLoc===ce)return this.complete(J.completion,J.afterLoc),ne(J),z}},catch:function(ce){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var J=this.tryEntries[ue];if(J.tryLoc===ce){var de=J.completion;if(de.type==="throw"){var ve=de.arg;ne(J)}return ve}}throw new Error("illegal catch attempt")},delegateYield:function(ce,ue,J){return this.delegate={iterator:xe(ce),resultName:ue,nextLoc:J},this.method==="next"&&(this.arg=h),z}},n})(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(c0)),c0.exports}var u0,Vv;function xg(){return Vv||(Vv=1,u0=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),u0}var d0,Uv;function IE(){if(Uv)return d0;Uv=1;const e=xg();let t=0;return d0=({id:n,action:i,payload:c={}})=>{let u=n;return typeof u>"u"&&(u=e("Job",t),t+=1),{id:u,action:i,payload:c}},d0}var Hc={},Hv;function wg(){if(Hv)return Hc;Hv=1;let e=!1;return Hc.logging=e,Hc.setLogging=t=>{e=t},Hc.log=(...t)=>e?console.log.apply(this,t):null,Hc}var f0,Wv;function hj(){if(Wv)return f0;Wv=1;const e=IE(),{log:t}=wg(),n=xg();let i=0;return f0=()=>{const c=n("Scheduler",i),u={},h={};let w=[];i+=1;const y=()=>w.length,g=()=>Object.keys(u).length,b=()=>{if(w.length!==0){const k=Object.keys(u);for(let F=0;F<k.length;F+=1)if(typeof h[k[F]]>"u"){w[0](u[k[F]]);break}}},E=(k,F)=>new Promise((G,z)=>{const U=e({action:k,payload:F});w.push(async Z=>{w.shift(),h[Z.id]=U;try{G(await Z[k].apply(this,[...F,U.id]))}catch(re){z(re)}finally{delete h[Z.id],b()}}),t(`[${c}]: Add ${U.id} to JobQueue`),t(`[${c}]: JobQueue length=${w.length}`),b()});return{addWorker:k=>(u[k.id]=k,t(`[${c}]: Add ${k.id}`),t(`[${c}]: Number of workers=${g()}`),b(),k.id),addJob:async(k,...F)=>{if(g()===0)throw Error(`[${c}]: You need to have at least one worker before adding jobs`);return E(k,F)},terminate:async()=>{Object.keys(u).forEach(async k=>{await u[k].terminate()}),w=[]},getQueueLen:y,getNumWorkers:g}},f0}function pj(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var h0,zv;function mj(){return zv||(zv=1,h0=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof pj=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),h0}var p0,Gv;function gj(){if(Gv)return p0;Gv=1;const t=mj()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return p0=n=>{const i={...n};return["corePath","workerPath","langPath"].forEach(c=>{n[c]&&(i[c]=t(i[c]))}),i},p0}var m0,Xv;function NE(){return Xv||(Xv=1,m0={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),m0}const xj="7.0.0",wj={version:xj};var g0,$v;function yj(){return $v||($v=1,g0={workerBlobURL:!0,logger:()=>{}}),g0}var x0,Yv;function vj(){if(Yv)return x0;Yv=1;const e=wj.version;return x0={...yj(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},x0}var w0,Zv;function Cj(){return Zv||(Zv=1,w0=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const i=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(i))}else n=new Worker(e);return n}),w0}var y0,Kv;function Ej(){return Kv||(Kv=1,y0=e=>{e.terminate()}),y0}var v0,qv;function bj(){return qv||(qv=1,v0=(e,t)=>{e.onmessage=({data:n})=>{t(n)}}),v0}var C0,Qv;function Sj(){return Qv||(Qv=1,C0=async(e,t)=>{e.postMessage(t)}),C0}var E0,Jv;function Aj(){if(Jv)return E0;Jv=1;const e=n=>new Promise((i,c)=>{const u=new FileReader;u.onload=()=>{i(u.result)},u.onerror=({target:{error:{code:h}}})=>{c(Error(`File could not be read! Code=${h}`))},u.readAsArrayBuffer(n)}),t=async n=>{let i=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?i=atob(n.split(",")[1]).split("").map(c=>c.charCodeAt(0)):i=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(i=await t(n.src)),n.tagName==="VIDEO"&&(i=await t(n.poster)),n.tagName==="CANVAS"&&await new Promise(c=>{n.toBlob(async u=>{i=await e(u),c()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const c=await n.convertToBlob();i=await e(c)}else(n instanceof File||n instanceof Blob)&&(i=await e(n));return new Uint8Array(i)};return E0=t,E0}var b0,e3;function Tj(){if(e3)return b0;e3=1;const e=vj(),t=Cj(),n=Ej(),i=bj(),c=Sj(),u=Aj();return b0={defaultOptions:e,spawnWorker:t,terminateWorker:n,onMessage:i,send:c,loadImage:u},b0}var S0,t3;function RE(){if(t3)return S0;t3=1;const e=gj(),t=IE(),{log:n}=wg(),i=xg(),c=NE(),{defaultOptions:u,spawnWorker:h,terminateWorker:w,onMessage:y,loadImage:g,send:b}=Tj();let E=0;return S0=async(T="eng",R=c.LSTM_ONLY,O={},k={})=>{const F=i("Worker",E),{logger:G,errorHandler:z,...U}=e({...u,...O}),Z={},re=typeof T=="string"?T.split("+"):T;let le=R,P=k;const L=[c.DEFAULT,c.LSTM_ONLY].includes(R)&&!U.legacyCore;let B,K;const q=new Promise((Ue,Se)=>{K=Ue,B=Se}),ee=Ue=>{B(Ue.message)};let X=h(U);X.onerror=ee,E+=1;const Pe=({id:Ue,action:Se,payload:Ve})=>new Promise((Ye,tt)=>{n(`[${F}]: Start ${Ue}, action=${Se}`);const Je=`${Se}-${Ue}`;Z[Je]={resolve:Ye,reject:tt},b(X,{workerId:F,jobId:Ue,action:Se,payload:Ve})}),ne=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),we=Ue=>Pe(t({id:Ue,action:"load",payload:{options:{lstmOnly:L,corePath:U.corePath,logging:U.logging}}})),xe=(Ue,Se,Ve)=>Pe(t({id:Ve,action:"FS",payload:{method:"writeFile",args:[Ue,Se]}})),oe=(Ue,Se)=>Pe(t({id:Se,action:"FS",payload:{method:"readFile",args:[Ue,{encoding:"utf8"}]}})),ce=(Ue,Se)=>Pe(t({id:Se,action:"FS",payload:{method:"unlink",args:[Ue]}})),ue=(Ue,Se,Ve)=>Pe(t({id:Ve,action:"FS",payload:{method:Ue,args:Se}})),J=(Ue,Se)=>Pe(t({id:Se,action:"loadLanguage",payload:{langs:Ue,options:{langPath:U.langPath,dataPath:U.dataPath,cachePath:U.cachePath,cacheMethod:U.cacheMethod,gzip:U.gzip,lstmOnly:[c.DEFAULT,c.LSTM_ONLY].includes(le)&&!U.legacyLang}}})),de=(Ue,Se,Ve,Ye)=>Pe(t({id:Ye,action:"initialize",payload:{langs:Ue,oem:Se,config:Ve}})),ve=(Ue="eng",Se,Ve,Ye)=>{if(L&&[c.TESSERACT_ONLY,c.TESSERACT_LSTM_COMBINED].includes(Se))throw Error("Legacy model requested but code missing.");const tt=Se||le;le=tt;const Je=Ve||P;P=Je;const nn=(typeof Ue=="string"?Ue.split("+"):Ue).filter(Gt=>!re.includes(Gt));return re.push(...nn),nn.length>0?J(nn,Ye).then(()=>de(Ue,tt,Je,Ye)):de(Ue,tt,Je,Ye)},Re=(Ue={},Se)=>Pe(t({id:Se,action:"setParameters",payload:{params:Ue}})),Ge=async(Ue,Se={},Ve={text:!0},Ye)=>Pe(t({id:Ye,action:"recognize",payload:{image:await g(Ue),options:Se,output:Ve}})),Ie=async(Ue,Se)=>{if(L)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return Pe(t({id:Se,action:"detect",payload:{image:await g(Ue)}}))},Le=async()=>(X!==null&&(w(X),X=null),Promise.resolve());y(X,({workerId:Ue,jobId:Se,status:Ve,action:Ye,data:tt})=>{const Je=`${Ye}-${Se}`;if(Ve==="resolve")n(`[${Ue}]: Complete ${Se}`),Z[Je].resolve({jobId:Se,data:tt}),delete Z[Je];else if(Ve==="reject")if(Z[Je].reject(tt),delete Z[Je],Ye==="load"&&B(tt),z)z(tt);else throw Error(tt);else Ve==="progress"&&G({...tt,userJobId:Se})});const Fe={id:F,worker:X,load:ne,writeText:xe,readText:oe,removeFile:ce,FS:ue,reinitialize:ve,setParameters:Re,recognize:Ge,detect:Ie,terminate:Le};return we().then(()=>J(T)).then(()=>de(T,R,k)).then(()=>K(Fe)).catch(()=>{}),q},S0}var A0,n3;function Ij(){if(n3)return A0;n3=1;const e=RE();return A0={recognize:async(i,c,u)=>{const h=await e(c,1,u);return h.recognize(i).finally(async()=>{await h.terminate()})},detect:async(i,c)=>{const u=await e("osd",0,c);return u.detect(i).finally(async()=>{await u.terminate()})}},A0}var T0,r3;function Nj(){return r3||(r3=1,T0={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),T0}var I0,i3;function Rj(){return i3||(i3=1,I0={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),I0}var N0,s3;function _j(){if(s3)return N0;s3=1,fj();const e=hj(),t=RE(),n=Ij(),i=Nj(),c=NE(),u=Rj(),{setLogging:h}=wg();return N0={languages:i,OEM:c,PSM:u,createScheduler:e,createWorker:t,setLogging:h,...n},N0}var Pj=_j();function Dj(e){e.split(/\s*\n\s*/);const t=e.replace(/\s+/g," "),n=t.match(/(\d+)\s*h(?:our)?s?\s*(\d+)\s*m(?:in)?/i)||t.match(/(\d+)\s*:\s*(\d+)\s*(?:h|m|min)/i)||t.match(/(\d+)\s*h\s*(\d+)\s*m/i);if(n){const h=parseInt(n[1],10),w=parseInt(n[2],10);if(!isNaN(h)&&!isNaN(w))return h*60+w}const i=t.match(/(\d+)\s*h(?:our)?s?(?:\s|$|m)/i);if(i){const h=parseInt(i[1],10);if(!isNaN(h))return h*60}const c=t.match(/(\d+)\s*m(?:in)?(?:\s|$)/i)||t.match(/(\d+)\s*minutes?/i);if(c){const h=parseInt(c[1],10);if(!isNaN(h))return h}const u=t.match(/(\d+)\s*:\s*(\d+)(?:\s|$|m|h)/);if(u){const h=parseInt(u[1],10),w=parseInt(u[2],10);if(!isNaN(h)&&!isNaN(w))return h*60+w}return null}function Mj(e){const n=e.replace(/\s+/g," ").match(/[$]?\s*(\d+[.,]\d{2})(?:\s|$|[^\d])/);if(n){const i=parseFloat(n[1].replace(",","."));return isNaN(i)?null:i}return null}function Oj(e){const t=e.replace(/\s+/g," ").toLowerCase(),n=y=>{const g=parseFloat(y.replace(",","."));return isNaN(g)?null:g},i=t.match(/(?:weight|filament|used|material)\s*:?\s*(\d+(?:[.,]\d+)?)\s*[gq9]?(?:ram)?s?(?:\s|$|[^\w])/i)||t.match(/(?:weight|filament|used|material)\s*:?\s*(\d+(?:[.,]\d+)?)\s*(?:g|grams?)/i);if(i){const y=n(i[1]);if(y!=null&&y<1e4)return y}const c=t.match(/(\d+(?:[.,]\d+)?)\s*[gq9](?:ram)?s?(?:\s|$|[^\w])/i)||t.match(/(\d+(?:[.,]\d+)?)\s*g(?:ram)?s?(?:\s|$|[^\w])/i);if(c){const y=n(c[1]);if(y!=null&&y<1e4)return y}const u=t.match(/(\d+(?:[.,]\d+)?)\s*grams?/i);if(u){const y=n(u[1]);if(y!=null&&y<1e4)return y}const h=t.match(/(\d+(?:[.,]\d+)?)\s*kg(?:\s|$|[^\w])/i);if(h){const y=n(h[1]);if(y!=null&&y<100)return y*1e3}const w=t.match(/(\d{1,2}(?:[.,]\d{1,2})?)\s*g\b/i);if(w){const y=n(w[1]);if(y!=null&&y>0&&y<1e3)return y}return null}function kj(e){return{printTimeMinutes:Dj(e),price:Mj(e),weightGrams:Oj(e),rawText:e}}function Lj({open:e,onOpenChange:t,onExtract:n}){const i=M.useRef(null),c=qC(),[u,h]=M.useState("idle"),[w,y]=M.useState(""),[g,b]=M.useState(null),[E,T]=M.useState(null),R=async le=>{var L;const P=(L=le.target.files)==null?void 0:L[0];if(le.target.value="",!(!P||!P.type.startsWith("image/"))){h("loading"),y(""),b(null),T(URL.createObjectURL(P));try{const B=await Pj.createWorker("eng"),{data:K}=await B.recognize(P);await B.terminate();const q=kj(K.text);b(q),h("done")}catch(B){h("error"),y(B instanceof Error?B.message:"Failed to read image")}}},O=()=>{if(!g)return;const le=g.printTimeMinutes??0,P=Math.floor(le/60),L=le%60,B=[];g.price!=null&&B.push(`Detected cost from image: $${g.price.toFixed(2)}`);const K=B.join(". ");n({printTimeHours:P,printTimeMinutes:L,weightUsed:g.weightGrams,detectedPrice:g.price,notes:K}),t(!1),k()},k=()=>{h("idle"),b(null),y(""),E&&(URL.revokeObjectURL(E),T(null))},F=le=>{le||k(),t(le)},G=(g==null?void 0:g.printTimeMinutes)!=null&&g.printTimeMinutes>0,z=(g==null?void 0:g.price)!=null,U=(g==null?void 0:g.weightGrams)!=null&&g.weightGrams>0,Z=x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{ref:i,id:"scan-image-input",type:"file",accept:"image/*",className:"sr-only",onChange:R,disabled:u==="loading","aria-hidden":!0}),x.jsx("label",{htmlFor:u==="loading"?void 0:"scan-image-input",className:`flex items-center justify-center gap-2 rounded-md border border-input bg-background px-4 py-3 text-sm font-medium ring-offset-background transition-colors ${u==="loading"?"cursor-not-allowed opacity-70":"cursor-pointer hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"}`,children:u==="loading"?"Reading image":"Upload a picture"})]}),E&&x.jsx("div",{className:"rounded-lg border overflow-hidden bg-muted/50",children:x.jsx("img",{src:E,alt:"Preview",className:"w-full max-h-40 object-contain"})}),u==="error"&&x.jsx("p",{className:"text-sm text-destructive",children:w}),u==="done"&&g&&x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[x.jsx("p",{className:"text-sm font-medium",children:"Detected:"}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[G&&x.jsxs("span",{className:"text-sm bg-green-100 text-green-800 px-2 py-1 rounded",children:["Time: ",Math.floor((g.printTimeMinutes??0)/60),"h"," ",(g.printTimeMinutes??0)%60,"m"]}),z&&x.jsxs("span",{className:"text-sm bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Price: $",g.price.toFixed(2)]}),U&&x.jsxs("span",{className:"text-sm bg-amber-100 text-amber-800 px-2 py-1 rounded",children:["Weight: ",g.weightGrams,"g"]}),!G&&!z&&!U&&x.jsx("span",{className:"text-sm text-muted-foreground",children:"No time, price or weight found. You can still create a part manually."})]})]}),x.jsx(Ut,{className:"w-full",onClick:O,children:"Create part with this info"})]})]}),re=x.jsxs(x.Fragment,{children:[x.jsx(Xm,{className:"sm:text-lg",children:"Scan image for part info"}),x.jsx($m,{children:"Take a photo or pick from your library (printer display, slicer, receipt) to extract print time, weight and price."})]});return c?x.jsx(Wm,{open:e,onOpenChange:F,children:x.jsxs(zm,{className:"max-h-[90vh]",children:[x.jsx(Gm,{className:"space-y-1 pb-2",children:re}),x.jsx("div",{className:"space-y-4 overflow-y-auto px-4 pb-6",children:Z})]})}):x.jsx(al,{open:e,onOpenChange:F,children:x.jsxs(ll,{className:"sm:max-w-[425px]",children:[x.jsxs(cl,{children:[x.jsx(ul,{children:"Scan image for part info"}),x.jsx(dl,{children:"Take a photo or pick from your library (printer display, slicer, receipt) to extract print time, weight and price."})]}),x.jsx("div",{className:"space-y-4 py-4",children:Z})]})})}function jj({project:e,partCount:t,totalCost:n,onClick:i}){return x.jsxs(zn,{className:"!p-[16px] gap-0 w-full max-w-none hover:shadow-lg transition-all active:scale-95 cursor-pointer",onClick:()=>i==null?void 0:i(e),children:[x.jsxs("div",{className:"flex items-center w-full gap-4",children:[x.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center shrink-0 bg-neutral-300",children:x.jsx(Ym,{active:!0,className:"w-6 h-6 text-white drop-shadow-md"})}),x.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[x.jsx("h3",{className:"font-semibold truncate",children:e.name}),x.jsx("div",{className:"flex flex-wrap gap-2 mt-1 w-full",children:x.jsxs(Zi,{children:[t," part",t!==1?"s":""]})})]})]}),x.jsxs("div",{className:"space-y-2 w-full mt-3",children:[x.jsxs("div",{className:"flex justify-between items-baseline gap-3 text-sm",children:[x.jsx("span",{className:"text-muted-foreground shrink-0",children:"Parts"}),x.jsx("span",{className:"font-medium tabular-nums text-right w-16 shrink-0",children:t})]}),x.jsxs("div",{className:"flex justify-between items-baseline gap-3 text-sm",children:[x.jsx("span",{className:"text-muted-foreground shrink-0",children:"Cost"}),x.jsx("span",{className:`font-medium tabular-nums text-right w-16 shrink-0 ${n!==null?"text-green-600":"text-foreground"}`,children:n!==null?`$${n.toFixed(2)}`:""})]})]})]})}function _E({open:e,onOpenChange:t,onSave:n,editProject:i}){const[c,u]=M.useState("");M.useEffect(()=>{u(i?i.name:"")},[i,e]);const h=w=>{w.preventDefault();const y=c.trim();y&&(n(i?{id:i.id,name:y}:{name:y}),t(!1))};return x.jsx(al,{open:e,onOpenChange:t,children:x.jsx(ll,{className:"sm:max-w-[425px]",children:x.jsxs("form",{onSubmit:h,children:[x.jsxs(cl,{children:[x.jsx(ul,{children:i?"Edit project":"New project"}),x.jsx(dl,{children:i?"Change the project name.":"Create a project to group related parts."})]}),x.jsx("div",{className:"grid gap-4 py-4",children:x.jsxs("div",{className:"grid gap-2",children:[x.jsx(ci,{htmlFor:"project-name",children:"Name"}),x.jsx(Xi,{id:"project-name",value:c,onChange:w=>u(w.target.value),placeholder:"e.g. Desk Organizer",autoFocus:!0})]})}),x.jsxs(Hf,{children:[x.jsx(Ut,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),x.jsx(Ut,{type:"submit",disabled:!c.trim(),children:i?"Save":"Create"})]})]})})})}function Bj({className:e="",active:t=!1}){const n=M.useId(),i=`clip0-allparts-${n.replace(/:/g,"")}`,c=`mask0-allparts-${n.replace(/:/g,"")}`;return t?x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${i})`,children:[x.jsx("mask",{id:c,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"-1",y:"0",width:"25",height:"24",children:x.jsx("path",{d:"M23.999 0H-0.000976562V24H23.999V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${c})`,children:[x.jsx("path",{opacity:"0.4",d:"M21.0395 7.19L11.9995 12.42L2.95947 7.19C3.35947 6.45 3.93947 5.8 4.58947 5.44L9.92947 2.48C11.0695 1.84 12.9295 1.84 14.0695 2.48L19.4095 5.44C20.0595 5.8 20.6395 6.45 21.0395 7.19Z",fill:"currentColor"}),x.jsx("path",{opacity:"0.6",d:"M11.9996 12.4195V21.9995C11.2496 21.9995 10.4996 21.8395 9.92965 21.5195L4.58965 18.5595C3.37965 17.8895 2.38965 16.2095 2.38965 14.8295V9.16945C2.38965 8.52945 2.60965 7.82945 2.95965 7.18945L11.9996 12.4195Z",fill:"currentColor"}),x.jsx("path",{d:"M21.6095 9.16945V14.8295C21.6095 16.2095 20.6195 17.8895 19.4095 18.5595L14.0695 21.5195C13.4995 21.8395 12.7495 21.9995 11.9995 21.9995V12.4195L21.0395 7.18945C21.3895 7.82945 21.6095 8.52945 21.6095 9.16945Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:i,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${i})`,children:[x.jsx("mask",{id:c,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${c})`,children:[x.jsx("path",{d:"M11.9996 13.3008C11.8696 13.3008 11.7396 13.2708 11.6196 13.2008L2.7896 8.09083C2.4396 7.88083 2.3096 7.42083 2.5196 7.06083C2.7296 6.70083 3.1896 6.58083 3.5496 6.79083L11.9996 11.6808L20.3996 6.82083C20.7596 6.61083 21.2196 6.74083 21.4296 7.09083C21.6396 7.45083 21.5096 7.91083 21.1596 8.12083L12.3896 13.2008C12.2596 13.2608 12.1296 13.3008 11.9996 13.3008Z",fill:"currentColor"}),x.jsx("path",{d:"M12 22.3591C11.59 22.3591 11.25 22.0191 11.25 21.6091V12.5391C11.25 12.1291 11.59 11.7891 12 11.7891C12.41 11.7891 12.75 12.1291 12.75 12.5391V21.6091C12.75 22.0191 12.41 22.3591 12 22.3591Z",fill:"currentColor"}),x.jsx("path",{d:"M11.9997 22.75C11.1197 22.75 10.2497 22.56 9.55965 22.18L4.21965 19.21C2.76965 18.41 1.63965 16.48 1.63965 14.82V9.17C1.63965 7.51 2.76965 5.59 4.21965 4.78L9.55965 1.82C10.9297 1.06 13.0697 1.06 14.4397 1.82L19.7797 4.79C21.2297 5.59 22.3597 7.52 22.3597 9.18V14.83C22.3597 16.49 21.2297 18.41 19.7797 19.22L14.4397 22.18C13.7497 22.56 12.8797 22.75 11.9997 22.75ZM11.9997 2.75C11.3697 2.75 10.7497 2.88 10.2897 3.13L4.94965 6.1C3.98965 6.63 3.13965 8.07 3.13965 9.17V14.82C3.13965 15.92 3.98965 17.36 4.94965 17.9L10.2897 20.87C11.1997 21.38 12.7997 21.38 13.7097 20.87L19.0497 17.9C20.0097 17.36 20.8597 15.93 20.8597 14.82V9.17C20.8597 8.07 20.0097 6.63 19.0497 6.09L13.7097 3.12C13.2497 2.88 12.6297 2.75 11.9997 2.75Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:i,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function PE({className:e}){const t=M.useId(),n=`clip0-projects-empty-${t.replace(/:/g,"")}`,i=`mask0-projects-empty-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{d:"M18.29 22.75H5.70995C2.30995 22.75 2.12995 20.88 1.97995 19.37L1.57995 14.36C1.48995 13.39 1.76995 12.42 2.38995 11.64C3.12995 10.74 4.17995 10.25 5.30995 10.25H18.69C19.8 10.25 20.85 10.74 21.5599 11.59L21.7299 11.82C22.27 12.56 22.51 13.46 22.42 14.37L22.02 19.36C21.87 20.88 21.69 22.75 18.29 22.75ZM5.30995 11.75C4.63995 11.75 3.99995 12.05 3.57995 12.57L3.50995 12.64C3.18995 13.05 3.01995 13.63 3.07995 14.23L3.47995 19.24C3.61995 20.7 3.67995 21.25 5.70995 21.25H18.29C20.33 21.25 20.38 20.7 20.52 19.23L20.92 14.22C20.9799 13.63 20.8099 13.04 20.42 12.58L20.32 12.46C19.8699 11.99 19.3 11.75 18.68 11.75H5.30995Z",fill:"currentColor"}),x.jsx("path",{d:"M20.5 12.2203C20.09 12.2203 19.75 11.8803 19.75 11.4703V9.68027C19.75 6.70027 19.23 6.18027 16.25 6.18027H13.7C12.57 6.18027 12.18 5.78027 11.75 5.21027L10.46 3.50027C10.02 2.92027 9.92 2.78027 9.02 2.78027H7.75C4.77 2.78027 4.25 3.30027 4.25 6.28027V11.4303C4.25 11.8403 3.91 12.1803 3.5 12.1803C3.09 12.1803 2.75 11.8403 2.75 11.4303V6.28027C2.75 2.45027 3.92 1.28027 7.75 1.28027H9.03C10.57 1.28027 11.05 1.78027 11.67 2.60027L12.95 4.30027C13.22 4.66027 13.24 4.68027 13.71 4.68027H16.26C20.09 4.68027 21.26 5.85027 21.26 9.68027V11.4703C21.25 11.8803 20.91 12.2203 20.5 12.2203Z",fill:"currentColor"}),x.jsx("path",{d:"M14.5697 17.75H9.42969C9.01969 17.75 8.67969 17.41 8.67969 17C8.67969 16.59 9.01969 16.25 9.42969 16.25H14.5697C14.9797 16.25 15.3197 16.59 15.3197 17C15.3197 17.41 14.9897 17.75 14.5697 17.75Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function Fj(){const e=ro(),t=hs(),{printedParts:n,filaments:i,projects:c,addPrintedPart:u,updatePrintedPart:h,deletePrintedPart:w,addProject:y,updateProject:g,deleteProject:b}=ga(),[E,T]=M.useState(!1),[R,O]=M.useState(!1),[k,F]=M.useState(null),[G,z]=M.useState(!1),[U,Z]=M.useState(null),[re,le]=M.useState(null),[P,L]=M.useState("all"),[B,K]=M.useState("all"),[q,ee]=M.useState("date"),[X,Pe]=M.useState(!1),[ne,we]=M.useState(""),{registerAddHandler:xe,unregisterAddHandler:oe}=o9();M.useEffect(()=>{var Se;((Se=t.state)==null?void 0:Se.view)==="projects"&&L("projects")},[t.state]);const ce=Se=>{"id"in Se?(h(Se),Z(null)):u(Se)},ue=Se=>{"id"in Se?(g(Se),le(null)):y(Se),z(!1)},J=Se=>{Z(Se),T(!0)},de=M.useCallback(()=>{Z(null),T(!0)},[]);M.useEffect(()=>(xe(de),oe),[xe,oe,de]),M.useEffect(()=>{var Se;(Se=t.state)!=null&&Se.openAdd&&(de(),e(t.pathname,{replace:!0,state:{}}))},[t.state,t.pathname,de,e]),M.useEffect(()=>{var Se;(Se=t.state)!=null&&Se.openProjectDialog&&(le(null),z(!0),e(t.pathname,{replace:!0,state:{}}))},[t.state,t.pathname,e]);const ve=()=>{Pe(!X),X&&we("")};let Re=n.filter(Se=>{if(!ne)return!0;const Ve=ne.toLowerCase(),Ye=i.find(tt=>tt.id===Se.filamentId);return Se.name.toLowerCase().includes(Ve)||Se.notes&&Se.notes.toLowerCase().includes(Ve)||(Ye==null?void 0:Ye.name.toLowerCase().includes(Ve))||(Ye==null?void 0:Ye.material.toLowerCase().includes(Ve))||(Ye==null?void 0:Ye.color.toLowerCase().includes(Ve))});B!=="all"&&(Re=Re.filter(Se=>Se.filamentId===B)),Re=[...Re].sort((Se,Ve)=>{switch(q){case"name":return Se.name.localeCompare(Ve.name);case"date":return new Date(Ve.printDate).getTime()-new Date(Se.printDate).getTime();case"weight":return Ve.weightUsed-Se.weightUsed;case"time":return Ve.printTime-Se.printTime;default:return 0}});const Ge=n.reduce((Se,Ve)=>Se+Ve.weightUsed,0),Ie=n.reduce((Se,Ve)=>Se+Ve.printTime,0),Le=Math.floor(Ie/60),Fe=Se=>n.filter(Ve=>Ve.projectId===Se).length,Ue=Se=>{const Ve=n.filter(Je=>Je.projectId===Se);let Ye=0,tt=!1;for(const Je of Ve){const tn=i.find(nn=>nn.id===Je.filamentId);(tn==null?void 0:tn.price)!=null&&(tn==null?void 0:tn.totalWeight)!=null&&(Ye+=tn.price/tn.totalWeight*Je.weightUsed,tt=!0)}return tt?Ye:null};return x.jsxs("div",{className:"p-4 space-y-4 max-w-md mx-auto pb-24",children:[x.jsxs("div",{className:"pt-2 flex items-start justify-between gap-3",children:[x.jsxs("div",{className:"flex-shrink-0",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Printed Parts"}),x.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," part",n.length!==1?"s":"","  ",Ge,"g used  ",Le,"h"]})]}),X?x.jsx("div",{className:"flex-1 flex items-center gap-2",children:x.jsxs("div",{className:"relative flex-1",children:[x.jsx(Xi,{type:"text",placeholder:"Search...",value:ne,onChange:Se=>we(Se.target.value),className:"w-full pr-12 h-12 rounded-full",autoFocus:!0}),x.jsx(Ut,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",onClick:ve,children:x.jsx(Rf,{})})]})}):x.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[x.jsx(Ut,{variant:"ghost",size:"icon",onClick:ve,children:x.jsx(Rf,{})}),x.jsx(Ut,{variant:"ghost",size:"icon",className:"min-w-[44px] min-h-[44px] touch-manipulation",onClick:()=>O(!0),onPointerUp:Se=>{Se.pointerType==="touch"&&O(!0)},"aria-label":"Scan image for part info",children:x.jsx(uE,{})}),x.jsx(Ut,{variant:"ghost",size:"icon",onClick:()=>{},children:x.jsx(dE,{})})]})]}),x.jsxs("div",{className:"bg-white flex gap-[8px] items-center p-[4px] rounded-xl w-full shadow-[0_-2px_10px_rgba(0,0,0,0.06),0_2px_10px_rgba(0,0,0,0.06)]",children:[x.jsxs("button",{type:"button",onClick:()=>L("all"),className:`relative flex-1 min-w-0 py-2 px-3 rounded-xl text-sm font-medium transition-colors flex items-center justify-center gap-1.5 ${P==="all"?"text-[#F26D00]":"text-[#7A7A7A] hover:text-gray-900"}`,children:[P==="all"&&x.jsx("span",{className:"absolute inset-0 rounded-[10px] bg-orange-100 z-0"}),x.jsxs("span",{className:"relative z-[1] flex items-center gap-1.5 shrink-0",children:[x.jsx(Bj,{className:"h-4 w-4",active:P==="all"}),"All parts"]})]}),x.jsxs("button",{type:"button",onClick:()=>L("projects"),className:`relative flex-1 min-w-0 py-2 px-3 rounded-xl text-sm font-medium transition-colors flex items-center justify-center gap-1.5 ${P==="projects"?"text-[#F26D00]":"text-[#7A7A7A] hover:text-gray-900"}`,children:[P==="projects"&&x.jsx("span",{className:"absolute inset-0 rounded-[10px] bg-orange-100 z-0"}),x.jsxs("span",{className:"relative z-[1] flex items-center gap-1.5 shrink-0",children:[x.jsx(Ym,{className:"h-4 w-4",active:P==="projects"}),"Projects"]})]})]}),P==="projects"?x.jsxs(x.Fragment,{children:[c.length>0?x.jsx("div",{className:"space-y-3 pb-4",children:c.map(Se=>x.jsx(jj,{project:Se,partCount:Fe(Se.id),totalCost:Ue(Se.id),onClick:()=>e(`/parts/project/${Se.id}`)},Se.id))}):x.jsxs("div",{className:"text-center py-12",children:[x.jsx(PE,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),x.jsx("h3",{className:"font-semibold mb-2",children:"No projects yet"}),x.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a project to group related parts together."}),x.jsxs(Ut,{onClick:()=>{le(null),z(!0)},children:[x.jsx(Qa,{className:"mr-2 h-4 w-4"}),"New project"]})]}),c.length>0&&x.jsxs(Ut,{variant:"outline",className:"w-full",onClick:()=>{le(null),z(!0)},children:[x.jsx(Qa,{className:"mr-2 h-4 w-4"}),"New project"]})]}):null,P==="all"&&x.jsxs(x.Fragment,{children:[!1,Re.length>0?x.jsx("div",{className:"space-y-3 pb-4",children:Re.map(Se=>{const Ve=i.find(Ye=>Ye.id===Se.filamentId);return x.jsx(TE,{part:Se,filamentName:Ve==null?void 0:Ve.name,filamentColor:Ve==null?void 0:Ve.colorHex,filamentPrice:Ve==null?void 0:Ve.price,filamentTotalWeight:Ve==null?void 0:Ve.totalWeight,onEdit:J,onDelete:w,onClick:Ye=>e(`/parts/${Ye.id}`)},Se.id)})}):x.jsxs("div",{className:"text-center py-12",children:[x.jsx(WC,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),x.jsx("h3",{className:"font-semibold mb-2",children:"No parts found"}),x.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:B!=="all"?"No parts match the selected filter.":"Start tracking your 3D printed parts."}),x.jsxs(Ut,{onClick:de,children:[x.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Add Part"]})]})]}),x.jsx(gg,{open:E,onOpenChange:Se=>{T(Se),Se||(Z(null),F(null))},onSave:ce,editPart:U,initialData:k??void 0}),x.jsx(Lj,{open:R,onOpenChange:O,onExtract:Se=>{F({printTimeHours:Se.printTimeHours,printTimeMinutes:Se.printTimeMinutes,weightUsed:Se.weightUsed??void 0,notes:Se.notes}),O(!1),Z(null),T(!0)}}),x.jsx(_E,{open:G,onOpenChange:Se=>{z(Se),Se||le(null)},onSave:ue,editProject:re})]})}function Vj({className:e}){const t=M.useId(),n=`clip0-printtime-${t.replace(/:/g,"")}`,i=`mask0-printtime-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{opacity:"0.4",d:"M12.0001 22.0002C16.7884 22.0002 20.6701 18.1185 20.6701 13.3302C20.6701 8.54185 16.7884 4.66016 12.0001 4.66016C7.21177 4.66016 3.33008 8.54185 3.33008 13.3302C3.33008 18.1185 7.21177 22.0002 12.0001 22.0002Z",fill:"currentColor"}),x.jsx("path",{d:"M12 13.75C11.59 13.75 11.25 13.41 11.25 13V8C11.25 7.59 11.59 7.25 12 7.25C12.41 7.25 12.75 7.59 12.75 8V13C12.75 13.41 12.41 13.75 12 13.75Z",fill:"currentColor"}),x.jsx("path",{d:"M14.8901 3.45H9.11014C8.71014 3.45 8.39014 3.13 8.39014 2.73C8.39014 2.33 8.71014 2 9.11014 2H14.8901C15.2901 2 15.6101 2.32 15.6101 2.72C15.6101 3.12 15.2901 3.45 14.8901 3.45Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function Uj({className:e}){const t=M.useId(),n=`clip0-addimage-${t.replace(/:/g,"")}`,i=`mask0-addimage-${t.replace(/:/g,"")}`;return x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[x.jsxs("g",{clipPath:`url(#${n})`,children:[x.jsx("mask",{id:i,style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:x.jsx("path",{d:"M24 0H0V24H24V0Z",fill:"white"})}),x.jsxs("g",{mask:`url(#${i})`,children:[x.jsx("path",{opacity:"0.4",d:"M22.0201 16.8203L18.8901 9.50027C18.3201 8.16027 17.4701 7.40027 16.5001 7.35027C15.5401 7.30027 14.6101 7.97027 13.9001 9.25027L12.0001 12.6603C11.6001 13.3803 11.0301 13.8103 10.4101 13.8603C9.78014 13.9203 9.15014 13.5903 8.64014 12.9403L8.42014 12.6603C7.71014 11.7703 6.83014 11.3403 5.93014 11.4303C5.03014 11.5203 4.26014 12.1403 3.75014 13.1503L2.02014 16.6003C1.40014 17.8503 1.46014 19.3003 2.19014 20.4803C2.92014 21.6603 4.19014 22.3703 5.58014 22.3703H18.3401C19.6801 22.3703 20.9301 21.7003 21.6701 20.5803C22.4301 19.4603 22.5501 18.0503 22.0201 16.8203Z",fill:"currentColor"}),x.jsx("path",{d:"M6.96984 8.38012C8.83657 8.38012 10.3498 6.86684 10.3498 5.00012C10.3498 3.13339 8.83657 1.62012 6.96984 1.62012C5.10312 1.62012 3.58984 3.13339 3.58984 5.00012C3.58984 6.86684 5.10312 8.38012 6.96984 8.38012Z",fill:"currentColor"})]})]}),x.jsx("defs",{children:x.jsx("clipPath",{id:n,children:x.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function Hj(){const{id:e}=Fp(),t=ro(),{printedParts:n,updatePrintedPart:i,deletePrintedPart:c,filaments:u}=ga(),[h,w]=M.useState(!1),[y,g]=M.useState(!1),[b,E]=M.useState(!1),T=M.useRef(null),R=n.find(P=>P.id===e);if(!R)return x.jsx("div",{className:"flex items-center justify-center h-screen",style:{paddingTop:"env(safe-area-inset-top)"},children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Part not found"}),x.jsx(Ut,{onClick:()=>t("/parts"),children:"Go back"})]})});const O=u.find(P=>P.id===R.filamentId),k=Math.floor(R.printTime/60),F=R.printTime%60,G=new Date(R.printDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),z=O!=null&&O.price&&(O!=null&&O.totalWeight)?O.price/O.totalWeight*R.weightUsed:null,U=()=>{c(R.id),t("/parts")},Z=async P=>{var B;const L=(B=P.target.files)==null?void 0:B[0];if(!(!L||!L.type.startsWith("image/"))){P.target.value="",E(!0);try{const K=await dj(L);i({...R,imageUrl:K}),Zd.success("Image added")}catch{Zd.error("Failed to process image")}finally{E(!1)}}},re=()=>{var P;return(P=T.current)==null?void 0:P.click()},le=P=>{P.stopPropagation(),i({...R,imageUrl:void 0}),Zd.success("Image removed")};return x.jsxs("div",{className:"min-h-screen bg-background pb-20",style:{paddingTop:"max(0.5rem, env(safe-area-inset-top))"},children:[x.jsxs("div",{className:"p-4 space-y-4 max-w-md mx-auto",children:[x.jsxs("div",{className:"flex items-center justify-between pt-2",children:[x.jsxs(Ut,{variant:"ghost",onClick:()=>t("/parts"),size:"sm",children:[x.jsx(yf,{className:"mr-2 h-4 w-4"}),"Back"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(Ut,{variant:"outline",size:"sm",onClick:()=>w(!0),children:[x.jsx(hE,{className:"mr-2 h-4 w-4"}),"Edit"]}),x.jsxs(Ut,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>g(!0),children:[x.jsx(fE,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),x.jsx(zn,{className:"!p-[16px] gap-0 max-w-none",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shrink-0 border border-[#E5E5E5]",style:{backgroundColor:(O==null?void 0:O.colorHex)||"#9ca3af",boxShadow:$s((O==null?void 0:O.colorHex)||"#9ca3af")},children:x.jsx(el,{active:!0,className:`w-6 h-6 drop-shadow-md ${fa((O==null?void 0:O.colorHex)||"#9ca3af")?"text-gray-300":"text-white"}`})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-xl font-bold truncate",children:R.name}),x.jsx(Zi,{className:"mt-1",children:G})]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 items-stretch",children:[x.jsx(zn,{className:"!p-[16px] gap-0 max-w-none flex flex-col justify-center",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/10 flex items-center justify-center shrink-0",children:x.jsx(Pp,{className:"h-5 w-5 text-blue-500"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"Weight Used"}),x.jsxs("p",{className:"text-xl font-bold mt-0.5",children:[R.weightUsed,"g"]})]})]})}),x.jsx(zn,{className:"!p-[16px] gap-0 max-w-none flex flex-col justify-center",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-500/10 flex items-center justify-center shrink-0",children:x.jsx(Vj,{className:"h-5 w-5 text-purple-500"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"Print Time"}),x.jsxs("p",{className:"text-xl font-bold mt-0.5",children:[k>0?`${k}h `:"",F,"m"]})]})]})}),x.jsx(zn,{className:"!p-[16px] gap-0 col-span-2 max-w-none flex flex-col justify-center",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/10 flex items-center justify-center shrink-0",children:x.jsx(Zm,{className:"h-5 w-5 text-green-500"})}),x.jsxs("div",{className:"min-w-0 flex-1 min-h-[2.5rem] flex flex-col justify-center",children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"Estimated Cost"}),x.jsx("p",{className:`text-xl font-bold mt-0.5 ${z!==null?"text-green-600":"text-foreground"}`,children:z!==null?`$${z.toFixed(2)}`:""})]})]})})]}),O&&x.jsxs(zn,{className:"!p-[16px] gap-0 max-w-none",children:[x.jsx("h2",{className:"font-semibold mb-3",children:"Filament Details"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Material"}),x.jsx(Zi,{children:O.material})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Color"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-6 h-6 rounded-md flex items-center justify-center shrink-0 border border-[#E5E5E5]",style:{backgroundColor:O.colorHex},children:x.jsx(ua,{active:!0,className:`w-3 h-3 ${fa(O.colorHex)?"text-gray-400":"text-white"}`})}),x.jsx("span",{children:O.color})]})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Manufacturer"}),x.jsx("span",{children:O.manufacturer})]}),x.jsxs("div",{className:"flex justify-between text-sm",children:[x.jsx("span",{className:"text-muted-foreground",children:"Diameter"}),x.jsxs("span",{children:[O.diameter,"mm"]})]})]})]}),R.notes&&x.jsxs(zn,{className:"!p-[16px] gap-0 max-w-none",children:[x.jsx("h2",{className:"font-semibold mb-2",children:"Notes"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:R.notes})]}),x.jsxs(zn,{className:"!p-[16px] gap-0 max-w-none",children:[x.jsx("h2",{className:"font-semibold mb-3",children:"Part Image"}),x.jsx("input",{ref:T,type:"file",accept:"image/*",className:"hidden",onChange:Z,disabled:b}),R.imageUrl?x.jsxs("div",{className:"rounded-lg overflow-hidden bg-muted border",children:[x.jsx("button",{type:"button",onClick:re,disabled:b,className:"w-full block text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded-lg overflow-hidden",children:x.jsx("img",{src:R.imageUrl,alt:R.name,className:"w-full aspect-video object-cover"})}),x.jsx("div",{className:"p-2",children:x.jsx("button",{type:"button",onClick:le,className:"text-sm text-destructive hover:underline",children:"Remove image"})})]}):x.jsxs("button",{type:"button",onClick:re,disabled:b,className:"w-full rounded-lg border-2 border-dashed border-muted-foreground/30 aspect-video flex flex-col items-center justify-center gap-3 text-muted-foreground hover:bg-muted/50 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[x.jsx(Uj,{className:"w-12 h-12"}),x.jsx("span",{className:"text-sm font-medium",children:b?"Uploading":"Add part image"})]})]})]}),x.jsx(gg,{open:h,onOpenChange:w,onSave:P=>{i(P),w(!1)},editPart:R}),x.jsx(lg,{open:y,onOpenChange:g,children:x.jsxs(cg,{bottomSheet:!0,children:[x.jsxs(ug,{children:[x.jsx(fg,{children:"Delete Part?"}),x.jsxs(hg,{children:['Are you sure you want to delete "',R.name,'"? This action cannot be undone.']})]}),x.jsxs(dg,{children:[x.jsx(mg,{children:"Cancel"}),x.jsx(pg,{onClick:U,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function Wj(e,t){return M.useReducer((n,i)=>t[n][i]??n,e)}var yg="ScrollArea",[DE]=ol(yg),[zj,ps]=DE(yg),ME=M.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:c,scrollHideDelay:u=600,...h}=e,[w,y]=M.useState(null),[g,b]=M.useState(null),[E,T]=M.useState(null),[R,O]=M.useState(null),[k,F]=M.useState(null),[G,z]=M.useState(0),[U,Z]=M.useState(0),[re,le]=M.useState(!1),[P,L]=M.useState(!1),B=kn(t,q=>y(q)),K=JC(c);return x.jsx(zj,{scope:n,type:i,dir:K,scrollHideDelay:u,scrollArea:w,viewport:g,onViewportChange:b,content:E,onContentChange:T,scrollbarX:R,onScrollbarXChange:O,scrollbarXEnabled:re,onScrollbarXEnabledChange:le,scrollbarY:k,onScrollbarYChange:F,scrollbarYEnabled:P,onScrollbarYEnabledChange:L,onCornerWidthChange:z,onCornerHeightChange:Z,children:x.jsx(An.div,{dir:K,...h,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":G+"px","--radix-scroll-area-corner-height":U+"px",...e.style}})})});ME.displayName=yg;var OE="ScrollAreaViewport",kE=M.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:c,...u}=e,h=ps(OE,n),w=M.useRef(null),y=kn(t,w,h.onViewportChange);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),x.jsx(An.div,{"data-radix-scroll-area-viewport":"",...u,ref:y,style:{overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden",...e.style},children:x.jsx("div",{ref:h.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});kE.displayName=OE;var so="ScrollAreaScrollbar",LE=M.forwardRef((e,t)=>{const{forceMount:n,...i}=e,c=ps(so,e.__scopeScrollArea),{onScrollbarXEnabledChange:u,onScrollbarYEnabledChange:h}=c,w=e.orientation==="horizontal";return M.useEffect(()=>(w?u(!0):h(!0),()=>{w?u(!1):h(!1)}),[w,u,h]),c.type==="hover"?x.jsx(Gj,{...i,ref:t,forceMount:n}):c.type==="scroll"?x.jsx(Xj,{...i,ref:t,forceMount:n}):c.type==="auto"?x.jsx(jE,{...i,ref:t,forceMount:n}):c.type==="always"?x.jsx(vg,{...i,ref:t}):null});LE.displayName=so;var Gj=M.forwardRef((e,t)=>{const{forceMount:n,...i}=e,c=ps(so,e.__scopeScrollArea),[u,h]=M.useState(!1);return M.useEffect(()=>{const w=c.scrollArea;let y=0;if(w){const g=()=>{window.clearTimeout(y),h(!0)},b=()=>{y=window.setTimeout(()=>h(!1),c.scrollHideDelay)};return w.addEventListener("pointerenter",g),w.addEventListener("pointerleave",b),()=>{window.clearTimeout(y),w.removeEventListener("pointerenter",g),w.removeEventListener("pointerleave",b)}}},[c.scrollArea,c.scrollHideDelay]),x.jsx(wa,{present:n||u,children:x.jsx(jE,{"data-state":u?"visible":"hidden",...i,ref:t})})}),Xj=M.forwardRef((e,t)=>{const{forceMount:n,...i}=e,c=ps(so,e.__scopeScrollArea),u=e.orientation==="horizontal",h=qf(()=>y("SCROLL_END"),100),[w,y]=Wj("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return M.useEffect(()=>{if(w==="idle"){const g=window.setTimeout(()=>y("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(g)}},[w,c.scrollHideDelay,y]),M.useEffect(()=>{const g=c.viewport,b=u?"scrollLeft":"scrollTop";if(g){let E=g[b];const T=()=>{const R=g[b];E!==R&&(y("SCROLL"),h()),E=R};return g.addEventListener("scroll",T),()=>g.removeEventListener("scroll",T)}},[c.viewport,u,y,h]),x.jsx(wa,{present:n||w!=="hidden",children:x.jsx(vg,{"data-state":w==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Sn(e.onPointerEnter,()=>y("POINTER_ENTER")),onPointerLeave:Sn(e.onPointerLeave,()=>y("POINTER_LEAVE"))})})}),jE=M.forwardRef((e,t)=>{const n=ps(so,e.__scopeScrollArea),{forceMount:i,...c}=e,[u,h]=M.useState(!1),w=e.orientation==="horizontal",y=qf(()=>{if(n.viewport){const g=n.viewport.offsetWidth<n.viewport.scrollWidth,b=n.viewport.offsetHeight<n.viewport.scrollHeight;h(w?g:b)}},10);return ec(n.viewport,y),ec(n.content,y),x.jsx(wa,{present:i||u,children:x.jsx(vg,{"data-state":u?"visible":"hidden",...c,ref:t})})}),vg=M.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,c=ps(so,e.__scopeScrollArea),u=M.useRef(null),h=M.useRef(0),[w,y]=M.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=HE(w.viewport,w.content),b={...i,sizes:w,onSizesChange:y,hasThumb:g>0&&g<1,onThumbChange:T=>u.current=T,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:T=>h.current=T};function E(T,R){return Qj(T,h.current,w,R)}return n==="horizontal"?x.jsx($j,{...b,ref:t,onThumbPositionChange:()=>{if(c.viewport&&u.current){const T=c.viewport.scrollLeft,R=o3(T,w,c.dir);u.current.style.transform=`translate3d(${R}px, 0, 0)`}},onWheelScroll:T=>{c.viewport&&(c.viewport.scrollLeft=T)},onDragScroll:T=>{c.viewport&&(c.viewport.scrollLeft=E(T,c.dir))}}):n==="vertical"?x.jsx(Yj,{...b,ref:t,onThumbPositionChange:()=>{if(c.viewport&&u.current){const T=c.viewport.scrollTop,R=o3(T,w);u.current.style.transform=`translate3d(0, ${R}px, 0)`}},onWheelScroll:T=>{c.viewport&&(c.viewport.scrollTop=T)},onDragScroll:T=>{c.viewport&&(c.viewport.scrollTop=E(T))}}):null}),$j=M.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...c}=e,u=ps(so,e.__scopeScrollArea),[h,w]=M.useState(),y=M.useRef(null),g=kn(t,y,u.onScrollbarXChange);return M.useEffect(()=>{y.current&&w(getComputedStyle(y.current))},[y]),x.jsx(FE,{"data-orientation":"horizontal",...c,ref:g,sizes:n,style:{bottom:0,left:u.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:u.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kf(n)+"px",...e.style},onThumbPointerDown:b=>e.onThumbPointerDown(b.x),onDragScroll:b=>e.onDragScroll(b.x),onWheelScroll:(b,E)=>{if(u.viewport){const T=u.viewport.scrollLeft+b.deltaX;e.onWheelScroll(T),zE(T,E)&&b.preventDefault()}},onResize:()=>{y.current&&u.viewport&&h&&i({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:y.current.clientWidth,paddingStart:Pf(h.paddingLeft),paddingEnd:Pf(h.paddingRight)}})}})}),Yj=M.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...c}=e,u=ps(so,e.__scopeScrollArea),[h,w]=M.useState(),y=M.useRef(null),g=kn(t,y,u.onScrollbarYChange);return M.useEffect(()=>{y.current&&w(getComputedStyle(y.current))},[y]),x.jsx(FE,{"data-orientation":"vertical",...c,ref:g,sizes:n,style:{top:0,right:u.dir==="ltr"?0:void 0,left:u.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kf(n)+"px",...e.style},onThumbPointerDown:b=>e.onThumbPointerDown(b.y),onDragScroll:b=>e.onDragScroll(b.y),onWheelScroll:(b,E)=>{if(u.viewport){const T=u.viewport.scrollTop+b.deltaY;e.onWheelScroll(T),zE(T,E)&&b.preventDefault()}},onResize:()=>{y.current&&u.viewport&&h&&i({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:y.current.clientHeight,paddingStart:Pf(h.paddingTop),paddingEnd:Pf(h.paddingBottom)}})}})}),[Zj,BE]=DE(so),FE=M.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:c,onThumbChange:u,onThumbPointerUp:h,onThumbPointerDown:w,onThumbPositionChange:y,onDragScroll:g,onWheelScroll:b,onResize:E,...T}=e,R=ps(so,n),[O,k]=M.useState(null),F=kn(t,B=>k(B)),G=M.useRef(null),z=M.useRef(""),U=R.viewport,Z=i.content-i.viewport,re=ui(b),le=ui(y),P=qf(E,10);function L(B){if(G.current){const K=B.clientX-G.current.left,q=B.clientY-G.current.top;g({x:K,y:q})}}return M.useEffect(()=>{const B=K=>{const q=K.target;(O==null?void 0:O.contains(q))&&re(K,Z)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[U,O,Z,re]),M.useEffect(le,[i,le]),ec(O,P),ec(R.content,P),x.jsx(Zj,{scope:n,scrollbar:O,hasThumb:c,onThumbChange:ui(u),onThumbPointerUp:ui(h),onThumbPositionChange:le,onThumbPointerDown:ui(w),children:x.jsx(An.div,{...T,ref:F,style:{position:"absolute",...T.style},onPointerDown:Sn(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),G.current=O.getBoundingClientRect(),z.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",R.viewport&&(R.viewport.style.scrollBehavior="auto"),L(B))}),onPointerMove:Sn(e.onPointerMove,L),onPointerUp:Sn(e.onPointerUp,B=>{const K=B.target;K.hasPointerCapture(B.pointerId)&&K.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=z.current,R.viewport&&(R.viewport.style.scrollBehavior=""),G.current=null})})})}),_f="ScrollAreaThumb",VE=M.forwardRef((e,t)=>{const{forceMount:n,...i}=e,c=BE(_f,e.__scopeScrollArea);return x.jsx(wa,{present:n||c.hasThumb,children:x.jsx(Kj,{ref:t,...i})})}),Kj=M.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...c}=e,u=ps(_f,n),h=BE(_f,n),{onThumbPositionChange:w}=h,y=kn(t,E=>h.onThumbChange(E)),g=M.useRef(void 0),b=qf(()=>{g.current&&(g.current(),g.current=void 0)},100);return M.useEffect(()=>{const E=u.viewport;if(E){const T=()=>{if(b(),!g.current){const R=Jj(E,w);g.current=R,w()}};return w(),E.addEventListener("scroll",T),()=>E.removeEventListener("scroll",T)}},[u.viewport,b,w]),x.jsx(An.div,{"data-state":h.hasThumb?"visible":"hidden",...c,ref:y,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Sn(e.onPointerDownCapture,E=>{const R=E.target.getBoundingClientRect(),O=E.clientX-R.left,k=E.clientY-R.top;h.onThumbPointerDown({x:O,y:k})}),onPointerUp:Sn(e.onPointerUp,h.onThumbPointerUp)})});VE.displayName=_f;var Cg="ScrollAreaCorner",UE=M.forwardRef((e,t)=>{const n=ps(Cg,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?x.jsx(qj,{...e,ref:t}):null});UE.displayName=Cg;var qj=M.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,c=ps(Cg,n),[u,h]=M.useState(0),[w,y]=M.useState(0),g=!!(u&&w);return ec(c.scrollbarX,()=>{var E;const b=((E=c.scrollbarX)==null?void 0:E.offsetHeight)||0;c.onCornerHeightChange(b),y(b)}),ec(c.scrollbarY,()=>{var E;const b=((E=c.scrollbarY)==null?void 0:E.offsetWidth)||0;c.onCornerWidthChange(b),h(b)}),g?x.jsx(An.div,{...i,ref:t,style:{width:u,height:w,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Pf(e){return e?parseInt(e,10):0}function HE(e,t){const n=e/t;return isNaN(n)?0:n}function Kf(e){const t=HE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function Qj(e,t,n,i="ltr"){const c=Kf(n),u=c/2,h=t||u,w=c-h,y=n.scrollbar.paddingStart+h,g=n.scrollbar.size-n.scrollbar.paddingEnd-w,b=n.content-n.viewport,E=i==="ltr"?[0,b]:[b*-1,0];return WE([y,g],E)(e)}function o3(e,t,n="ltr"){const i=Kf(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,u=t.scrollbar.size-c,h=t.content-t.viewport,w=u-i,y=n==="ltr"?[0,h]:[h*-1,0],g=wp(e,y);return WE([0,h],[0,w])(g)}function WE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function zE(e,t){return e>0&&e<t}var Jj=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return(function c(){const u={left:e.scrollLeft,top:e.scrollTop},h=n.left!==u.left,w=n.top!==u.top;(h||w)&&t(),n=u,i=window.requestAnimationFrame(c)})(),()=>window.cancelAnimationFrame(i)};function qf(e,t){const n=ui(e),i=M.useRef(0);return M.useEffect(()=>()=>window.clearTimeout(i.current),[]),M.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function ec(e,t){const n=ui(t);fi(()=>{let i=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return c.observe(e),()=>{window.cancelAnimationFrame(i),c.unobserve(e)}}},[e,n])}var eB=ME,tB=kE,nB=UE;function rB({className:e,children:t,...n}){return x.jsxs(eB,{"data-slot":"scroll-area",className:cn("relative",e),...n,children:[x.jsx(tB,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),x.jsx(iB,{}),x.jsx(nB,{})]})}function iB({className:e,orientation:t="vertical",...n}){return x.jsx(LE,{"data-slot":"scroll-area-scrollbar",orientation:t,className:cn("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:x.jsx(VE,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function sB({open:e,onOpenChange:t,parts:n,filaments:i,projectId:c,projectName:u,onAddPart:h}){const w=n.filter(g=>g.projectId!==c),y=g=>{h(g),t(!1)};return x.jsx(al,{open:e,onOpenChange:t,children:x.jsxs(ll,{className:"max-h-[85vh] flex flex-col sm:max-w-[425px]",children:[x.jsxs(cl,{children:[x.jsx(ul,{children:"Add existing part"}),x.jsx(dl,{children:u?`Choose a part to add to "${u}".`:"Choose a part to add to this project."})]}),w.length===0?x.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"All your parts are already in this project, or you have no parts yet. Create a new part instead."}):x.jsx(rB,{className:"flex-1 -mx-6 px-6 max-h-[50vh]",children:x.jsx("ul",{className:"space-y-2 pb-4",children:w.map(g=>{const b=i.find(T=>T.id===g.filamentId),E=new Date(g.printDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return x.jsx("li",{children:x.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-card p-3 hover:bg-accent/50 transition-colors",children:[x.jsx("div",{className:"w-10 h-10 rounded-lg shrink-0 border border-[#E5E5E5] flex items-center justify-center",style:{backgroundColor:(b==null?void 0:b.colorHex)||"#9ca3af"}}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"font-medium text-sm truncate",children:g.name}),x.jsx(Zi,{className:"mt-0.5",children:E})]}),x.jsxs(Ut,{size:"sm",variant:"secondary",className:"shrink-0",onClick:()=>y(g),children:[x.jsx(Qa,{className:"h-4 w-4 mr-1"}),"Add"]})]})},g.id)})})})]})})}function oB(){const{projectId:e}=Fp(),t=ro(),{printedParts:n,filaments:i,projects:c,addPrintedPart:u,updatePrintedPart:h,deletePrintedPart:w,updateProject:y,deleteProject:g}=ga(),[b,E]=M.useState(!1),[T,R]=M.useState(!1),[O,k]=M.useState(null),[F,G]=M.useState(!1),[z,U]=M.useState(!1),Z=c.find(K=>K.id===e),re=n.filter(K=>K.projectId===e),le=re.reduce((K,q)=>K+q.weightUsed,0),P=re.reduce((K,q)=>K+q.printTime,0),L=Math.floor(P/60);if(!Z)return x.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",style:{paddingTop:"env(safe-area-inset-top)"},children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Project not found"}),x.jsx(Ut,{onClick:()=>t("/parts",{state:{view:"projects"}}),children:"Back to parts"})]})});const B=()=>{g(Z.id),U(!1),t("/parts",{state:{view:"projects"}})};return x.jsxs("div",{className:"min-h-screen bg-background",style:{paddingTop:"env(safe-area-inset-top)"},children:[x.jsxs("div",{className:"p-4 space-y-4 max-w-md mx-auto pb-24",children:[x.jsxs("div",{className:"pt-2 flex items-start justify-between gap-3",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx(Ut,{variant:"ghost",size:"icon",className:"shrink-0 -ml-2",onClick:()=>t("/parts",{state:{view:"projects"}}),"aria-label":"Back",children:x.jsx(yf,{className:"h-5 w-5"})}),x.jsx("h1",{className:"text-3xl font-bold truncate",children:Z.name})]}),x.jsxs("p",{className:"text-sm text-muted-foreground",children:[re.length," part",re.length!==1?"s":"",re.length>0&&`  ${le}g used  ${L}h`]})]}),x.jsx(Ut,{variant:"ghost",size:"sm",className:"shrink-0",onClick:()=>G(!0),children:"Edit"})]}),re.length>0?x.jsx("div",{className:"space-y-3 pb-4",children:re.map(K=>{const q=i.find(ee=>ee.id===K.filamentId);return x.jsx(TE,{part:K,filamentName:q==null?void 0:q.name,filamentColor:q==null?void 0:q.colorHex,filamentPrice:q==null?void 0:q.price,filamentTotalWeight:q==null?void 0:q.totalWeight,onEdit:ee=>{k(ee),E(!0)},onDelete:w,onClick:ee=>t(`/parts/${ee.id}`)},K.id)})}):x.jsxs("div",{className:"text-center py-12",children:[x.jsx(PE,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),x.jsx("h3",{className:"font-semibold mb-2",children:"No parts in this project"}),x.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add a part and assign it to this project."}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs(Ut,{onClick:()=>{k(null),E(!0)},children:[x.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Add new part"]}),x.jsx(Ut,{variant:"outline",onClick:()=>R(!0),children:"Add existing part"})]})]}),re.length>0&&x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs(Ut,{className:"w-full",onClick:()=>{k(null),E(!0)},children:[x.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Add new part"]}),x.jsx(Ut,{variant:"outline",onClick:()=>R(!0),children:"Add existing part"})]}),x.jsx(Ut,{variant:"outline",className:"w-full text-destructive border-destructive/50",onClick:()=>U(!0),children:"Delete project"})]}),x.jsx(gg,{open:b,onOpenChange:K=>{E(K),K||k(null)},onSave:K=>{"id"in K?h(K):u({...K,projectId:Z.id}),E(!1),k(null)},editPart:O,defaultProjectId:Z.id}),x.jsx(sB,{open:T,onOpenChange:R,parts:n,filaments:i,projectId:Z.id,projectName:Z.name,onAddPart:K=>h({...K,projectId:Z.id})}),x.jsx(_E,{open:F,onOpenChange:G,onSave:K=>{"id"in K&&y(K)},editProject:Z}),x.jsx(lg,{open:z,onOpenChange:U,children:x.jsxs(cg,{children:[x.jsxs(ug,{children:[x.jsx(fg,{children:"Delete project?"}),x.jsxs(hg,{children:['"',Z.name,'" will be removed. Parts in this project will not be deleted, but they will no longer be linked to a project.']})]}),x.jsxs(dg,{children:[x.jsx(mg,{children:"Cancel"}),x.jsx(pg,{onClick:B,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}var Eg="Progress",bg=100,[aB]=ol(Eg),[lB,cB]=aB(Eg),GE=M.forwardRef((e,t)=>{const{__scopeProgress:n,value:i=null,max:c,getValueLabel:u=uB,...h}=e;(c||c===0)&&!a3(c)&&console.error(dB(`${c}`,"Progress"));const w=a3(c)?c:bg;i!==null&&!l3(i,w)&&console.error(fB(`${i}`,"Progress"));const y=l3(i,w)?i:null,g=Df(y)?u(y,w):void 0;return x.jsx(lB,{scope:n,value:y,max:w,children:x.jsx(An.div,{"aria-valuemax":w,"aria-valuemin":0,"aria-valuenow":Df(y)?y:void 0,"aria-valuetext":g,role:"progressbar","data-state":YE(y,w),"data-value":y??void 0,"data-max":w,...h,ref:t})})});GE.displayName=Eg;var XE="ProgressIndicator",$E=M.forwardRef((e,t)=>{const{__scopeProgress:n,...i}=e,c=cB(XE,n);return x.jsx(An.div,{"data-state":YE(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...i,ref:t})});$E.displayName=XE;function uB(e,t){return`${Math.round(e/t*100)}%`}function YE(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Df(e){return typeof e=="number"}function a3(e){return Df(e)&&!isNaN(e)&&e>0}function l3(e,t){return Df(e)&&!isNaN(e)&&e<=t&&e>=0}function dB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bg}\`.`}function fB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hB=GE,pB=$E;function mB({className:e,value:t,indicatorClassName:n,...i}){return x.jsx(hB,{"data-slot":"progress",className:cn("relative h-2 w-full overflow-hidden rounded-full bg-[#E5E5E5]",e),...i,children:x.jsx(pB,{"data-slot":"progress-indicator",className:cn("bg-primary h-full flex-1 rounded-full transition-all",n),style:{transform:`translateX(-${100-(t||0)}%)`}})})}function R0(e,t,n,i,c){const u=new Map;for(const h of e){const w=t.find(T=>T.id===h.filamentId);if(!w)continue;const y=n(w),g=i(w),b=c==null?void 0:c(w),E=u.get(y);E?E.weight+=h.weightUsed:u.set(y,{weight:h.weightUsed,label:g,colorHex:b})}return Array.from(u.entries()).map(([,h])=>({label:h.label,weight:h.weight,colorHex:h.colorHex})).sort((h,w)=>w.weight-h.weight)}function _0({title:e,items:t,emptyMessage:n,useCircleIcon:i,useMaterialChip:c}){t.reduce((h,w)=>h+w.weight,0);const u=Math.max(...t.map(h=>h.weight),1);return x.jsxs("div",{className:"w-full",children:[x.jsx("h2",{className:"font-semibold mb-3",children:e}),x.jsx(zn,{className:"p-4 w-full max-w-none",children:t.length===0?x.jsx("p",{className:"text-sm text-muted-foreground",children:n}):x.jsx("ul",{className:"space-y-3",children:t.map((h,w)=>x.jsxs("li",{className:"flex flex-col gap-1",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsxs("span",{className:"flex items-center gap-2 min-w-0 flex-1",children:[h.colorHex&&i?x.jsx("span",{className:"shrink-0",style:{color:h.colorHex},children:x.jsx(_p,{className:"h-4 w-4"})}):h.colorHex?x.jsx("span",{className:"shrink-0 w-3 h-3 rounded-full border border-border",style:{backgroundColor:h.colorHex}}):null,x.jsx("span",{className:"text-sm font-medium truncate",children:h.label})]}),x.jsxs("span",{className:"text-sm text-muted-foreground shrink-0",children:[h.weight,"g"]}),c&&x.jsx(Zi,{className:"shrink-0",children:h.label})]}),x.jsx(mB,{value:h.weight/u*100,className:"h-1.5",indicatorClassName:"bg-[#F26D00]"})]},`${h.label}-${w}`))})})]})}function gB({filaments:e}){const t=e.filter(n=>n.favorite);return x.jsxs("div",{className:"w-full",children:[x.jsx("h2",{className:"font-semibold mb-3",children:"Favorite filaments"}),x.jsx(zn,{className:"p-4 w-full max-w-none",children:t.length===0?x.jsx("p",{className:"text-sm text-muted-foreground",children:"No favorites yet. Tap the star on a filament in the Filaments tab to add it here."}):x.jsx("ul",{className:"space-y-3",children:t.map(n=>x.jsxs("li",{className:"flex items-center gap-2 w-full",children:[x.jsx("span",{className:"shrink-0 text-[#F26D00]",children:x.jsx(KC,{active:!0,className:"h-5 w-5"})}),x.jsx("span",{className:"text-sm font-medium truncate min-w-0 flex-1",children:n.manufacturer}),x.jsx(Zi,{className:"shrink-0 ml-auto",children:n.material})]},n.id))})})]})}function xB(){const{filaments:e,printedParts:t}=ga(),n=e.filter(w=>w.favorite),i=R0(t,e,w=>w.manufacturer,w=>w.manufacturer).slice(0,7),c=R0(t,e,w=>w.color,w=>w.color,w=>w.colorHex).slice(0,7),u=R0(t,e,w=>w.material,w=>w.material).slice(0,7),h=n.length>0||i.length>0||c.length>0||u.length>0;return x.jsxs("div",{className:"p-4 space-y-6 max-w-md mx-auto",children:[x.jsxs("div",{className:"pt-2",children:[x.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Stats"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Your favorites and most used brands, colors, and materials"})]}),h?x.jsxs("div",{className:"space-y-6 w-full",children:[x.jsx(gB,{filaments:e}),x.jsx(_0,{title:"Most used brands",items:i,emptyMessage:"No print data yet. Print parts to see brand usage."}),x.jsx(_0,{title:"Most used colors",items:c,emptyMessage:"No print data yet. Print parts to see color usage.",useCircleIcon:!0}),x.jsx(_0,{title:"Most used materials",items:u,emptyMessage:"No print data yet. Print parts to see material usage.",useMaterialChip:!0})]}):x.jsxs("div",{className:"text-center py-12",children:[x.jsx(zC,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),x.jsx("h3",{className:"font-semibold mb-2",children:"No stats yet"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Print parts with your filaments to see most used brands, colors, and materials here."})]})]})}const ZE="/FilTracker/".replace(/\/$/,"");function wB(){const t=hs().pathname.replace(ZE,"")||"/";return t==="/"||t===""?x.jsx(B3,{to:"/",replace:!0}):x.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 gap-4 text-center",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Page not found"}),x.jsx("p",{className:"text-muted-foreground",children:"This page doesnt exist or was moved."}),x.jsx(Ut,{asChild:!0,children:x.jsx(Cu,{to:"/",children:"Go to Dashboard"})})]})}function yB(){return x.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6 gap-4 text-center",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Something went wrong"}),x.jsx("p",{className:"text-muted-foreground",children:"We couldnt load this page."}),x.jsx(Ut,{asChild:!0,children:x.jsx(Cu,{to:"/",children:"Go to Dashboard"})})]})}const vB=fS([{path:"",element:x.jsx(B3,{to:"/",replace:!0})},{path:"/",element:x.jsx(q7,{children:x.jsx(Ub,{})}),errorElement:x.jsx(yB,{}),children:[{index:!0,Component:()=>x.jsx(zd,{children:x.jsx(CM,{})})},{path:"filaments",Component:()=>x.jsx(zd,{children:x.jsx(FL,{})})},{path:"filaments/:id",Component:()=>x.jsx(lj,{})},{path:"parts",Component:()=>x.jsx(zd,{children:x.jsx(Fj,{})})},{path:"parts/project/:projectId",Component:()=>x.jsx(oB,{})},{path:"parts/:id",Component:()=>x.jsx(Hj,{})},{path:"stats",Component:()=>x.jsx(zd,{children:x.jsx(xB,{})})},{path:"*",Component:wB}]}],{basename:ZE,future:{v7_startTransition:!0}});var CB=(e,t,n,i,c,u,h,w)=>{let y=document.documentElement,g=["light","dark"];function b(R){(Array.isArray(e)?e:[e]).forEach(O=>{let k=O==="class",F=k&&u?c.map(G=>u[G]||G):c;k?(y.classList.remove(...F),y.classList.add(u&&u[R]?u[R]:R)):y.setAttribute(O,R)}),E(R)}function E(R){w&&g.includes(R)&&(y.style.colorScheme=R)}function T(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)b(i);else try{let R=localStorage.getItem(t)||n,O=h&&R==="system"?T():R;b(O)}catch{}},EB=M.createContext(void 0),bB={setTheme:e=>{},themes:[]},SB=()=>{var e;return(e=M.useContext(EB))!=null?e:bB};M.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:i,enableColorScheme:c,defaultTheme:u,value:h,themes:w,nonce:y,scriptProps:g})=>{let b=JSON.stringify([n,t,u,e,w,h,i,c]).slice(1,-1);return M.createElement("script",{...g,suppressHydrationWarning:!0,nonce:typeof window>"u"?y:"",dangerouslySetInnerHTML:{__html:`(${CB.toString()})(${b})`}})});const AB=({...e})=>{const{theme:t="system"}=SB();return x.jsx(KS,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function TB(){const[e,t]=M.useState(!1);M.useEffect(()=>{const i=()=>t(!0);return window.addEventListener("pwa-need-refresh",i),()=>window.removeEventListener("pwa-need-refresh",i)},[]);const n=()=>{const i=window.__pwa_update;i?(i(),setTimeout(()=>window.location.reload(),500)):window.location.reload()};return e?x.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300 fixed left-4 right-4 top-0 z-[9999] mx-auto flex max-w-md items-center justify-between gap-2 border border-[#F26D00]/25 bg-orange-50/90 backdrop-blur-sm px-3 shadow-[0_4px_12px_rgba(242,109,0,0.12)] overflow-visible",style:{marginTop:"max(18px, env(safe-area-inset-top, 44px))",marginBottom:18,paddingTop:10,paddingBottom:10,borderRadius:12,borderTopLeftRadius:12,borderTopRightRadius:12,borderBottomLeftRadius:12,borderBottomRightRadius:12},children:[x.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Update available"}),x.jsxs("div",{className:"flex gap-1.5",children:[x.jsx(Ut,{type:"button",variant:"outline",size:"sm",className:"h-8 min-w-[44px] shrink-0 rounded-lg border-gray-200 bg-white px-3 text-xs text-gray-700 hover:bg-gray-50 touch-manipulation",onClick:()=>t(!1),children:"Later"}),x.jsx(Ut,{type:"button",size:"sm",className:"h-8 min-w-[44px] shrink-0 rounded-lg bg-[#F26D00] px-3 text-xs text-white hover:bg-[#e56300] touch-manipulation",onClick:n,children:"Refresh"})]})]}):null}function IB(){return x.jsxs(K7,{children:[x.jsx(Bb,{router:vB}),x.jsx(AB,{}),x.jsx(TB,{})]})}"serviceWorker"in navigator&&z6(async()=>{const{registerSW:e}=await import("./virtual_pwa-register-DGweFikl.js");return{registerSW:e}},[]).then(({registerSW:e})=>{const t=e({onNeedRefresh(){window.dispatchEvent(new CustomEvent("pwa-need-refresh"))},onOfflineReady(){}});window.__pwa_update=t});Q6.createRoot(document.getElementById("root")).render(x.jsx(IB,{}));export{z6 as _};
